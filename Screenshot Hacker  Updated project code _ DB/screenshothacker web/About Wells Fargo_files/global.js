var WF={};$("html").removeClass("no-js");if($("html").attr("class")==""){$("html").removeAttr("class");}WF.Browser={};WF.Component={};WF.Strings={"Components":{"BalloonHelp":{"beginningOfPopup":{"en":"Beginning of popup","es":"Comienzo de ventana emergente"},"endOfPopup":{"en":"End of popup","es":"Fin de ventana emergente"}},"FAQ":{"imgOpen":{"en":"Collapse","es":"Contraer"},"imgClosed":{"en":"Expand","es":"Mostrar"}},"LightboxOverlay":{"closeDialog":{"en":"Close Dialog","es":"Cierre di&aacute;logo"},"errorEncountered":{"en":"Error Encountered","es":"Se ha encontrado un error"},"oneMomentPlease":{"en":"One moment, please...","es":"Espere un momento, por favor..."},"plsWaitGettingInfo":{"en":"Please wait. We're getting your information.","es":"Por favor espere. Estamos buscando su informaci&oacute;n."},"infoCurrUnavail":{"en":"This information is currently unavailable.","es":"En este momento esta informaci&oacute;n no est&aacute; disponible."},"apologizeTryAgain":{"en":"We apologize for this inconvenience. Please try again later.","es":"Lamentamos el inconveniente ocasionado. Vuelva a intentarlo m&aacute;s tarde."}},"MultimediaTranscript":{"more":{"en":"More","es":"M&aacute;s "},"less":{"en":"Less","es":"Menos"}},"ShowHide":{"imgOpen":{"en":"Collapse","es":"Contraer"},"imgClosed":{"en":"Expand","es":"Mostrar"}},"ShowMore":{"noMoreArticles":{"en":"All Articles Displayed","es":"Todos los art&iacute;culos"}},"SocialShare":{"Share":{"en":"Share","es":"Comparta"},"DisclosureHeader":{"en":"share this page","es":"Comparta esta p&aacute;gina"},"DisclosureText":{"en":"Choose a link above.  We provide these links to external websites for your convenience. "+"Wells Fargo does not endorse and is not responsible for their content, links, privacy policies, or security policies.","es":"Seleccione uno de los enlaces electr&oacute;nicos arriba. Para su conveniencia, le proporcionamos estos enlaces electr&oacute;nicos a sitios de Internet externos."+"Wells Fargo no avala ni se hace responsable por el contenido, los enlaces electr&oacute;nicos, las pol&iacute;ticas de privacidad o las pol&iacute;ticas de seguridad de esos "+"sitios de Internet."},"ShareUpfront":{"en":'<a  href="/exit/social?site=facebook" class="c52fb c28aLink" tab-index="0"><span class="jaws_hidden" tab-index="-1">Facebook</span></a>'+'<a href="/exit/social?site=twitter" class="c52twitter c28aLink" tab-index="0"><span class="jaws_hidden" tab-index="-1">Twitter</span></a>',"es":'<a href="/es/exit/social?site=facebook" class="c52fb c28aLink" tab-index="0"><span class="jaws_hidden" tab-index="-1">Facebook</span></a>'+'<a href="/es/exit/social?site=twitter" class="c52twitter c28aLink" tab-index="0"><span class="jaws_hidden" tab-index="-1">Twitter</span></a>'},"Disclosure":{"en":'<span class="hide" tabindex="0">Begin popup</span><h2>Share this page</h2>'+'<ul><li><a href="#linkedin" class="c52linkedin">LinkedIn</a></li>'+'<li><a href="#googleplus" class="c52googleplus">Google+</a></li>'+'<li><a href="#email" class="c52email">Email</a></li></ul>'+"<p>Choose a link above.  We provide these links to external websites for your convenience. "+'Wells Fargo does not endorse and is not responsible for their content, links, privacy policies, or security policies.</p><span class="hide">End popup</span>',"es":'<span class="hide" tabindex="0" lang="en">Begin popup</span><h2>Comparta esta p&aacute;gina</h2>'+'<ul><li><a href="#linkedin" class="c52linkedin">LinkedIn</a></li>'+'<li><a href="#googleplus" class="c52googleplus">Google+</a></li>'+'<li><a href="#email" class="c52email">Email</a></li></ul>'+"<p>Seleccione uno de los enlaces electr&oacute;nicos arriba. Para su conveniencia, le proporcionamos estos enlaces electr&oacute;nicos a sitios de Internet externos."+"Wells Fargo no avala ni se hace responsable por el contenido, los enlaces electr&oacute;nicos, las pol&iacute;ticas de privacidad o las pol&iacute;ticas de seguridad de esos "+'sitios de Internet.</p><span class="hide" lang="en">End popup</span>'},"EmailInsert":{"en":"Hi,\n\nI thought you'd be interested in this page I found on wellsfargo.com: \n\n","es":"Pens&eacute; que podr&iacute;a interesarle esta p&aacute;gina que encontr&eacute; en wellsfargo.com/spanish:"}}},"Shared":{"Trademark":{"Facebook":{"en":"Facebook","es":"Facebook"},"Google":{"en":"Google","es":"Google"},"GooglePlus":{"en":"Google+","es":"Google+"},"Instagram":{"en":"Instagram","es":"Instagram"},"LinkedIn":{"en":"LinkedIn","es":"LinkedIn"},"Pinterest":{"en":"Pinterest","es":"Pinterest"},"Twitter":{"en":"Twitter","es":"Twitter"}},"beginItemNo":{"en":"Begin item #","es":"Comienzo del &iacute;tem #"},"beginningOfPopup":{"en":"Beginning of popup","es":"Comienzo de ventana emergente"},"cancel":{"en":"Cancel","es":"Cancele"},"close":{"en":"Close","es":"Cierre"},"continue":{"en":"Continue","es":"Contin&uacute;e"},"endItemNo":{"en":"End item #","es":"Fin del &iacute;tem #"},"endOfPopup":{"en":"End of popup","es":"Fin de ventana emergente"},"item":{"en":"item","es":"&iacute;tem"},"next":{"en":"Next","es":"Siguiente"},"popupBlocker":{"en":"You may have a popup blocker preventing this window from opening.","es":"Un bloqueador de ventana emergente puede estar evitando que se abra esta ventana."},"prev":{"en":"Previous","es":"Anterior"},"print":{"en":"Print","es":"Imprima"},"WFHomePage":{"en":"Wells Fargo home page","es":"P&aacute;gina principal de Wells Fargo"}}};
(function($){$.fn.touchwipe=function(settings){var config={min_move_x:20,min_move_y:20,wipeLeft:function(e){},wipeRight:function(e){},wipeUp:function(e){},wipeDown:function(e){},preventDefaultEvents:false};if(settings){$.extend(config,settings);}this.each(function(){var startX;var startY;var isMoving=false;function cancelTouch(){this.removeEventListener("touchmove",onTouchMove);startX=null;isMoving=false;}function onTouchMove(e){if(config.preventDefaultEvents){e.preventDefault();}if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startX-x;var dy=startY-y;if(Math.abs(dx)>=config.min_move_x){cancelTouch();if(dx>0){config.wipeLeft(e);}else{config.wipeRight(e);}}else{if(Math.abs(dy)>=config.min_move_y){cancelTouch();if(dy>0){config.wipeUp(e);}else{config.wipeDown(e);}}}}}function onTouchStart(e){if(e.touches.length==1){startX=e.touches[0].pageX;startY=e.touches[0].pageY;isMoving=true;this.addEventListener("touchmove",onTouchMove,false);}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",onTouchStart,false);}});return this;};})(jQuery);
WF.Utils={addUrlParam:function(baseUrl,name,val){var add=name+"="+val;if(baseUrl.indexOf("#")==-1){if(baseUrl.indexOf("?")==-1){return baseUrl+"?"+add;}else{return baseUrl+"&"+add;}}else{if(baseUrl.indexOf("?")==-1){return baseUrl.replace("#","?"+add+"#");}else{return baseUrl.replace("#","&"+add+"#");}}},ajaxLog:function(err){var url="/as/common/jslog";var query={"errorString":err.message,"pageUrl":window.location.href};if(err.fileName){query.jsFileUrl=err.fileName;}else{if(err.sourceURL){query.jsFileUrl=err.sourceURL;}}if(err.stack){var stack=WF.Utils.parseErrorStack(err.stack);if(stack[0]){if(stack[0].name){query.errorFunctionName=stack[0].name;}if(stack[0].line){query.errorLineNumber=stack[0].line;}if(!query.jsFileUrl){query.jsFileUrl=stack[0].url;}if(stack[0].args){query.additionalInfo="arguments: "+stack[0].args;}}if(stack[1]&&stack[1].name){query.callingFunctionName=stack[1].name;}}else{query.errorFunctionName=WF.Utils.getNameFromCallee(arguments.callee.caller);query.callingFunctionName=WF.Utils.getNameFromCallee(arguments.callee.caller.caller);}if(err.line){query.errorLineNumber=err.line;}$.get(url,query);},childWindow:function(theLink){var options={};var defaults={"directories":"no","location":"no","menubar":"no","resizable":"yes","scrollbars":"yes","status":"no","titlebar":"yes","toolbar":"no"};var largeDefaults={"directories":"yes","location":"yes","menubar":"yes","resizable":"yes","scrollbars":"yes","status":"yes","titlebar":"yes","toolbar":"yes"};var smallSize={"width":200,"height":300};var mediumSize={"width":350,"height":500};var largeSize={"width":400,"height":700};var pdfSize={"width":860,"height":700};var linkOptions;if((typeof theLink!=="undefined")&&(theLink.tagName==="A")){linkOptions=$(theLink).attr("data-win-options");switch(linkOptions){case"small":$.extend(options,defaults,smallSize);break;case"large":$.extend(options,largeDefaults,largeSize);break;case"medium":case"":$.extend(options,defaults,mediumSize);break;case"pdf":$.extend(options,largeDefaults,pdfSize);break;default:var customOptions={};try{customOptions=$.parseJSON(linkOptions);}catch(e){customOptions=mediumSize;throw new Error("There was an error parsing the window options. Error reported: "+e.message);}$.extend(options,defaults,customOptions);break;}var win=window.open(theLink.href,"child",WF.Utils.objectToString(options));if(!win){var lang=WF.Page.lang||"en";window.alert(WF.Strings.Shared.popupBlocker[lang]);}return win;}else{throw new Error("WF.Utils.childWindow() requires a reference to a link.");}return null;},convertVarsToNamespaces:function(){var props;if("getOwnPropertyNames" in Object){props=Object.getOwnPropertyNames(window);}else{props=[];for(var prop in window){props.push(prop);}}for(var i=0;i<props.length;i++){if(props[i].search(/__/)>0){var names=props[i].split("__"),parent=window,child;while(names.length>1){child=names.shift();if(!parent[child]){parent[child]={};}parent=parent[child];}parent[names[0]]=window[props[i]];delete window[props[i]];}}},generateUniqueId:function(elem){var id="";while(elem.tagName!="BODY"){id=($(elem).prevAll().length+1)+"_"+id;if(!elem.parentNode){var arr="0123456789abcdef".split("");for(var i=0;i<16;i++){id+=arr[Math.floor(Math.random()*arr.length)];}break;}elem=elem.parentNode;}return"NID"+id.substr(0,id.length-1);},getAnyType:function(thing){if(thing===null){return"null";}else{if(thing instanceof Array){return"array";}else{if(thing instanceof Date){return"date";}else{if(thing instanceof Boolean){return"Boolean";}else{if(thing instanceof jQuery){return"jQuery";}else{if(thing&&thing.nodeType&&thing.nodeType==1){return"HTMLElement";}else{return typeof thing;}}}}}}},getBrowserSupport:function(){var ret={};ret.tel=false;var userAgent=navigator.userAgent;var mobileStrings=["iPhone","Android","BlackBerry","Mobile"];$.each(mobileStrings,function(idx,val){if(new RegExp(val,"i").test(userAgent)){ret.tel=true;return true;}});ret.touch=!!("ontouchstart" in window);return ret;},getLanguage:function(){return document.getElementsByTagName("html")[0].lang;},getClist:function(elem){if(elem.tagName.toUpperCase()=="BODY"){return"";}var clist=$(elem).data("cid")+"~"+$(elem).data("ctid");if(clist.search("undef")!=-1){return WF.Utils.getClist(elem.parentNode);}return clist;},getDimensions:function(elem){return{"width":$(elem).width(),"height":$(elem).height()};},getNameFromCallee:function(callee){var hope=callee.toString().match(/^function (\w*)\(/);if(hope&&hope[1]){return hope[1];}if(callee.toString().search(/^function ?\(/)!=-1){return"[anonymous function]";}return false;},getTasCallData:function(elem,useDisplayed){var ialang=WF.Page.lang||"en";elem=$(elem).get(0);var $elem=$(elem),ret={},slotId,COID;if($elem.prop("tagName").toLowerCase()!="a"){if($(elem).find(".iaRendered").length){elem=$(elem).find(".iaRendered").get(0);}else{elem=$(elem).find("a").get(0);}$elem=$(elem);}else{if(!$elem.data("offerId")&&$elem.parents(".iaRendered").length){elem=$elem.parents(".iaRendered").get(0);$elem=$(elem);}}if(elem.className.search(/^tasRendered/)!=-1){COID=elem.className.replace(/tasRendered/,"");slotId=$elem.find("img").get(0).id;}else{if($elem.data("offerId")){COID=$elem.data("offerId");slotId=$elem.data("slotId");}else{if(useDisplayed){return{"displayed":null};}return null;}}if(useDisplayed){ret.displayed=slotId+":"+COID+":"+ialang;}else{ret.COID=COID;ret.slotId=slotId;ret.language=ialang;}return ret;},getViewportSize:function(){return{"width":$(window).width(),"height":$(window).height()};},getPageTitle:function(){return $("h1.c11").html();},getMediaElementTypeTitle:function(){if($("audio").length>0){$("audio").each(function(index,value){if($(this).closest("div.c51.audio").find("h1").html()!="undefined"){return $(this).closest("div.c51.audio").find("h1").html();}});}if($("video").length>0){$("video").each(function(index,value){if($(this).closest("div.c51").find("h1").html()!="undefined"){return $(this).closest("div.c51").find("h1").html();}});}return $("#title").find("h1").html();},handleVjsMultimediaPlayerEvent:function(evt,player){var eName;var applicationCode="VID";var optData={"data[playerId]":player.id_,"data[interaction]":evt,"data[eventName]":eName,"data[mediaType]":"VID","data[currentTime]":player.currentTime(),"data[remainingTime]":player.duration()-player.currentTime(),"data[duration]":player.duration()};var additionalData={"eventStructure[MediaInteractionCreator]":applicationCode+"_interaction","headerStructure[HeaderCreator]":"header_"+applicationCode};if(evt=="FIRSTPLAY"){eName="Presentment";additionalData={"eventsOrder":[{"ApplvisitCreator":" 1"},{"BrowserCreator":"2"},{"MediaDisplayCreator":"3"},{"MediaPresentmentCreator":"4"},{"CustomertypeCreator":"5"}],"eventStructure[MediaPresentmentCreator]":applicationCode+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[MediaDisplayCreator]":applicationCode+"_Display","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","headerStructure[HeaderCreator]":"header_"+applicationCode};}else{if(evt=="ENDED"){eName="Completion";additionalData={"eventStructure[MediaCompletionCreator]":applicationCode+"_completion","headerStructure[HeaderCreator]":"header_"+applicationCode};}else{if(evt=="PLAY"||evt=="PAUSE"){eName="Interaction";}else{eName="Interaction";}}}$.extend(optData,additionalData);if(!(evt=="PAUSE"&&player.currentTime()==player.duration())){if(evt=="FIRSTPLAY"&&(player.currentTime()!=(player.duration()-player.currentTime()))){return;}else{WF.Utils.logC2tEvent(optData);}}},handleMejsMultimediaPlayerEvent:function(evt,player){var eName;var applicationCode="AUD";var optData={"data[playerId]":player.id_,"data[interaction]":evt,"data[eventName]":eName,"data[mediaType]":"AUD","data[currentTime]":player.currentTime(),"data[remainingTime]":player.duration()-player.currentTime(),"data[duration]":player.duration()};var additionalData={"eventStructure[MediaInteractionCreator]":applicationCode+"_interaction","headerStructure[HeaderCreator]":"header_"+applicationCode};
if(evt=="FIRSTPLAY"){eName="Presentment";additionalData={"eventsOrder":[{"ApplvisitCreator":" 1"},{"BrowserCreator":"2"},{"MediaDisplayCreator":"3"},{"MediaPresentmentCreator":"4"},{"CustomertypeCreator":"5"}],"eventStructure[MediaPresentmentCreator]":applicationCode+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[MediaDisplayCreator]":applicationCode+"_Display","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","headerStructure[HeaderCreator]":"header_"+applicationCode};}else{if(evt=="ENDED"||evt=="ended"){eName="Completion";additionalData={"eventStructure[MediaCompletionCreator]":applicationCode+"_completion","headerStructure[HeaderCreator]":"header_"+applicationCode};}else{if(evt=="PLAY"||evt=="PAUSE"){eName="Interaction";}else{eName="Interaction";}}}$.extend(optData,additionalData);if(!(evt=="PAUSE"&&player.currentTime()==player.duration())){WF.Utils.logC2tEvent(optData);}},logC2tEvent:function(options,callback){var stdOptions={"data[log]":1,"data[pid]":$("#shell").data("pid"),"data[url]":window.location.href,"data[applicationCode]":"MEDIA","data[pageTitle]":"MEDIA_INPUT_PAGE","data[mediaName]":WF.Utils.getMediaElementTypeTitle(),"data[cb]":new Date().valueOf()};var asyncMode=true;var trackInfo=stdOptions;$.extend(trackInfo,options);$.each(trackInfo,function(idx,val){if(typeof val=="string"){trackInfo[idx]=WF.Utils.stripTcm(val);}});if(trackInfo.suppressAsync){asyncMode=false;}delete trackInfo.suppressAsync;$.ajax({url:"/c2tEvents/event",type:"POST",async:asyncMode,data:trackInfo,success:function(data){if(callback!=null){callback();}}});},objectToQueryString:function(obj){return WF.Utils.objectToString(obj,{"fieldSeparator":"&","uriEncode":true});},objectToString:function(obj,options){var defaults={"keyValSeparator":"=","fieldSeparator":",","uriEncode":false,"properJson":false};options=$.extend({},defaults,options);if(options.properJson){options={"properJson":true,"uriEncode":false,"keyValSeparator":":","fieldSeparator":","};}var arr=[],ret,key,val;switch(typeof obj){case"string":case"number":ret=obj;break;case"boolean":ret=new Boolean(obj).toString();break;case"function":ret="function";break;case"undefined":ret="undefined";break;default:if(obj==null){return"null";}if(obj instanceof Array){return"["+obj.toString()+"]";}for(key in obj){if(obj.hasOwnProperty(key)){val=obj[key];if(options.uriEncode){val=encodeURIComponent(val);}if(options.properJson){if(typeof val=="string"){val='"'+val+'"';}if(val instanceof Array){val=$.map(val,function(item,idx){if(typeof item=="string"){item='"'+item+'"';}return item;}).join(",");val="["+val+"]";}arr.push('"'+key+'"'+options.keyValSeparator+val);}else{if(val instanceof Array){val="["+val+"]";}arr.push(key+options.keyValSeparator+val);}}}ret=arr.join(options.fieldSeparator);}if(options.properJson){ret="{"+ret+"}";}return ret;},parseErrorStack:function(stack,errName){var isChrome=(stack.search(/\n +at/)!=-1);stack=stack.replace(/(\d+):\d+\)\n/g,"$1\n");var lines=stack.split(/\n(?: +at )?/);if(isChrome){lines.shift();}var ret=[],funcname;for(var i=0;i<lines.length;i++){var item={};if(isChrome){funcname=lines[i].split(/ /).shift();}else{funcname=lines[i].split(/\@/).shift();}var match=funcname.match(/\((.*)\)$/);if(match){item.args=match[1];funcname=funcname.substr(0,funcname.indexOf("("));}item.name=funcname;item.line=lines[i].split(/:/).pop();lines[i]=lines[i].replace(/:\d+$/,"");item.url=lines[i].split(/[\(@]/).pop();ret.push(item);}return ret;},removeHtmlTags:function(content){if(content===null){return"";}if(content.indexOf("<")!=-1){content=content.slice(0,content.indexOf("<"))+content.slice(content.indexOf(">")+1);content=arguments.callee(content);}content=content.replace(/(^\s+|\s+$)/g,"");return content;},replaceEncodedWhiteListChars:function(str){str=str.replace("&amp;","&");return str;},setDelayedScrollTo:function(elem){elem=$(elem).get(0);if(elem===undefined){return;}setTimeout(function(){elem.scrollIntoView(true);},500);},setImageSrcFromBackground:function(img,code){try{var $img=$(img),bgImgPath=$img.css("background-image"),msg="WF.Utils.setImageSrcFromBackground() couldn't get background-image",imgDesc,parents;if($img.get(0).tagName.toLowerCase()!="img"){return false;}imgDesc="IMG";if($img.attr("class")){imgDesc+="."+$img.attr("class");}if(bgImgPath=="none"){if(code){msg+=';\ncalled from codepoint "'+code+'"';}parents=$.map($img.parents(),function(elem){elem=$(elem).get(0);if(elem.tagName=="INPUT"){return elem.tagName+"["+elem.type+"]."+elem.className;}ret=elem.tagName;if(elem.id!=""){ret+="#"+elem.id;}if(elem.className!=""){ret+="."+elem.className;}return ret;}).reverse().join(" > ");parents+=" > "+imgDesc;msg+=";\nDOM chain: "+parents;WF.Utils.ajaxLog({"message":msg});return false;}bgImgPath=bgImgPath.replace(/['"]?\)$/,"");bgImgPath=bgImgPath.replace(/^url\(['"']?/,"");$img.attr("src",bgImgPath);return true;}catch(err){WF.Utils.ajaxLog(err);return false;}},stripTcm:function(str){return str.replace(/(^|\~)tcm:/g,"$1");},trackTas:function(tasData,callback){if(typeof tasInfo=="undefined"||!tasInfo){return false;}if(tasData.displayed===null||tasData.displayed==="null"){return false;}var stdOptions={"App_ID":tasInfo.App_ID,"pageID":tasInfo.pageID,"pageUrl":window.location.href,"RequestType":"Click"};var asyncMode=true,destinationUrl=tasInfo.Url,trackInfo=stdOptions;$.extend(trackInfo,tasData);if(trackInfo.suppressAsync){asyncMode=false;}if(trackInfo.destinationUrl){destinationUrl=trackInfo.destinationUrl;}delete trackInfo.suppressAsync;if(trackInfo.RequestType=="Click"&&tasInfo.deviceType){trackInfo.deviceType=tasInfo.deviceType;}delete trackInfo.destinationUrl;tasData.App_ID=tasInfo.App_ID;tasData.pageID=tasInfo.pageID;$.ajax({url:destinationUrl,type:"POST",async:asyncMode,data:trackInfo,success:function(){if(callback!=null){callback();}}});},trackVS:function(options,callback){var stdOptions={"log":1,"pid":$("#shell").data("pid"),"pageUrl":window.location.href,"cb":new Date().valueOf()};var asyncMode=true;var trackInfo=stdOptions;$.extend(trackInfo,options);$.each(trackInfo,function(idx,val){if(typeof val=="string"){trackInfo[idx]=WF.Utils.stripTcm(val);}});if(trackInfo.suppressAsync){asyncMode=false;}delete trackInfo.suppressAsync;$.ajax({url:"/assets/images/global/s.gif",type:"GET",async:asyncMode,data:trackInfo,success:function(){if(callback!=null){callback();}}});},ucfirst:function(str){var first=str.substr(0,1);var rest=str.substr(1);return first.toUpperCase()+rest.toLowerCase();},untaintAndParse:function(str){if(str.substr(0,100).search(/for *\(;;/)==-1){WF.Utils.ajaxLog({"message":"Expected JSON result but got: "+str.substr(0,100)+"..."});return str;}try{str=str.replace(/^\s*for *\(;;\) *;?\s*/,"");str=str.replace(/^\s*\/\*\s*\w+%\s+\{/,"{").replace(/\}\s+%\w+\s*\*\/\s*$/,"}");return jQuery.parseJSON(str);}catch(err){WF.Utils.ajaxLog(err);}},fireC2TonLoadEvents:function(applicationCode){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"PresentmentCreator":"1"},{"ApplvisitCreator":" 2"},{"BrowserCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[PresentmentCreator]":applicationCode+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","eventStructure[FormdisplayCreator]":applicationCode+"_Display","headerStructure[HeaderCreator]":"header_"+applicationCode,};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPConLoadEvents:function(applicationCode,subproduct){if(subproduct=="Home Equity"){subproduct="HomeEquity";}var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"PresentmentCreator":"1"},{"ApplvisitCreator":" 2"},{"BrowserCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[PresentmentCreator]":applicationCode+"_"+subproduct+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","eventStructure[FormdisplayCreator]":applicationCode+"_Display","headerStructure[HeaderCreator]":"header_"+applicationCode,};
WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TDAConLoadEvents:function(applicationCode,subproduct,productCode,referrer){var stdOptions={"log":1,"url":window.location.href,"data[productCode]":productCode,"data[referrer]":referrer,"eventsOrder":[{"DACPresentmentCreator":"1"},{"ApplvisitCreator":" 2"},{"BrowserCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[DACPresentmentCreator]":applicationCode+"_"+subproduct+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_"+subproduct+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_"+subproduct+"_browser","eventStructure[CustomertypeCreator]":applicationCode+"_"+subproduct+"_customertype","eventStructure[FormdisplayCreator]":applicationCode+"_"+subproduct+"_Display","headerStructure[HeaderCreator]":"header_"+subproduct+"_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TformonLoadEvent:function(formId,product,subproduct){var applicationCode="CUF";var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ApplvisitCreator":"1"},{"BrowserCreator":"2"},{"CUFFormApplstartCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[CUFFormApplstartCreator]":applicationCode+"_applstart","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","eventStructure[FormdisplayCreator]":formId+"_Display","headerStructure[CUFHeaderCreator]":"header_"+formId,"data[pageID]":formId,"data[product]":product,"data[subProduct]":subproduct,"data[headerIdentifer]":"header_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TConsiderationEvent:function(applicationCode,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[ConsiderationCreator]":applicationCode+"_Consideration","eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPCConsiderationEvent:function(applicationCode,subproduct,clickName,clickType){if(subproduct=="Home Equity"){subproduct="HomeEquity";}var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","eventStructure[ConsiderationCreator]":applicationCode+"_"+subproduct+"_Consideration","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TDACConsiderationEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+subproduct+"_"+clickType+"_Click","eventStructure[ConsiderationCreator]":applicationCode+"_"+subproduct+"_Consideration","headerStructure[HeaderCreator]":"header_"+subproduct+"_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TCompletionEvent:function(applicationCode,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","eventStructure[CompletionCreator]":applicationCode+"_Completion","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPCCompletionEvent:function(applicationCode,subproduct,clickName,clickType){if(subproduct=="Home Equity"){subproduct="HomeEquity";}var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","eventStructure[CompletionCreator]":applicationCode+"_"+subproduct+"_Completion","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TDACCompletionEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+subproduct+"_"+clickType+"_Click","eventStructure[CompletionCreator]":applicationCode+"_"+subproduct+"_Completion","headerStructure[HeaderCreator]":"header_"+subproduct+"_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TPCTCompletionEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+subproduct+"_Click","eventStructure[CompletionCreator]":applicationCode+"_"+subproduct+"_Completion","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TPCTConsiderationEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+subproduct+"_Click","eventStructure[ConsiderationCreator]":applicationCode+"_"+subproduct+"_Consideration","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TInteractionEvent:function(applicationCode,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[InteractionCreator]":applicationCode+"_Interaction","eventStructure[ClickCreator]":applicationCode+"_"+clickType+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TMROConsiderationEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":" 1"}],"eventStructure[ConsiderationCreator]":applicationCode+"_"+subproduct+"_Consideration","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TMROCompletionEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":" 1"}],"eventStructure[CompletionCreator]":applicationCode+"_"+subproduct+"_Completion","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TMROInteractionEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"}],"eventStructure[InteractionCreator]":applicationCode+"_"+subproduct+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TMROUserErrorEvent:function(applicationCode,subproduct,hasError,invalidField,inputValues){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"MROUsererrorCreator":"1"}],"eventStructure[MROUsererrorCreator]":applicationCode+"_"+subproduct+"_UserError","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[hasError]":hasError};
Array.prototype.forEach.call(invalidField,function(element){stdOptions["data["+element+"_error]"]=true;});Array.prototype.forEach.call(inputValues.split("&"),function(element){element=decodeURIComponent(element);stdOptions["data["+element.split("=")[0]+"]"]=element.split("=")[1];});WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPCUserErrorEvent1:function(applicationCode,product,subProduct,loanPurpose,homeValue,downPayment,loanAmount,hasError,downPayment_error,homeValue_error,propertyLoc_Error,propertyState,propertyCounty){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"},{"HMRPCUsererrorCreator":"3"}],"eventStructure[ClickCreator]":applicationCode+"_BUTTON_Click","eventStructure[HMRPCUsererrorCreator]":applicationCode+"_UserError","eventStructure[InteractionCreator]":applicationCode+"_"+loanPurpose+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[product]":product,"data[subProduct]":subProduct,"data[clickType]":"BUTTON","data[clickItemName]":"Calculate","data[submitButton]":"Calculate","data[loanPurpose]":loanPurpose,"data[homeValue]":homeValue,"data[downPayment]":downPayment,"data[loanAmount]":loanAmount,"data[hasError]":hasError,"data[downPayment_error]":downPayment_error,"data[homeValue_error]":homeValue_error,"data[propertyLoc_Error]":propertyLoc_Error,"data[state]":propertyState,"data[county]":propertyCounty,"data[creditScore_error]":creditScore_error,"data[creditScore]":creditScore};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TDACUserErrorEvent:function(applicationCode,subproduct,hasError,invalidField,inputValues){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"DACUsererrorCreator":"1"}],"eventStructure[DACUsererrorCreator]":applicationCode+"_"+subproduct+"_UserError","headerStructure[HeaderCreator]":"header_"+subproduct+"_"+applicationCode,"data[hasError]":hasError};Array.prototype.forEach.call(invalidField,function(element){stdOptions["data["+element+"_error]"]=true;});Array.prototype.forEach.call(inputValues.split("&"),function(element){stdOptions["data["+element.split("=")[0]+"]"]=element.split("=")[1];});WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPCUserErrorEvent2:function(applicationCode,product,subProduct,loanPurpose,homeValue,loanAmount,hasError,loanAmount_error,homeValue_error,propertyLoc_Error,propertyState,propertyCounty,creditScore_error,creditScore){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"},{"HMRPCUsererrorCreator":"3"}],"eventStructure[ClickCreator]":applicationCode+"_BUTTON_Click","eventStructure[HMRPCUsererrorCreator]":applicationCode+"_UserError","eventStructure[InteractionCreator]":applicationCode+"_"+loanPurpose+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[product]":product,"data[subProduct]":subProduct,"data[clickType]":"BUTTON","data[clickItemName]":"Calculate","data[submitButton]":"Calculate","data[loanPurpose]":loanPurpose,"data[homeValue]":homeValue,"data[loanAmount]":loanAmount,"data[hasError]":hasError,"data[loanAmount_error]":loanAmount_error,"data[homeValue_error]":homeValue_error,"data[propertyLoc_Error]":propertyLoc_Error,"data[state]":propertyState,"data[county]":propertyCounty,"data[creditScore_error]":creditScore_error,"data[creditScore]":creditScore};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2THMRPCUserErrorEvent3:function(applicationCode,product,subProduct,loanPurpose,homeValue,mortgageBalance,loanAmount,hasError,mortgageBalance_error,loanAmount_error,homeValue_error,propertyLoc_Error,propertyState,propertyCounty,creditScore_error,creditScore){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"},{"HMRPCUsererrorCreator":"3"}],"eventStructure[ClickCreator]":applicationCode+"_BUTTON_Click","eventStructure[HMRPCUsererrorCreator]":applicationCode+"_UserError","eventStructure[InteractionCreator]":applicationCode+"_"+loanPurpose+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[product]":product,"data[subProduct]":subProduct,"data[clickType]":"BUTTON","data[clickItemName]":"Calculate","data[submitButton]":"Calculate","data[loanPurpose]":loanPurpose,"data[homeValue]":homeValue,"data[mortgageBalance]":mortgageBalance,"data[loanAmount]":loanAmount,"data[hasError]":hasError,"data[mortgageBalance_error]":mortgageBalance_error,"data[homeValue_error]":homeValue_error,"data[loanAmount_error]":loanAmount_error,"data[propertyLoc_Error]":propertyLoc_Error,"data[state]":propertyState,"data[county]":propertyCounty,"data[creditScore_error]":creditScore_error,"data[creditScore]":creditScore};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TALRFUserErrorEvent:function(applicationCode,product,subProduct,currentbalance,cashNeeded,interest,payments,hasError,currentbalance_error,cashNeeded_error,interest_error){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"},{"ALRFUsererrorCreator":"3"}],"eventStructure[ClickCreator]":applicationCode+"_BUTTON_Click","eventStructure[ALRFUsererrorCreator]":applicationCode+"_UserError","eventStructure[InteractionCreator]":applicationCode+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[product]":product,"data[subProduct]":subProduct,"data[clickType]":"BUTTON","data[clickItemName]":"Calculate","data[submitButton]":"Calculate","data[currentbalance]":currentbalance,"data[cashNeeded]":cashNeeded,"data[interest]":interest,"data[payments]":payments,"data[hasError]":hasError,"data[currentbalance_error]":currentbalance_error,"data[cashNeeded_error]":cashNeeded_error,"data[interest_error]":interest_error};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TALRFFormDataSubmitEvent:function(applicationCode,product,subProduct,currentbalance,cashNeeded,interest,payments,hasError,currentbalance_error,cashNeeded_error,interest_error){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"InteractionCreator":" 1"},{"ClickCreator":"2"},{"ALRFFormSubmitCreator":"3"}],"eventStructure[ClickCreator]":applicationCode+"_BUTTON_Click","eventStructure[ALRFFormSubmitCreator]":applicationCode+"_Submit","eventStructure[InteractionCreator]":applicationCode+"_Interaction","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[product]":product,"data[subProduct]":subProduct,"data[clickType]":"BUTTON","data[clickItemName]":"Calculate","data[submitButton]":"Calculate","data[currentbalance]":currentbalance,"data[cashNeeded]":cashNeeded,"data[interest]":interest,"data[payments]":payments,"data[hasError]":hasError,"data[currentbalance_error]":currentbalance_error,"data[cashNeeded_error]":cashNeeded_error,"data[interest_error]":interest_error};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TAuthenticateEvent:function(applicationCode,subproduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"AuthenticateCreator":" 1"}],"eventStructure[AuthenticateCreator]":applicationCode+"_"+subproduct,"headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},logC2TtoolEvent:function(toolsData){$.ajax({url:"/c2tEvents/event",type:"POST",data:toolsData});},fireC2TShareWidgetEvent:function(applicationCode,obj){if(!$(obj).hasClass("c52Link")){var linkType="";if($(obj).hasClass("c7")){linkType="BUTTON";}else{linkType="LINK";}var clickItemName=$(obj).html();if($(obj).hasClass("c52fb")){clickItemName="Facebook";}else{if($(obj).hasClass("c52twitter")){clickItemName="Twitter";}}WF.Utils.fireC2TConsiderationEvent(applicationCode,clickItemName,linkType);}},toolPresentmentEvent:function(applicationCode,logicalPageTitle,product,subProduct){var stdOptions={"log":1,"url":window.location.href,"eventName":"Presentment","applicationCode":applicationCode,"logicalPageTitle":logicalPageTitle,"cb":new Date().valueOf(),"product":product,"subProduct":subProduct};
WF.Utils.logC2TtoolEvent(stdOptions);},toolConsiderationEvent:function(applicationCode,logicalPageTitle,product,subProduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventName":"Consideration","applicationCode":applicationCode,"logicalPageTitle":logicalPageTitle,"product":product,"subProduct":subProduct,"cb":new Date().valueOf(),"clickType":clickType,"clickItemName":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},toolInteractionEvent:function(applicationCode,logicalPageTitle,product,subProduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventName":"Interaction","applicationCode":applicationCode,"logicalPageTitle":logicalPageTitle,"cb":new Date().valueOf(),"product":product,"subProduct":subProduct,"clickType":clickType,"clickItemName":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},toolCompletionEvent:function(applicationCode,logicalPageTitle,product,subProduct,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventName":"Completion","applicationCode":applicationCode,"logicalPageTitle":logicalPageTitle,"cb":new Date().valueOf(),"product":product,"subProduct":subProduct,"clickType":clickType,"clickItemName":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},FormPresentmentEvent:function(applicationCode,formId,logicalPageTitle,product,subProduct){var stdOptions={"log":1,"url":window.location.href,"eventName":"ApplStart",formId:formId,"applicationCode":applicationCode,"logicalPageTitle":logicalPageTitle,"cb":new Date().valueOf(),"product":product,"subProduct":subProduct,"clickType":"","clickItemName":""};WF.Utils.logC2TFormEvent(stdOptions);},fireBrowserAndApplVisitOnLoadEvents:function(applicationCode){var stdOptions={"log":1,"url":window.location.href,"data[referrer]":document.referrer,"data[headerIdentifer]":"header_"+applicationCode,"headerStructure[CUFHeaderCreator]":"header_"+applicationCode,"eventsOrder":[{"ApplvisitCreator":"1"},{"BrowserCreator":"2"}],"eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser"};WF.Utils.logC2TtoolEvent(stdOptions);},fireBrowserAppVisitAppStartDisplayAndCustTypeOnLoadCUFEvents:function(applicationCode,pageIdentifier){var stdOptions={"log":1,"url":window.location.href,"applicationCode":applicationCode,"data[referrer]":document.referrer,"data[pageID]":applicationCode,"data[headerIdentifer]":"header_"+applicationCode,"headerStructure[CUFHeaderCreator]":"header_"+applicationCode,"eventStructure[ApplvisitCreator]":pageIdentifier+"_applvisit","eventStructure[BrowserCreator]":pageIdentifier+"_browser","eventStructure[CustomertypeCreator]":pageIdentifier+"_customertype","eventStructure[FormdisplayCreator]":pageIdentifier+"_display","eventStructure[ApplstartCreator]":pageIdentifier+"_applstart"};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TClickEvent:function(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode){var stdOptions={"url":window.location.href,"eventStructure[ClickCreator]":pageIdentifier+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName,"data[clickPurposeName]":clickPurposeName,"data[product]":productCode,"data[subProduct]":subProductCode};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TClickCUFEvent:function(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode){var stdOptions={"url":window.location.href,"applicationCode":applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName,"data[clickPurposeName]":clickPurposeName,"data[product]":productCode,"data[subProduct]":subProductCode,"data[pageID]":applicationCode,"data[headerIdentifer]":"header_"+applicationCode,"headerStructure[CUFHeaderCreator]":"header_"+applicationCode,"eventStructure[ClickCreator]":pageIdentifier+"_Click"};WF.Utils.logC2TtoolEvent(stdOptions);},fireOnLoadEventsForTools:function(applicationCode,pageIdentifier){var stdOptions={"log":1,"url":window.location.href,"data[referrer]":document.referrer,"applicationCode":applicationCode,"eventsOrder":[{"PresentmentCreator":"1"},{"ApplvisitCreator":" 2"},{"BrowserCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[PresentmentCreator]":pageIdentifier+"_presentment","eventStructure[ApplvisitCreator]":pageIdentifier+"_applvisit","eventStructure[BrowserCreator]":pageIdentifier+"_browser","eventStructure[CustomertypeCreator]":pageIdentifier+"_customertype","eventStructure[FormdisplayCreator]":pageIdentifier+"_Display","headerStructure[HeaderCreator]":"header_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);},fireAppVisitAndBrowserOnLoadEventsForTools:function(applicationCode,pageIdentifier){var stdOptions={"log":1,"url":window.location.href,"applicationCode":applicationCode,"data[referrer]":document.referrer,"eventsOrder":[{"ApplvisitCreator":"1"},{"BrowserCreator":"2"}],"eventStructure[ApplvisitCreator]":pageIdentifier+"_applvisit","eventStructure[BrowserCreator]":pageIdentifier+"_browser","headerStructure[HeaderCreator]":"header_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);},logC2TFormEvent:function(formData){$.ajax({url:"/c2tEvents/form",type:"POST",data:formData});},fireC2TELPonLoadEvents:function(applicationCode,pageName,referrer){var stdOptions={"log":1,"url":window.location.href,"data[pageName]":pageName,"data[referrer]":referrer,"eventsOrder":[{"PresentmentCreator":"1"},{"ApplvisitCreator":" 2"},{"BrowserCreator":"3"},{"CustomertypeCreator":"4"}],"eventStructure[PresentmentCreator]":applicationCode+"_"+pageName+"_presentment","eventStructure[ApplvisitCreator]":applicationCode+"_"+pageName+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_"+pageName+"_browser","eventStructure[CustomertypeCreator]":applicationCode+"_"+pageName+"_customertype","headerStructure[HeaderCreator]":"header_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TELPConsiderationEvent:function(applicationCode,pageName,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ConsiderationCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[ConsiderationCreator]":applicationCode+"_"+pageName+"_Consideration","eventStructure[ClickCreator]":applicationCode+"_"+pageName+"_"+clickName+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TELPCompletionEvent:function(applicationCode,pageName,clickName,clickType){var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"CompletionCreator":"1"},{"ClickCreator":"2"}],"eventStructure[ClickCreator]":applicationCode+"_"+pageName+"_"+clickName+"_Click","eventStructure[CompletionCreator]":applicationCode+"_"+pageName+"_Completion","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName};WF.Utils.logC2TtoolEvent(stdOptions);},fireC2TonLoadFormEvent:function(formId,product,subproduct){var applicationCode="CUF";var stdOptions={"log":1,"url":window.location.href,"eventsOrder":[{"ApplvisitCreator":"1"},{"BrowserCreator":" 2"},{"CUFFormApplstartCreator":"3"},{"CustomertypeCreator":"4"},{"FormdisplayCreator":"5"}],"eventStructure[ApplvisitCreator]":applicationCode+"_applvisit","eventStructure[BrowserCreator]":applicationCode+"_browser","eventStructure[CUFFormApplstartCreator]":applicationCode+"_applstart","eventStructure[CustomertypeCreator]":applicationCode+"_customertype","eventStructure[FormdisplayCreator]":formId+"_Display","headerStructure[CUFHeaderCreator]":"header_"+formId,"data[pageID]":formId,"data[product]":product,"data[subProduct]":subproduct,"data[headerIdentifer]":"header_"+applicationCode};WF.Utils.logC2TtoolEvent(stdOptions);}};
var childWindow=null;WF.OnLoads={doAll:function(root){if(typeof root=="undefined"){root=$("body");}$.each(WF.OnLoads,function(name){if(name!="doAll"&&typeof WF.OnLoads[name]=="function"){try{WF.OnLoads[name](root);}catch(err){WF.Utils.ajaxLog(err);}}});},initLiveChat:function(root){window.clickChat="true";$(".c90-column.c90-liveChat").each(function(){$(".c90 .c90-columns").append($(this).show());});var liveChat={};liveChat.chatWindow=null;liveChat.chatParameters={};liveChat.postChatAttributes=true;liveChat.intervalCount=0;$(root).on("click",".live-chat-link",function(event){window.clickChat="false";event.preventDefault();var userAgentString=window.navigator.userAgent.indexOf("Trident");var href=$(this).attr("href");var domainRegex=/^((?:https?:\/\/)?(?:www\.)?([^\/]+))/i;var domain=domainRegex.exec(href)[0];liveChat.writeIframeIfRequired=function(){if(userAgentString!=-1&&liveChat.postChatAttributes){var iframe=document.createElement("iframe");iframe.src=domain+"/system/web/view/live/customer/storeparams.html";iframe.style.display="none";iframe.name="egainChatDomainFrame";iframe.id="egainChatDomainFrame";document.body.appendChild(iframe);var messageCustom=liveChat.chatParameters;localStorage.setItem("chatParameters",messageCustom);}};liveChat.chatParameters=$(".live-chat-link").data("chat-params");liveChat.chatParameters.eGainChatIdentifier=true;liveChat.writeIframeIfRequired();if(liveChat.chatWindow!=null&&liveChat.chatWindow.closed==false){liveChat.chatWindow.focus();return;}else{liveChat.chatWindow=window.open(href,"","scrollbars=yes,toolbar=no,resizable=yes,width=348,height=548");}if(userAgentString!=-1&&liveChat.postChatAttributes){var win=document.getElementById("egainChatDomainFrame");win.contentWindow.postMessage(JSON.stringify(liveChat.chatParameters),domain);}if(userAgentString==-1&&liveChat.postChatAttributes){var message=liveChat.chatParameters;var messagePostInterval=setInterval(function(){liveChat.intervalCount++;liveChat.chatWindow.postMessage(message,domain);if(liveChat.intervalCount>=30){clearInterval(messagePostInterval);}},1000);window.addEventListener("message",function(event){if(event.origin!=domain){return;}else{if(event.data.chatParametersReceived){clearInterval(messagePostInterval);}}},false);}});},initVideoChildWindows:function(root){var childWindoWidth,childWindoHeight;if(navigator.userAgent.indexOf("MSIE")!=-1){var detectIEregexp=/MSIE (\d+\.\d+);/;}else{var detectIEregexp=/Trident.*rv[ :]*(\d+\.\d+)/;}if(detectIEregexp.test(navigator.userAgent)){childWindoWidth="476";childWindoHeight="426";}else{var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(isSafari){if(screen.width==1280&&screen.height==800){childWindoWidth="480";childWindoHeight="475";}else{if(screen.width==1920&&screen.height==1080){childWindoWidth="480";childWindoHeight="453";}else{if(screen.width==1440&&screen.height==900){childWindoWidth="480";childWindoHeight="452";}else{childWindoWidth="480";childWindoHeight="430";}}}}else{childWindoWidth="480";childWindoHeight="430";}}$(root).find("a.videoChatWindow").on("keypress click",function(e){if((childWindow==null)||(childWindow.closed)){if(e.which==13){window.parent.reload(false);}childWindow=window.open($(this).attr("href"),"Video Chat","directories=no,menubar=no,scrollbars=no,location=no,status=no,titlebar=yes,toolbar=no,dialog=yes,resizable=no, width= "+childWindoWidth+", height= "+childWindoHeight);childWindow.focus();}else{childWindow.focus();}return false;});},customEvents:function(){$(document).on("resizePage",function(){});},apply3rdPartyLinkTracking:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find("a[href^='http']").each(function(){if(this.href.search(/^https?:\/\/(www\.)?wellsfargo\.com\//)==-1){var clist=WF.Utils.getClist(this);$(this).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":evt.type,"eventDescription":"outsideDomain","destinationUrl":this.href,"linkText":$(this).text(),"clist":clist});if(evt.type=="keypress"){window.location.href=this.href;evt.preventDefault();}});}});},applyRotTracking:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find("a.rot").click(function(e){var _this=$(this),curr=new Date(),time=curr.valueOf(),rotsrc="//adfarm.mediaplex.com/ad/tr/7892-155493-3840-0?mpt="+time+"&mpre=https%3A//adfarm.mediaplex.com/ad/ck/"+_this.attr("data-rotTracking")+"%3Fmpro%3Dhttps%3A//www.wellsfargo.com/assets/images/global/s.gif%3F"+time,timer=window.setTimeout(function(){document.location.href=_this.attr("href");},4000);if(!document.getElementById("rottracker")){$("body").append('<img id="rottracker" src="'+rotsrc+'" style="width:0;height:0;line-height:0"/>');$("#rottracker").ready(function(){window.clearTimeout(timer);timer=null;document.location.href=_this.attr("href");});}else{$("#rottracker").attr("src",rotsrc);}e.preventDefault();});},applySyllabusTracking:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find("ul.c49nav a").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}var clist=WF.Utils.getClist(this);var pos=$(this).closest(".c49").parent().children(".sideUtility").attr("class");pos=$.trim(pos.replace(/sideUtility/,""));WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":evt.type,"eventDescription":"syllabusLink","destinationUrl":this.href,"position":WF.Utils.ucfirst(pos),"clist":clist});if(evt.type=="keypress"){evt.preventDefault();window.location.href=this.href;}});},applyTasV2Tracking:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".iaRendered").each(function(){var iaLang=WF.Page.lang||"en";this.elem=this;var $el=$(this);var offerId=$el.data("offerId"),slotId=$el.data("slotId"),$cta=$el.find(".c7, .c13, .c22");if($cta.length==0){return true;}if($cta.length>1){$cta=$cta[0];}var postData={"pageURL":"https://www.wellsfargo.com/Clickthrough","RequestType":"Click","COID":offerId,"App_ID":tasInfo.App_ID,"slotId":slotId,"pageID":tasInfo.pageID,"language":iaLang};if(tasInfo.deviceType){postData.deviceType=tasInfo.deviceType;}$cta.bind("click",function(evt){$.ajax({url:tasInfo.Url,type:"POST",async:false,data:postData});});});if($(root).find(".iaRendered").length==$(root).find(".iaRendered.cmsDefault").length&&$(root).find(".iaRendered").length>0){$.ajax({url:"/assets/images/global/s.gif",type:"GET",data:{"Log":1,"Program":"EventReporting","Event":"IADefaultOffer","Page":window.location.pathname+window.location.search,"cb":new Date().valueOf()}});}},applyTourTracking:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c61 a").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}var clist=WF.Utils.getClist(this);var dir=WF.Utils.ucfirst($(this).text());var pos=($(this).closest("#contentBottom").length)?"Bottom":"Top";WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":evt.type,"eventDescription":"TourNavLink","destinationUrl":this.href,"direction":dir,"position":pos,"clist":clist});if(evt.type=="keypress"){window.location.href=this.href;evt.preventDefault();}});},applyTelephoneStyling:function(root){if(typeof root=="undefined"){root=$("body");}if(WF.Browser.supports.tel){$(root).find(".c12").each(function(){var url=this.innerHTML.replace(/\D/g,"");if(url.length==10){url="1"+url;}this.innerHTML='<a href="tel:+'+url+'">'+this.innerHTML+"</a>";});}else{$(root).find(".c12").each(function(){this.innerHTML="<strong>"+this.innerHTML+"</strong>";});}},fixExploreYourWay:function(root){var pid=$("#shell").data("pid");if(!pid){return;}pid=pid.replace(/^tcm:/,"");$(root).find(".c82").find("a.c82tile").each(function(){if($(this).data("targetId").replace(/^tcm:/,"")==pid){var newDiv=$('<div class="c82tile">');$(this).after(newDiv);$(this).children().each(function(){$(this).clone(true).appendTo(newDiv);});$(this).remove();}});},fixSkipNavLinks:function(root){if(typeof root=="undefined"){root=$("body");
}$(root).find('a[href="#skip"]').each(function(){$(this).click(function(){$($("#skip")[0]).focus();});});},numberFootnotes:function(root){if(typeof root=="undefined"){root=$("body");}$(root).find('.c20body[data-numbered="true"]').each(function(){var cid=$(this).data("cid");if(WF.Page.Components.Footnotes[cid]){if($(this).find(".c20no").length===0){$(this).prepend('<span class="c20no">'+WF.Page.Components.Footnotes[cid]+".</span>");$(this).attr("data-no",WF.Page.Components.Footnotes[cid]);}}else{if($("body").find('sup.c20ref[data-footnote="'+cid+'"]').length==0){$(this).remove();return;}WF.Page.Components.Footnotes.last++;WF.Page.Components.Footnotes[cid]=WF.Page.Components.Footnotes.last;if($(this).find(".c20no").length===0){$(this).prepend('<span class="c20no">'+WF.Page.Components.Footnotes.last+".</span>");$(this).attr("data-no",WF.Page.Components.Footnotes.last);}}});$(root).find("sup.c20ref").each(function(key){var footnote=$('.c20body[data-cid="'+$(this).attr("data-footnote")+'"]');if(footnote[0]){$(this).text(footnote.attr("data-no"));}});},preventFraming:function(){if(self!=top){if(top.location.hostname.search(/wellsfargo.com$/)!=-1&&top.location.pathname.search(/\bDashboard\b/)!=-1&&top.location.pathname.search(/\bCME\b/)!=-1){return true;}var tlh=top.location.hostname;if(tlh.search(/\.wellsfargo\.com$/)){tlh=tlh.replace(/\.wellsfargo\.com$/,"");if(tlh.search(/^(dev|cte|slsi|oxi)-(wfadvisors|investing|wfawellstrade)$/)!=-1||tlh.search(/^(dev|cte|sls|ox)-(wfadvisors|investing|wfawellstrade)broker$/)!=-1||tlh.search(/^(wfadvisors|investing|wfawellstrade)$/)!=-1||tlh.search(/^(dev-m\.|cte-m\.|slsi-m-|oxi-m-)(wfadvisors|investing|wfawellstrade)(broker)?$/)!=-1||tlh.search(/^m\.(wfadvisors|investing|wfawellstrade)(broker)?$/)!=-1){return true;}}if(location.replace){top.location.replace(window.location.href);}else{top.location=window.location.href;}}},setupAudioComponents:function(root){if(typeof root=="undefined"){root=$("body");}$(".c51 video").each(function(){var vid=videojs(this.id);var posterAlt=$(this).attr("alt");vid.volume(0.8);$(this).attr("preload","metadata");$(this).next("img.vjs-poster").attr("alt",posterAlt);if($(this).closest(".c51.audio").length){return;}setTimeout(function SetupVideoAnalytics(){vid.volume(1);var events=["PLAY","PAUSE","ENDED"];$.each(events,function setupVideoEvt(idx,evt){vid.on(evt.toLowerCase(),function(){WF.Utils.handleVjsMultimediaPlayerEvent(evt,vid);});});WF.Utils.handleVjsMultimediaPlayerEvent("FIRSTPLAY",vid);},100);});$(".c51 .audioMediaTag").each(function(){var aud=videojs(this.id);var events=["PLAY","PAUSE","ENDED"];$.each(events,function setupVideoEvt(idx,evt){aud.on(evt.toLowerCase(),function(){WF.Utils.handleMejsMultimediaPlayerEvent(evt,aud);});});WF.Utils.handleMejsMultimediaPlayerEvent("FIRSTPLAY",aud);});},setupBackLink:function(root){$(root).find("a.backLink").click(function(e){history.go(-1);e.preventDefault();});},setupMultimediaTranscripts:function(root){if(typeof root=="undefined"){root=$("body");}var getFirstPart=function(html,limit){if(isNaN(limit)){limit=150;}if(limit>html.length){return html;}var stack=[],count=0,ret="",chr,tmp;var getFirstFromHtml=function(what){var localRet;if(typeof what=="string"){localRet=html.substr(0,html.indexOf(what)+what.length);html=html.substr(html.indexOf(what)+what.length);}else{if(typeof what=="number"){localRet=html.substr(0,what);html=html.substr(what);}else{if(what instanceof RegExp){var match=what.exec(html);if(match){localRet=html.substr(0,match[0].length);html=html.substr(match[0].length);}else{localRet="";}}}}return localRet;};var transferFromHtml=function(what){var localRet=getFirstFromHtml(what);ret+=localRet;return localRet;};while(count<=limit){chr=getFirstFromHtml(1);if(chr.search(/\s/)!=-1){ret+=chr;}else{if(chr=="<"){ret+=chr;if(html.substr(0,1)=="/"){tmp=transferFromHtml(">");tmp=tmp.substr(1,tmp.length-2);if(stack[stack.length-1]==tmp){stack.pop();}}else{tmp=transferFromHtml(/^[a-zA-Z]+/);stack.push(tmp);transferFromHtml(">");}}else{count++;ret+=chr;}}}transferFromHtml(/[a-zA-Z0-9_-]+/);ret+="&hellip;";for(var i=stack.length-1;i>=0;i--){ret+="</"+stack[i]+">";}return ret;};$(root).find(".c51transcript, .c63transcript").each(function(){var jq=$(this);var justH2=jq.html().match(/^\s{0,50}<h2>[^\>]+<\/h2>/i);if(justH2){justH2=justH2[0];}else{justH2="";}var afterH2=jq.html().substr(justH2.length);var teaser=getFirstPart(afterH2);var clist=WF.Utils.getClist(this);if(teaser==afterH2){jq.parent().find("noscript").remove();return;}jq.html(justH2+'<div class="teaser">'+teaser+'<a href="#" class="moreLess more">'+WF.Strings.Components.MultimediaTranscript.more[WF.Page.lang]+'</a></div><div class="fullText"><a href="#" class="moreLess less">'+WF.Strings.Components.MultimediaTranscript.less[WF.Page.lang]+"</a>"+afterH2+"</div>");jq.find("a.less").click(function(evt){jq.addClass("closed");jq.removeClass("open");$(document).trigger("resizePage");var applicationCode="VID";if(jq.parent().hasClass(".audio")){applicationCode="AUD";}WF.Utils.logC2tEvent({"data[eventName]":"TranscriptsActivated","data[transcriptsOn]":false,"data[mediaType]":applicationCode,"data[eventType]":evt.type,"data[eventDescription]":"TranscriptLessLink","data[clist]":clist,"eventStructure[MediaTranscriptsActivatedCreator]":applicationCode+"_TranscriptsActivated","headerStructure[HeaderCreator]":"header_"+applicationCode});evt.preventDefault();});jq.find("a.more").click(function(evt){jq.addClass("open");jq.removeClass("closed");$(document).trigger("resizePage");WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"TranscriptMoreLink","clist":clist});var applicationCode="VID";if(jq.parent().hasClass(".audio")){applicationCode="AUD";}WF.Utils.logC2tEvent({"data[eventName]":"TranscriptsActivated","data[transcriptsOn]":true,"data[mediaType]":applicationCode,"data[eventType]":evt.type,"data[eventDescription]":"TranscriptMoreLink","data[clist]":clist,"eventStructure[MediaTranscriptsActivatedCreator]":applicationCode+"_TranscriptsActivated","headerStructure[HeaderCreator]":"header_"+applicationCode});evt.preventDefault();});if($.fn.touchwipe){jq.touchwipe({wipeDown:function(){jq.addClass("open");jq.removeClass("closed");evt.preventDefault();},wipeUp:function(){jq.addClass("closed");jq.removeClass("open");evt.preventDefault();}});}jq.addClass("closed");jq.parent().find("noscript").remove();});},setupPdfLink:function(root){$(root).find('a[data-pdf="true"]').bind("click",function(e){$(this).attr("data-win-options","pdf");WF.Utils.childWindow(this);e.preventDefault();});},setupPrintLink:function(root){$(root).find("a.printLink").click(function(e){window.print();e.preventDefault();});},setupMarqueeContainerHeight:function(root){$(root).find(".c3.type7").each(function(mIdx,marquee){var _marquee=$(marquee);_marquee.find(".marqueecontainer").each(function(mcIdx,marqueeContainer){var _marqueeContainerHeight=$(marqueeContainer).height();if(_marqueeContainerHeight>215){_marquee.css("margin-bottom",(_marqueeContainerHeight-215)+"px");}});});},showCtaVideoCall:function(root){var ctaElem=$("#ctaVideoCall");var CtaVideoFlag=sessionStorage.getItem("CtaVideoFlag");$("#videocall_cta, #videocall_link ,#ctaCallNowBtn a, #ctaNotNowBtn").click(function(){ctaElem.remove();sessionStorage.setItem("CtaVideoFlag","clickVideoCta");});if(typeof(ctaElem)!="undefined"&&ctaElem!=null&&CtaVideoFlag==null){setTimeout(function(){ctaElem.removeClass("ctaVideoCallNoDisplay").addClass("ctaVideoCallEnableDisplay");ctaElem.focus();},3000);}},setupSpanishToggleFinEd:function(root){$(".spToggle").click(function(e){e.preventDefault();var _this=this,altUrl="";if(WF.Page.lang=="en"){altUrl="/es"+location.pathname;}else{altUrl=location.pathname.slice(location.pathname.indexOf("es")+2);}if($("#c29link00").length==0){$.ajax({url:altUrl,type:"GET",statusCode:{404:function(){e.preventDefault();$(_this).attr("id","c29link00");var balloon=new WF.Component.BalloonHelp(_this);balloon.elem.click();},200:function(){document.location.href=altUrl;
}}});}});},setupSpanishToggle:function(root){$(".spTogglePersonal").click(function(e){e.preventDefault();e.stopPropagation();var _this=this,altUrl="";if(WF.Page.lang=="en"){altUrl="/es"+location.pathname;}else{altUrl=location.pathname.slice(location.pathname.indexOf("es")+2);}$.ajax({url:altUrl,type:"GET",statusCode:{404:function(){var strURL=_this.toString();var redirectFlag=0;if(strURL.indexOf("spanish/biz")!=-1){redirectFlag=1;}if(WF.Page.lang=="en"&&redirectFlag==0){altUrl="/spanish";}else{if(WF.Page.lang=="en"&&redirectFlag==1){altUrl="/spanish/biz";}else{altUrl="/";}}document.location.href=altUrl;},200:function(){document.location.href=altUrl;}}});});},displayBrowserDetectionMessage:function(){if($("#browserUpgradeMessagePanel").length===1){var browserDetectionMessagePanel=$("#browserUpgradeMessagePanel").detach();$("#shell").prepend(browserDetectionMessagePanel);browserDetectionMessagePanel.show();browserDetectionMessagePanel.attr("aria-hidden","false");WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":"autoload","eventDescription":"DisplayBrowserInfoMessage","clist":"tcm:182-47775-16~tcm:91-2049-32"});browserDetectionMessagePanel.find("#browserUpgradeMessageClose > a").on("click",function(evt){browserDetectionMessagePanel.hide();browserDetectionMessagePanel.attr("aria-hidden","true");evt.preventDefault();evt.stopPropagation();});browserDetectionMessagePanel.find("a.browserSupportLink").on("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":evt.type,"eventDescription":"ClickSupportedBrowserLink","destinationUrl":this.href,"linkText":$(this).text(),"clist":"tcm:182-47775-16~tcm:91-2049-32"});if(evt.type=="keypress"){window.location.href=this.href;evt.preventDefault();evt.stopPropagation();}});}},marketDataCarousel:function(root){if(typeof root=="undefined"){root=$("body");}var slickClass="marketDataCarousel";var shimClass="wf_carousel_clickshim";$(root).find("."+slickClass).each(function(index,item){var carouselId="marketcarousel"+index;this.id=carouselId;$(this).slick({accessibility:true,animateArrows:true,alwaysShowArrows:false,arrows:true,autoplay:false,autoplaySpeed:2000,centerMode:false,currentSlideMessage:"You Are Here",dots:true,dotsClass:"slick-dots",dotName:"dotButton"+carouselId,dotType:"button",draggable:false,fade:false,focusOnSelect:false,infinite:true,maxSlideHeightClassName:"carouselSlide",onceThroughEnabled:true,pauseOnHover:true,peekaboo:false,slidesToShow:1,slidesToScroll:1,showArrowsOnInteract:true,slideItemClass:"carouselSlide",speed:400,stopAutoPlayEnabled:true,useMaxHeight:true,adaptiveHeight:true});});},c86Container:function(root){if(typeof root=="undefined"){root=$("body");}var slickClass="c86Container";$(root).find("."+slickClass).each(function(index,item){var carouselId="c86carousel"+index;this.id=carouselId;var slideMsg;if($("html").attr("lang")=="es"){slideMsg="Usted está aquí";}else{slideMsg="You Are Here";}$(this).slick({accessibility:true,animateArrows:false,alwaysShowArrows:true,arrows:true,autoplay:true,autoplaySpeed:7000,centerMode:false,currentSlideMessage:slideMsg,dots:true,dotsClass:"slick-dots",dotName:"dotClick dotButton"+carouselId,dotType:"button",draggable:true,elementName:$(this).attr("class"),fade:false,focusOnSelect:true,infinite:true,onceThroughEnabled:true,maxSlideHeightClassName:"contentArea",pauseOnHover:true,slidesToShow:1,slidesToScroll:1,showArrowsOnInteract:false,slideItemClass:"carouselSlide",speed:500,stopAutoPlayEnabled:false,useMaxHeight:false,callbacks:[{callOn:"load",fn:function(slick,event){var clist=WF.Utils.getClist(slick.$slider.get(0));WF.Utils.trackVS({"event":"PageLoad","eventDescription":"DisplayLargeCarouselItem","clist":clist});}},{callOn:"changeSlide",fn:function(slick,event){var activeElem=$(event.target);var elemName;if($(activeElem).hasClass("slick-prev")){elemName="LeftPaddle";}else{if($(activeElem).hasClass("slick-next")){elemName="RightPaddle";}else{}}if(typeof slick.prevSlide!="undefined"&&slick.currentSlide==slick.prevSlide){return;}if(event.type=="autoplay"){event.type="autoload";}if(event.type=="goto"){event.type="autoload";}if(event.type=="touchend"){event.type="swipe";}var incomingFrame=slick.$slides[slick.currentSlide],clist=WF.Utils.getClist(incomingFrame);var tipNum=slick.currentSlide+1;WF.Utils.trackVS({"event":"LinkActivated","eventDescription":"DisplayLargeCarouselItem","eventType":event.type,"elementActivated":elemName,"tipNumber":tipNum,"clist":clist});slick.prevSlide=slick.currentSlide;}}]}).on("click",function(e){var activeElem=$(e.target);if($(activeElem).hasClass("slick-prev")||$(activeElem).hasClass("slick-next")||$(activeElem).hasClass("dotClick")){$(this).slick("slickPause");}});});}};$(document).ready(function(){WF.Browser.supports=WF.Utils.getBrowserSupport();WF.OnLoads.doAll();});WF.OnLoads.selectLoanCTA=function(){$("input[name=subProductCode]").on("click",function(){$(".autoLoanApply").find(".buttonBar").find("#c28lastFocusable").removeAttr("disabled").removeClass("faded");});$(".autoLoanApply").find(".buttonBar").find("#c28lastFocusable").on("click",function(){var code=$("input:radio[name='subProductCode']:checked").val();if(code=="SVN"){var url="/auto-loans/finance/specialty-vehicle-financing-options/";window.location.href=url;}else{var url="/wf/product/apply?prodSet=APP2K&prodCode=AUTO-"+code;window.location.href=url;}});};
WF.Page={"lang":$("html").attr("lang")||"en","Components":{getByType:function(type){switch(type){case"c29":case"BalloonHelp":return this.BalloonHelps;break;case"CTA":return this.CTAs;break;case"c58":case"FAQ":return this.FAQs;break;case"c28a":case"LightBox":return this.LightBoxes;break;case"c28b":case"Overlay":return this.Overlays;break;case"c16":case"ShowHide":return this.ShowHides;break;case"c26":case"Tip":return this.Tips;break;default:return[];}},"BalloonHelps":[],"Carousels":[],"CTAs":[],"FAQs":[],"FatNav":false,"Footnotes":{"last":0},"LightBoxes":[],"Overlays":[],"RibbonCarousels":[],"ShowHides":[],"Tips":[]}};
WF.Component.Carousel=function(el,options){if(!el.id){el.id=WF.Utils.generateUniqueId(el);}var self=this;var stdOptions={"autostart":false,"autoloop":false,"frameRate":8000,"loop":true,"paddles":"dynamic","speed":500,"componentType":"Carousel"};if(!options){options={};}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}if(options.paddles=="dynamic"){if(WF.Browser.supports&&WF.Browser.supports.touch){options.paddles="off";}if($("html").hasClass("ie7")){options.paddles="on";}}options.width=$(el).width();options.padding=$(el).css("padding-left");var timer,curFrame,incomingFrame;this.elem=el;this.id="Carousel_"+el.id;this.start=function(){timer=setInterval(function(){self.next(false,{"event":"LinkActivated","eventType":"autoload","eventDescription":evtDesc});},options.frameRate);};this.stop=function(){clearInterval(timer);};this.pause=function(){this.stop();};this.next=function(human,track){if(human){clearInterval(timer);}var showing=curFrame;var opts={dir:"right"};if(showing>=bodies.length){if(!options.loop){return;}showing=1;}else{showing++;}if(track){if(options.componentType=="Tip"){track.clist=WF.Utils.getClist(el);track.tipNumber=showing;}else{track.clist=WF.Utils.getClist(bodies[showing-1]);}WF.Utils.trackVS(track);}this.showFrame(showing,opts);if(showing==1&&!options.autoloop&&!human){clearInterval(timer);}};this.prev=function(human,track){if(human){clearInterval(timer);}var showing=curFrame;var opts={dir:"left"};if(showing<=1){if(!options.loop){return;}showing=bodies.length;}else{showing--;}if(track){if(options.componentType=="Tip"){track.clist=WF.Utils.getClist(el);track.tipNumber=showing;}else{track.clist=WF.Utils.getClist(bodies[showing-1]);}WF.Utils.trackVS(track);}this.showFrame(showing,opts);};this.copyFrame=function(from,to){to.html(from.html());$.each(["cid","ctid","presentation"],function(i,val){to.data(val,from.data(val));});};this.showFrame=function(num,opts){if(num==curFrame){return;}var incFrame=$(el).find(".carouselFrame.item"+num);self.copyFrame(incFrame,incomingFrame);var animOpts={queue:false,left:0};var plusWidth=options.width+"px";var minusWidth="-"+options.width+"px";if(opts.dir=="left"){incomingFrame.css("left",minusWidth);}else{if(opts.dir=="right"){incomingFrame.css("left",plusWidth);}else{if(num>curFrame){incomingFrame.css("left",plusWidth);}else{incomingFrame.css("left",minusWidth);}}}incomingFrame.show();$(el).find(".controls a").removeClass("current").removeAttr("tabindex");incomingFrame.animate(animOpts,options.speed,"swing",function(){incomingFrame.hide();$(el).find(".carouselFrame:visible").attr("aria-hidden","true").hide();incFrame.attr("aria-hidden","false").show();$(el).find(".controls a.show"+num).addClass("current").attr("tabindex",-1);});if(opts.stopAutoplay){self.stop();}if(options.componentType=="Marquee"&&num!=1){var tasCallData=WF.Utils.getTasCallData(incomingFrame,true);if(tasCallData){tasCallData.RequestType="ServeConfirm";WF.Utils.trackTas(tasCallData);}}curFrame=num;};this.count=function(){return bodies.length;};var evtDesc;switch(options.componentType){case"Marquee":case"MarqueeCarousel":evtDesc="DisplayMarqueeCarouselItem";break;case"Small":case"SmallCarousel":evtDesc="DisplaySmallCarouselItem";break;case"Tip":default:evtDesc="DisplayTip";}var clist=WF.Utils.getClist(el);var bodies=$(el).find(".carouselFrame, .c26body");$.each(bodies,function(idx,body){body=$(body);body.addClass("item"+(idx+1));});if(bodies.length>1){incomingFrame=$('<div class="carouselFrame incomingFrame"/>');incomingFrame.attr("aria-hidden","true");$(el).append(incomingFrame);var controls=$('<div class="controls"/>');for(var i=1;i<=bodies.length;i++){$(bodies[i-1]).prepend($('<span class="hidden">'+WF.Strings.Shared.beginItemNo[WF.Page.lang]+i+"</span>"));$(bodies[i-1]).append($('<span class="hidden">'+WF.Strings.Shared.endItemNo[WF.Page.lang]+i+"</span>"));var dot=$('<a href="#'+el.id+"_frame"+i+'" class="show'+i+'">&bull;<span class="hidden">'+WF.Strings.Shared.item[WF.Page.lang]+" "+i+"</span></a>");dot.bind("click keypress",function(evt){var num=this.className.match(/show(\d+)/)[1];if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":evtDesc,"clist":clist,"tipNumber":num,"elementActivated":"Bottom"});if(evt.type=="keypress"){evt.preventDefault();self.showFrame(this.className.replace(/\D/g,""),{stopAutoplay:true});}});$(controls).append(dot);if(i==1){$(controls).find(".show"+i).addClass("current").attr("tabindex",-1);}$(controls).find(".show"+i).click(function(evt){evt.preventDefault();self.showFrame(this.className.replace(/\D/g,""),{stopAutoplay:true});});$(bodies[i-1]).attr("aria-hidden","true").hide();if($.fn.touchwipe){$(bodies[i-1]).touchwipe({wipeLeft:function(evt){evt.preventDefault();self.next(true);},wipeRight:function(evt){evt.preventDefault();self.prev(true);}});}}$(el).append(controls);if(options.paddles!="off"){var paddles=$('<div id="constructingPaddles">'),paddle1=$('<div class="paddles"/>'),paddle2=$('<div class="paddles"/>'),link1=$("<a/>"),link2=$("<a/>"),img1=$("<img/>"),img2=$("<img/>");paddles.append(paddle1);paddles.append(paddle2);var setTabindex=false;if(options.paddles=="on"){paddles.find(".paddles").addClass("alwaysOn");}else{setTabindex=true;setInterval(function(){if(paddle1.find("a.left").css("left")=="-27px"){paddle1.css("visibility","hidden").attr("aria-hidden","true");paddle2.css("visibility","hidden").attr("aria-hidden","true");}else{paddle1.css("visibility","visible").attr("aria-hidden","false");paddle2.css("visibility","visible").attr("aria-hidden","false");}},10);}link1.attr({"href":"#"+el.id+"_prevFrame","class":"left"});if(setTabindex){link1.attr("tabindex",-1);}img1.attr("alt",WF.Strings.Shared.prev[WF.Page.lang]);paddle1.append(link1);link1.append(img1);link2.attr({"href":"#"+el.id+"_nextFrame","class":"right"});if(setTabindex){link2.attr("tabindex",-1);}img2.attr("alt",WF.Strings.Shared.next[WF.Page.lang]);paddle2.append(link2);link2.append(img2);paddles.find("a").mouseover(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/grey/,"blue");}).mouseout(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/blue/,"grey");});paddles.find(".left").data("vsObj",{"event":"LinkActivated","eventDescription":evtDesc,"clist":clist,"elementActivated":"LeftPaddle"});paddles.find(".left").click(function(evt){evt.preventDefault();self.prev(true,$.extend($(this).data("vsObj"),{eventType:evt.type}));});paddles.find(".left").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}if(evt.type=="keypress"){evt.preventDefault();self.prev(true,$.extend($(this).data("vsObj"),{eventType:evt.type}));}});paddles.find(".right").data("vsObj",{"event":"LinkActivated","eventDescription":evtDesc,"clist":clist,"elementActivated":"RightPaddle"});paddles.find(".right").click(function(evt){evt.preventDefault();self.next(true,$.extend($(this).data("vsObj"),{eventType:evt.type}));});paddles.find(".right").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}if(evt.type=="keypress"){evt.preventDefault();self.next(true,$.extend($(this).data("vsObj"),{eventType:evt.type}));}});$(el).prepend(paddle1);$(el).append(paddle2);WF.Utils.setImageSrcFromBackground(img1,"10Carousel 387; img1");WF.Utils.setImageSrcFromBackground(img2,"10Carousel 388; img2");}$(el).find(".carouselFrame.item1").show();incomingFrame.hide();curFrame=1;if(options.autostart){this.start();}}else{$(bodies[0]).show();}if(options.componentType.substr(0,5)=="Small"){clist=WF.Utils.getClist(bodies[0]);}WF.Utils.trackVS({"event":"PageLoad","eventDescription":evtDesc,"clist":clist});if(options&&options.componentType=="Tip"){WF.Page.Components.Tips.push(this);}WF.Page.Components.Carousels.push(this);return this;};WF.OnLoads.setupCarousels=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c26").each(function(){new WF.Component.Carousel(this,{componentType:"Tip",autostart:true});
});$(root).find(".c3wrapper").each(function(){new WF.Component.Carousel(this,{componentType:"Marquee",paddles:"off",autostart:true,speed:800});});$(root).find(".c64main").each(function(){new WF.Component.Carousel(this,{componentType:"Small",paddles:"on",autostart:true});});};
WF.Component.CTA=function(el){if(!el.id){el.id=WF.Utils.generateUniqueId(el);}this.elem=el;this.id="CTA_"+el.id;var clist=WF.Utils.getClist(el);$(el).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"CTAText","destinationUrl":this.href,"linkText":$.trim($(this).text()),"clist":clist,"presentation":$(this).data("presentation"),"suppressAsync":true});if(evt.type==="keypress"&&typeof(this.href)!=="undefined"){evt.preventDefault();window.location.href=this.href;}});WF.Page.Components.CTAs.push(this);return this;};WF.OnLoads.setupCTAs=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c7, .c13, .c22, .c85 .c85btn").each(function(){new WF.Component.CTA(this);});};
WF.Component.LightBox=function(trigger,options){if(!trigger.id){trigger.id=WF.Utils.generateUniqueId(trigger);}this.elem=trigger;this.id="LightBox_"+trigger.id;this.version="1.0.1";var self=this;var cache="",contentContainer=$("<div/>"),darkBackdrop=$("#c28backdrop"),defaultHeight=500,defaultWidth=722,destPid="",dimensions={},dir="",exitHeightAdjust=190,exitWidthAdjust=0,fadeTime=300,helperDialog=$("<div/>"),mainContainer=$("#c28lightbox"),margin=50,maxHeight=500,maxWidth=722,showHideSpeed=600,stdHeightAdjust=39,stdWidthAdjust=0,targetPageExtraJs=[],timer,videoWidth=775;var stdOptions={pleaseWaitDelay:1500,timeout:10000,onTimeout:false,postInit:false,beforeOpenFunc:false,afterCloseFunc:false,disableCache:false,isExit:false,isQuiz:false,exitPageDestination:"",noCloseButton:false,showPrintIcon:false,url:"",method:"GET",parameters:{}};this.addDialogCloseButton=function(){helperDialog.append('<div class="closeButton"><a href="#" class="c7 utilitybtn" role="button">'+WF.Strings.Components.LightboxOverlay.closeDialog[WF.Page.lang]+"</a></div>");helperDialog.find(".c7").click(function(evt){evt.preventDefault();helperDialog.fadeOut(fadeTime,function(){helperDialog.remove();});});};this.addLightboxEvents=function(){mainContainer.find("a.c28close, a.c28cancel").click(function(evt){evt.preventDefault();self.hide();});mainContainer.keydown(function(evt){if(evt.keyCode==27){self.hide();}});$(window).resize(function(){self.positionLightbox();});};this.createLightboxHtml=function(content,titleAndSubhead,evt){mainContainer.unbind().empty();var topContainer=$("<div/>").addClass("c28topContainer");topContainer.appendTo(mainContainer);if(options.noCloseButton===false){var closeButton=$("<img/>").attr({"alt":WF.Strings.Shared.close[WF.Page.lang],"role":"button"});topContainer.html('<a class="c28close" id="c28close" href="#"></a>');topContainer.find("a").append(closeButton);WF.Utils.setImageSrcFromBackground(closeButton,"12Lightbox 85; closeButton");}var topFocus=$("<span/>").attr({"id":"c28topFocus","class":"hidden","tabindex":0});topFocus.focus(function(evt){if(dir=="back"){$("#c28bottomFocus").get(0).focus();}else{$("#c28close").focus();}}).prependTo(mainContainer);$("#c28close").focus(function(){dir="back";});contentContainer.addClass("c28contentContainer");contentContainer.html(content).appendTo(mainContainer);if(options.isExit){topContainer.addClass("exitPage");var exitLogo=$("<img/>").attr({"alt":WF.Strings.Shared.WFHomePage[WF.Page.lang],"id":"exitLogo"});topContainer.append(exitLogo);WF.Utils.setImageSrcFromBackground(exitLogo,"12Lightbox 109; exitLogo");mainContainer.append($('<div class="c28bottomButtons"><a href="#" class="c28close">'+WF.Strings.Shared.cancel[WF.Page.lang]+'</a><a href="'+options.exitUrl+'" class="c7 utilitybtn" role="button">'+WF.Strings.Shared["continue"][WF.Page.lang]+"</a></div>"));var $actionButton=mainContainer.find(".c28bottomButtons").find("a.c7");$actionButton.attr("target","_blank");$actionButton.bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"suppressAsync":true,"event":"LinkActivated","eventType":evt.type,"eventDescription":"exitPageContinue","destinationUrl":this.href});});if(options.exitPageDestination){$actionButton.attr("href",options.exitPageDestination);$actionButton.attr("target","_blank");}mainContainer.find(".c28bottomButtons").find("a.c28cancel").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"exitPageCancel"});if(evt.type=="keypress"){self.hide();evt.preventDefault();}});$(".c28bottomButtons").find("a.c7").attr("id","c28lastFocusable");}else{topContainer.removeClass("exitPage");var heightAdj="";if(options.isQuiz){stdHeightAdjust+=12;}if(titleAndSubhead.title){topContainer.append("<h2>"+titleAndSubhead.title+"</h2>");heightAdj+="Title";}if(titleAndSubhead.subhead){topContainer.append("<h3>"+titleAndSubhead.subhead+"</h3>");heightAdj+="Subhead";}if(options.showPrintIcon){topContainer.append($('<a href="javascript:window.print();" class="c28print">'+WF.Strings.Shared.print[WF.Page.lang]+"</a>"));heightAdj+="Print";}switch(heightAdj){case"Title":case"TitlePrint":stdHeightAdjust+=18;break;case"TitleSubhead":case"TitleSubheadPrint":stdHeightAdjust+=38;break;case"Print":stdHeightAdjust+=14;break;}var btmFocus=mainContainer.find("a, input, select");if(btmFocus.length){btmFocus=$(btmFocus[btmFocus.length-1]);}else{btmFocus=topContainer.find("a.c28print");}btmFocus.attr("id","c28lastFocusable");}var bottomFocus=$("<span/>").attr({"id":"c28bottomFocus","class":"hidden","tabindex":0});bottomFocus.focus(function(evt){if(dir=="back"){contentContainer.get(0).focus();}else{$("#c28topFocus").get(0).focus();}}).appendTo(mainContainer);$("#c28lastFocusable").focus(function(){dir="forward";});self.setLightboxSizes();self.addLightboxEvents();$.each(targetPageExtraJs,function(i,src){$("body").append($('<script src="'+src+'"><\/script>'));});cache=mainContainer.contents().clone(true);self.show(evt);};this.createLoadingDialogHtml=function(){helperDialog.html("").attr("class","c28loading");helperDialog.append("<h2>"+WF.Strings.Components.LightboxOverlay.oneMomentPlease[WF.Page.lang]+"</h2>");var loadingImg=$('<img class="loadImg"/>');helperDialog.append(loadingImg);helperDialog.append(WF.Strings.Components.LightboxOverlay.plsWaitGettingInfo[WF.Page.lang]);$("body").append(helperDialog);WF.Utils.setImageSrcFromBackground(loadingImg,"12Lightbox 204; loadingImg");};this.doTimeout=function(){helperDialog.html("<h2>"+WF.Strings.Components.LightboxOverlay.infoCurrUnavail[WF.Page.lang]+"</h2>").addClass("timeout");helperDialog.append("<p>"+WF.Strings.Components.LightboxOverlay.apologizeTryAgain[WF.Page.lang]+"</p>");self.addDialogCloseButton();helperDialog.fadeIn(fadeTime);};this.getContentRegion=function(data){data="<div>"+data+"</div>";var content=$(data).find("#content");if(content.length){if(content.hasClass(".exitPageContent")){options.isExit=true;}}else{content=$(data).find(".exitPageContent");if(content.length){options.isExit=true;}}if(!content.length){content=$(data).find(".mainContentCol:first");}if(content.find(".Onquiz").length){options.isQuiz=true;}return content;};this.getContentTrackingData=function(data){data="<div>"+data+"</div>";var pid=$(data).find("#shell").data("pid");var ptid=$(data).find("#shell").data("ptid");return pid+"~"+ptid;};this.getDimensions=function(html){var ret={width:0,height:0};var match;html="<div>"+html+"</div>";var node=$(html).find("#shell");if(node.length){if(node.data("lightboxWidth")&&node.data("lightboxHeight")){ret.width=node.data("lightboxWidth");ret.height=node.data("lightboxHeight");}else{match=node.attr("class").match(/\b(\d\d\d?\d?)x(\d\d\d?\d?)\b/);if(match){ret.width=parseInt(match[1],10);ret.height=parseInt(match[2],10);}}}if(!ret.width){$.each(["#content",".exitPageContent",".mainContentCol:first"],function(i,css){node=$(html).find(css);if(node.length&&node.attr("class")){match=node.attr("class").match(/\b(\d\d\d?\d?)x(\d\d\d?\d?)\b/);if(match){ret.width=parseInt(match[1],10);ret.height=parseInt(match[2],10);return false;}}});}if(!ret.width){ret={width:defaultWidth,height:defaultHeight};}if(ret.width>maxWidth){ret.width=maxWidth;}if(ret.height>maxHeight){ret.height=maxHeight;}if($(html).find(".c51").not(".audio").length){ret.width=videoWidth;}return ret;};this.getExitPageUrl=function(html){html="<div>"+html+"</div>";var link=$(html).find(".t7buttons a.c7");if(link.length){return link.attr("href");}link=$(html).find('a.c7:contains("'+WF.Strings.Shared["continue"][WF.Page.lang]+'")');if(link.length){return link.attr("href");}return"";};this.getOptionsFromTrigger=function(){if($(trigger).hasClass("c28cLink")){options.isExit=true;}if(trigger.tagName.toLowerCase()=="a"){if(trigger.href.indexOf("?")!=-1){options.url=trigger.href.substr(0,trigger.href.indexOf("?"));var params=trigger.href.substr(trigger.href.indexOf("?")+1);params=params.split(/&(?:amp;)?/);
$.each(params,function(idx,param){var p=param.split("=");options.parameters[p[0]]=p[1];});}else{options.url=trigger.href;}}if($(trigger).data("lightboxOptions")){var dataOpts=$(trigger).data("lightboxOptions");if(typeof dataOpts=="string"){dataOpts=JSON.parse(dataOpts);}$.extend(true,options,dataOpts);}};this.getTitleAndSubhead=function(data){data="<div>"+data+"</div>";var ret={"title":"","subhead":""};if(options.isQuiz){return ret;}ret.title=$(data).find("h1.c11").text();ret.subhead=$(data).find("p.subhead").text();return ret;};this.handleAjaxResponse=function(data,evt){var content=self.getContentRegion(data);self.populateTargetPageExtraJs(data);destPid=self.getContentTrackingData(data);var titleAndSubhead=self.getTitleAndSubhead(data);dimensions=self.getDimensions(data);options.showPrintIcon=false;if(options.isExit){options.exitUrl=self.getExitPageUrl(data);}else{if(self.hasContentPrintOption(data)){options.showPrintIcon=true;}}self.createLightboxHtml(content,titleAndSubhead,evt);};this.hasContentPrintOption=function(data){data="<div>"+data+"</div>";var shell=$(data).find("#shell");if(shell.data("lightboxPrint")){return new Boolean(shell.data("lightboxPrint").toString());}return false;};this.hide=function(){$("body").removeClass("lightboxOpen");mainContainer.find(".c51 video, .c51 object").not(".c51.audio object").each(function(){try{var vid=videojs(this.id);vid.pause();vid.dispose();}catch(err){WF.Utils.ajaxLog(err);}});mainContainer.find(".c51 audio, .c51.audio object").each(function(){try{if(this.player){this.player.pause();}else{if(this.parentNode.player){this.parentNode.player.pause();}}}catch(err){WF.Utils.ajaxLog(err);}});mainContainer.find(".c28topContainer").find("a.c28close").hide();mainContainer.attr("aria-hidden","true").fadeOut(showHideSpeed,function(){darkBackdrop.addClass("hide");if($(trigger).is(":visible")){trigger.focus();}if(options.afterCloseFunc&&typeof options.afterCloseFunc=="function"){options.afterCloseFunc();}});helperDialog.fadeOut(showHideSpeed);};this.init=function(evt){self.hideOpenSocialShares();if(cache){self.show(evt);}else{self.requestContent(evt);}if(typeof options.postInit=="function"){options.postInit;}};this.populateTargetPageExtraJs=function(data){var hostPageJsSources=[],targetJsSources=data.match(/<script[^>]+src=['"]([^'"]+)['"]/g);$("script[src]").each(function(){hostPageJsSources.push($(this).attr("src"));});if(targetJsSources!=null){targetJsSources=$.map(targetJsSources,function(str){str=str.replace(/<script[^>]+src=['"]/,"");str=str.replace(/['"]$/,"");return str;});$.each(targetJsSources,function(idx,val){if($.inArray(val,hostPageJsSources)==-1){targetPageExtraJs.push(val);}});}};this.positionLightbox=function(){var screenWidth=$(window).width();var screenHeight=$(window).height();var dlgWidth=mainContainer.width();var dlgHeight=mainContainer.height();var scrollX=(window.pageXOffset!==undefined)?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var scrollY=(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var left=Math.floor((screenWidth/2)-(dlgWidth/2))+scrollX;var top=Math.floor((screenHeight/2)-(dlgHeight/2))+scrollY;mainContainer.css({"top":top+"px","left":left+"px"});darkBackdrop.css({"width":screenWidth+"px","height":$(document).height()+"px"});};this.positionLoadingDialog=function(){var screenWidth=$(window).width();var screenHeight=$(window).height();var dlgWidth=helperDialog.width();var dlgHeight=helperDialog.height();var left=Math.floor((screenWidth/2)-(dlgWidth/2));var top=Math.floor((screenHeight/2)-(dlgHeight/2));helperDialog.css({"top":top+"px","left":left+"px"});};this.requestContent=function(evt){var inlineLightBox=$(trigger).attr("data-lbcontentId")||$(trigger).data("lbcontentId")||"";self.createLoadingDialogHtml();timer=setTimeout(function(){self.positionLoadingDialog();helperDialog.fadeIn(fadeTime);},options.pleaseWaitDelay);if(options.disableCache){options.parameters.cb=new Date().valueOf();}if(inlineLightBox===""){$.ajax({url:options.url,type:options.method,data:options.parameters,timeout:options.timeout,error:function(XMLHttpRequest,textStatus,errorThrown){if(textStatus=="timeout"){self.doTimeout();if(options.onTimeout){options.onTimeout.call(this,XMLHttpRequest,textStatus,errorThrown);}}else{self.showErrorDialog(XMLHttpRequest,textStatus,errorThrown);}},success:function(data){clearTimeout(timer);self.handleAjaxResponse(data,evt);}});}else{self.handleAjaxResponse($("#"+inlineLightBox).html(),evt);}};this.setLightboxSizes=function(){var heightAdjust=stdHeightAdjust,widthAdjust=stdWidthAdjust,screenWidth=$(window).width(),screenHeight=$(window).height();if(options.isExit){heightAdjust=exitHeightAdjust;widthAdjust=exitWidthAdjust;}contentContainer.css({"width":dimensions.width+"px","height":dimensions.height+"px"});mainContainer.css({"width":(dimensions.width+widthAdjust)+"px","height":(dimensions.height+heightAdjust)+"px"});};this.show=function(evt){helperDialog.fadeOut(showHideSpeed,function(){if(options.beforeOpenFunc&&typeof options.beforeOpenFunc=="function"){options.beforeOpenFunc();}});if(options.disableCache){cache="";}else{mainContainer.empty();mainContainer.append(cache.clone(true));}if($(".zipCodeDialog").attr("data-closebutton")=="hide"){mainContainer.addClass("zipdialogloaded");mainContainer.find(".c28close").click(function(evt){window.location.href="/";});setTimeout(function(){$(".zipCodeDialog").empty();},1000);}var divContent=$("#c28lightbox").find("div#content");var divContentClass=divContent.attr("class");if(divContentClass=="362x166"){$("#c28lightbox").find(".c28contentContainer").css("overflow","hidden");}self.setLightboxSizes();self.positionLightbox();darkBackdrop.removeClass("hide");$("body").addClass("lightboxOpen");mainContainer.fadeIn(showHideSpeed,function(){$(this).attr({"aria-labelledby":trigger.id,"aria-hidden":"false"}).find("a.c28close").show().focus();var h1=contentContainer.find("h1, h2, h3")[0];});WF.OnLoads.doAll(mainContainer);WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"lightboxOpen","linkText":$(trigger).text(),"destinationUrl":trigger.href,"destinationPid":destPid,"clist":clist});if(mainContainer.find(".vjs-default-skin").length>0){try{var vidID=mainContainer.find(".vjs-default-skin").attr("id");_V_.players[vidID]=null;var vid=window.VideoJS(vidID);}catch(e){}}};this.showErrorDialog=function(XMLHttpRequest,textStatus,errorThrown){helperDialog.html("<h2>"+WF.Strings.Components.LightboxOverlay.errorEncountered[WF.Page.lang]+"</h2>").attr("class","c28error");helperDialog.append("<div>"+XMLHttpRequest.status+"</div>");helperDialog.append("<div>"+errorThrown+"</div>");self.addDialogCloseButton();$("body").append(helperDialog);self.positionLoadingDialog();helperDialog.fadeIn(fadeTime);};this.hideOpenSocialShares=function(){$(".c52Link.active").removeClass("active");$("div.c52").addClass("hide").attr("aria-hidden","true");$(".SocialShare .Popup").hide();};if(!options){options={parameters:{}};}if(trigger.href!==""){self.getOptionsFromTrigger();}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}var clist=WF.Utils.getClist(trigger);$(trigger).attr("aria-haspopup","true").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}if($(this).attr("data-disable-cache")=="true"){options.disableCache=true;}evt.preventDefault();self.init(evt);});WF.Page.Components.LightBoxes.push(this);return this;};WF.OnLoads.setupLightboxes=function(root){if(typeof root=="undefined"){root=$("body");}if(!$("#c28backdrop").length){$('<div id="c28backdrop"/>').appendTo($("body"));}if(!$("#c28lightbox").length){$('<div id="c28lightbox" class="c28mainContainer" role="region" aria-hidden="true" />').appendTo($("body"));}$(root).find(".c28aLink, .c28cLink").each(function(){new WF.Component.LightBox(this);});};
WF.Component.ShowHide=function(el,slideSpeed){if(!el.id){el.id=WF.Utils.generateUniqueId(el);}this.elem=el;this.id="ShowHide_"+el.id;var self=this;if(typeof slideSpeed=="undefined"){slideSpeed=400;}else{if(typeof slideSpeed=="object"){slideSpeed=slideSpeed.speed;}}var openText=WF.Strings.Components.ShowHide.imgOpen[WF.Page.lang];var closeText=WF.Strings.Components.ShowHide.imgClosed[WF.Page.lang];var hdr=$(el).find("h2,h3")[0];var a=$("<a/>").html($(hdr).html()).attr("href","#"+closeText);var img=$("<img/>").attr({"class":"c16control",alt:closeText});var contentDiv=$(hdr).next(".c16content");if(!contentDiv.attr("id")){contentDiv.attr("id",WF.Utils.generateUniqueId(contentDiv.get(0)));}$(hdr).addClass("closed").html("").append(a.prepend(img));WF.Utils.setImageSrcFromBackground(img,"13ShowHide 32; img");a.attr("aria-controls",contentDiv.attr("id"));var clist=WF.Utils.getClist(el);this.show=function(){var el=$(this.elem).children("h2,h3");var img=$(this.elem).find("img").get(0);el.removeClass("closed");contentDiv.animate({height:"toggle",opacity:"toggle"},slideSpeed,function(){$(document).trigger("resizePage");}).attr("aria-hidden","false");img.src=img.src.replace(/plus/,"minus");img.alt=openText;};this.hide=function(){var el=$(this.elem).children("h2,h3");var img=$(this.elem).find("img").get(0);el.addClass("closed");contentDiv.animate({height:"toggle",opacity:"toggle"},slideSpeed,function(){$(document).trigger("resizePage");}).attr("aria-hidden","true");img.src=img.src.replace(/minus/,"plus");img.alt=closeText;$.each(WF.Page.Components.getByType("BalloonHelp"),function(idx,bh){$.each($(bh.elem).parents(".c16"),function(idx,elem){if(elem.id===self.elem.id){bh.hide(undefined,0);}});});};var trackVSData={"event":"LinkActivated","eventDescription":"ExpandShowHide","clist":clist};if($(this.elem).closest(".c68").length){trackVSData.eventDescription="ExpandContactBar";trackVSData.option=$(hdr).text();}a.bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}evt.preventDefault();var el=$(this).parent("h2,h3");var applicationCode="VID";if(el.hasClass("closed")){self.show();if(el.closest(".c51 > .c51video + .c16").length>0){if(el.closest(".c51.audio").length>0){applicationCode="AUD";}WF.Utils.logC2tEvent({"data[eventName]":"TranscriptsActivated","data[transcriptsOn]":true,"data[mediaType]":applicationCode,"data[eventType]":evt.type,"data[clist]":clist,"eventStructure[MediaTranscriptsActivatedCreator]":applicationCode+"_TranscriptsActivated","headerStructure[HeaderCreator]":"header_"+applicationCode});}trackVSData.eventType=evt.type;WF.Utils.trackVS(trackVSData);}else{self.hide();if(el.closest(".c51 > .c51video + .c16").length>0){if(el.closest(".c51.audio").length>0){applicationCode="AUD";}WF.Utils.logC2tEvent({"data[eventName]":"TranscriptsActivated","data[transcriptsOn]":false,"data[mediaType]":applicationCode,"data[eventType]":evt.type,"data[eventDescription]":"TranscriptLessLink","data[clist]":clist,"eventStructure[MediaTranscriptsActivatedCreator]":applicationCode+"_TranscriptsActivated","headerStructure[HeaderCreator]":"header_"+applicationCode});}}el.blur();});$(hdr).next(".c16content").hide().attr("aria-hidden","true");if(window.location.hash){if(window.location.hash.replace(/^#/,"")==this.id.replace(/^ShowHide_/,"")){self.show();WF.Utils.setDelayedScrollTo(this.elem);}}if($(this.elem).data("defaultOpen")){self.show();}WF.Page.Components.ShowHides.push(this);return this;};WF.OnLoads.setupShowHides=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c16").each(function(){new WF.Component.ShowHide(this);if(document.getElementById("videochat")!==null){$("#chatnow .c16content").css({"display":"none"});$("#chatnow").removeAttr("data-default-open");}else{$("#chatnow .c16content").css({"display":"block"});}});};
WF.Component.BalloonHelp=function(trigger,options){if(!$(trigger).data("contentId")){WF.Utils.ajaxLog({"message":'A Balloon Help link (CSS class c29link) must have a data-content-id attribute, but "'+$(trigger).text()+"\" doesn't!"});return false;}this.elem=trigger;if(!trigger.id){trigger.id=WF.Utils.generateUniqueId(trigger);}this.id="BalloonHelp_"+trigger.id;var self=this;var link_id=trigger.id,content_id,content_div,mouseoutDelay=300,suppressNext=false;var stdOptions={"offsetX":-10,"offsetY":8,"popupSpeed":500,};if($(trigger).data("contentId")){content_id=$(trigger).data("contentId");content_div=$('.c29content[data-content-id="'+content_id+'"]:first');}else{if(trigger.id&&trigger.id.search(/link/)!=-1){content_id=link_id.replace(/link/,"content");content_div=$("#"+content_id);}else{WF.Utils.ajaxLog({"message":"Can't find Balloon Help content identifier for link with text \""+$(trigger).text()+'"!'});return false;}}if(!options){options={};}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}trigger=$(trigger);if(trigger.attr("href")=="#"){trigger.attr("href","");}var clist=trigger.data("cid")+"~"+trigger.data("ctid");if(content_div.length!=1){WF.Utils.ajaxLog({"message":"Can't find Balloon Help content div #"+content_id+" to match link #"+link_id+"!"});return false;}if($.trim(trigger.text()).length<1&&trigger.html().search(/<img /)!=-1){trigger.addClass("imgOnly");}if(content_div.attr("role")!="complementary"){var closeBtn=$("<img/>").attr({"alt":WF.Strings.Shared.close[WF.Page.lang]});content_div.prepend($('<span class="c29close"><a href=""></a></span>')).find(".c29close a").bind("click keypress",function(evt){self.hide(evt);evt.preventDefault();$(trigger).focus();});content_div.find(".c29close a").append(closeBtn);WF.Utils.setImageSrcFromBackground(closeBtn,"14BalloonHelp 75; closeBtn");content_div.append($('<span class="c29hook"></span>'));content_div.prepend($('<span class="hide c29begin">'+WF.Strings.Components.BalloonHelp.beginningOfPopup[WF.Page.lang]+"</span>"));content_div.append($('<span class="hide">'+WF.Strings.Components.BalloonHelp.endOfPopup[WF.Page.lang]+"</span>"));content_div.attr({"role":"complementary","aria-labelledby":link_id});}this.getOptionsFromCss=function(){$.each(["paddingTop","paddingBottom","marginBottom"],function(n,cssProp){options[cssProp]=parseInt(content_div.css(cssProp).replace(/[^\d\.]/g,""),10);});};self.getOptionsFromCss();this.getQuadrant=function(pos,size){var scroll={"top":$(window).scrollTop(),"left":$(window).scrollLeft()};var bounds=WF.Utils.getViewportSize();var vert="b",horz="l";if((pos.top-scroll.top)<bounds.height/2){vert="t";}if((pos.left-scroll.left)>bounds.width/2){horz="r";}return vert+horz;};this.hide=function(evt,speed){if(typeof evt!="undefined"){if(evt.type=="keypress"&&evt.keyCode!=13&&evt.keyCode!=27){return;}evt.preventDefault();}if(typeof speed=="undefined"){speed=options.popupSpeed;}content_div.data("stayOpen","false");trigger.removeClass("hover");content_div.fadeOut(speed,function(){$(this).attr("aria-hidden","true").removeAttr("tabindex");if(typeof evt!="undefined"&&(evt.type=="keypress"||evt.type=="click")){suppressNext=true;if(evt.type=="keypress"){trigger.focus();}}});};this.maybeHide=function(evt){if(content_div.data("stayOpen")=="true"||trigger.data("active")=="true"){return;}self.hide(evt);};this.setPosition=function(){var trigger_pos=trigger.offset();var trigger_size=WF.Utils.getDimensions(trigger);var dir=self.getQuadrant(trigger_pos);switch(dir){case"tl":content_div.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom+options.offsetY)+"px","left":(trigger_pos.left+options.offsetX)+"px","right":"auto"});break;case"tr":content_div.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom+options.offsetY)+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)+options.offsetX)+"px","left":"auto"});break;case"bl":content_div.css({"top":(trigger_pos.top-content_div.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom)+"px","left":(trigger_pos.left+options.offsetX)+"px","right":"auto"});break;case"br":content_div.css({"top":(trigger_pos.top-content_div.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom)+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)+options.offsetX)+"px","left":"auto"});break;}content_div.removeClass("tl").removeClass("tr").removeClass("bl").removeClass("br").addClass(dir);};this.show=function(evt){if((evt.type=="keyup"&&evt.keyCode!=13)||evt.type=="focus"){return;}if(content_div.is(":visible")){content_div.find(".c29begin.hide").attr("tabindex",0).focus();return;}self.setPosition();trigger.addClass("hover");content_div.fadeIn(options.popupSpeed,function(){$(this).attr("aria-hidden","false");$(this).attr("tabindex",-1);if(evt.type!="mouseover"){$(this).focus();}});var trgt=evt.target||evt.srcElement;if(trgt.getAttribute("isClickable")!="true"){evt.preventDefault();}};trigger.bind("click",function(evt){var trgt=evt.target||evt.srcElement;if(trgt.getAttribute("isClickable")!="true"){evt.stopPropagation();evt.preventDefault();}$(".c29content").data("stayOpen","false");content_div.data("stayOpen","true");$.each(WF.Page.Components.BalloonHelps,function(i,bh){if(bh.id!=self.id){bh.maybeHide();}});self.show(evt);WF.Utils.trackVS({"event":"LinkActivated","eventType":"click","eventDescription":"DisplayBalloonHelp","clist":clist});var trgt=evt.target||evt.srcElement;if(trgt.getAttribute("isClickable")!="true"){evt.stopPropagation();evt.preventDefault();}});trigger.bind("keypress",function(evt){if(evt.keyCode!=13){return;}evt.preventDefault();$(this).keyup();});trigger.bind("keyup",function(evt){if(evt.keyCode!=13){return;}evt.preventDefault();$(".c29content").data("stayOpen","false");content_div.data("stayOpen","true");$.each(WF.Page.Components.BalloonHelps,function(i,bh){if(bh.id!=self.id){bh.maybeHide();}});self.show(evt);WF.Utils.trackVS({"event":"LinkActivated","eventType":"keypress","eventDescription":"DisplayBalloonHelp","clist":clist});});trigger.bind("mouseover",function(evt){if(trigger.attr("triggerHover")=="false"){return;}trigger.data("active","true").addClass("hover");if(suppressNext){suppressNext=false;return;}if($(".c29content:visible").length){return;}self.show(evt);});trigger.bind("mouseout blur",function(evt){if(trigger.attr("triggerHover")=="false"){return;}trigger.data("active","false");if(content_div.is(":focus")){trigger.removeClass("hover");}setTimeout(function(ev){self.maybeHide(ev);},mouseoutDelay);});content_div.bind("focus mouseover",function(evt){trigger.data("active","true").addClass("hover");self.show(evt);});content_div.bind("mouseout blur",function(evt){trigger.data("active","false").removeClass("hover");setTimeout(function(ev){self.maybeHide(ev);},mouseoutDelay);});content_div.bind("keypress",function(evt){if(evt.keyCode==27){self.hide(evt);}});trigger.attr("aria-haspopup","true");WF.Page.Components.BalloonHelps.push(this);return this;};WF.OnLoads.setupBalloonHelps=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c29link").each(function(){new WF.Component.BalloonHelp(this);});};var balloons=$(".c29content");$("body").append(balloons);$("#balloonsContainerSrc").html("");
WF.Component.FAQ=function(el,slideSpeed){if(!el.id){el.id=WF.Utils.generateUniqueId(el);}this.elem=el;this.id="FAQ_"+el.id;var self=this;if(typeof slideSpeed=="undefined"){slideSpeed=400;}else{if(typeof slideSpeed=="object"){slideSpeed=slideSpeed.speed;}}var openText=WF.Strings.Components.FAQ.imgOpen[WF.Page.lang];var closeText=WF.Strings.Components.FAQ.imgClosed[WF.Page.lang];var hdr=$(el).find("h3")[0];var a=$("<a/>").html($(hdr).html()).attr("href","#"+closeText);var img=$("<img/>").attr({"class":"c58control",alt:closeText});var contentDiv=$(hdr).next(".c58answer");if(!contentDiv.attr("id")){contentDiv.attr("id",WF.Utils.generateUniqueId(contentDiv.get(0)));}$(hdr).addClass("closed").html("").append(a.prepend(img));WF.Utils.setImageSrcFromBackground(img,"16FAQ 32; img");a.attr("aria-controls",contentDiv.attr("id"));var clist=WF.Utils.getClist(el);a.bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}evt.preventDefault();var el=$(this).parent("h3");var img=$(this).find("img").get(0);if(el.hasClass("closed")){el.removeClass("closed");el.next(".c58answer").animate({height:"toggle",opacity:"toggle"},slideSpeed,function(){$(document).trigger("resizePage");}).attr("aria-hidden","false");img.src=img.src.replace(/plus/,"minus");img.alt=openText;WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"ExpandFAQ","clist":clist});}else{el.addClass("closed");el.next(".c58answer").animate({height:"toggle",opacity:"toggle"},slideSpeed,function(){$(document).trigger("resizePage");}).attr("aria-hidden","true");img.src=img.src.replace(/minus/,"plus");img.alt=closeText;$.each(WF.Page.Components.getByType("BalloonHelp"),function(idx,bh){$.each($(bh.elem).parents(".c58"),function(idx,elem){if(elem.id===self.elem.id){bh.hide(undefined,0);}});});}el.blur();});$(hdr).next(".c58answer").hide().attr("aria-hidden","true");if(window.location.hash){if(decodeURIComponent(window.location.hash).replace(/^#/,"")==this.id.replace(/^FAQ_/,"")){a.click();WF.Utils.setDelayedScrollTo(this.elem);}}WF.Page.Components.FAQs.push(this);return this;};WF.OnLoads.setupFAQs=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c58").each(function(){new WF.Component.FAQ(this);});};
WF.Component.FatNav=function(el){var _this=this,navSelected=null,timer,isDisplaying=false,hoverShowDelay=300,clickShowDelay=0,triggerHideDelay=250,popupHideDelay=150,showSpeed=250,hideSpeed=250,linkEl=null;this.el=el;this.position=function(){navSelected.css("left",_this.el.offset().left-10+"px");navSelected.css("top",(linkEl.offset().top+linkEl.outerHeight()-1)+"px");};this.show=function(anchor,e){var tallestDiv=0;var firstDivClass="navItemLeft";_this.canceltimer();_this.el.find("a.selected").removeClass("selected");linkEl=anchor;navSelected=$("#"+linkEl.attr("data-navitem"));linkEl.addClass("selected");linkEl.attr("aria-selected","true");$("div.navItem").addClass("hide");_this.position();navSelected.removeClass("hide");navSelected.attr("aria-hidden","false");$("div.navItem").each(function(){if($(this).hasClass("hide")){$(this).css("display","none");}});var delay;if(e.type=="mouseover"){delay=(isDisplaying)?0:hoverShowDelay;}else{delay=clickShowDelay;}_this.settimer(function(){if(!navSelected){navSelected=$("#"+linkEl.attr("data-navitem"));}if(e.type=="mouseover"){navSelected.filter(":not(:animated)").animate({height:"show",opacity:"show"},showSpeed);}else{navSelected.filter(":not(:animated)").animate({height:"toggle",opacity:"toggle"},showSpeed,function(){if(e.type=="keypress"&&linkEl.next("div").css("display")=="block"){navSelected.find("span.beginmarker").focus();}if(linkEl.next("div").css("display")=="none"){linkEl.removeClass("selected");linkEl.removeAttr("aria-selected");$("div.navItem").attr("aria-hidden","true");$("div.navItem").css("display","none");}});}navSelected.children("div").each(function(idx){if(idx==0&&this.className){firstDivClass=this.className;}if($(this).innerHeight()>tallestDiv){tallestDiv=$(this).innerHeight();}});navSelected.find("."+firstDivClass).first().css("height",tallestDiv+"px");isDisplaying=true;if(navSelected.find("a.iaRendered").length){var favLink=navSelected.find("a.iaRendered"),slotId=favLink.data("slotId"),offerId=favLink.data("offerId");WF.Utils.trackTas({"RequestType":"ServeConfirm","displayed":slotId+":"+offerId});}$(_this.el).trigger("fatnavopen");},delay);};this.hide=function(){_this.el.find("a.selected").removeAttr("aria-selected");_this.el.find("a.navLevel1").removeClass("selected");if(navSelected!=null){navSelected.addClass("hide").attr("aria-hidden","true");navSelected.animate({height:"hide",opacity:"hide"},hideSpeed,function(){$(".navItem").css("display","none");navSelected=null;});}isDisplaying=false;$(_this.el).trigger("fatnavclose");};this.settimer=function(todo,time){timer=window.setTimeout(todo,time);};this.canceltimer=function(){if(timer){window.clearTimeout(timer);timer=null;}};this.setup=function(){$("div.navItem").each(function(){$(this).find("a.iaRendered").click(function(){var $el=$(this),slotId=$el.data("slotId"),offerId=$el.data("offerId");WF.Utils.trackTas({"suppressAsync":true,"slotId":slotId,"COID":offerId});});var temp;temp=$(this).detach();_this.el.find("a.navLevel1").each(function(){if(temp.attr("id")==$(this).attr("data-navitem")){temp.insertAfter($(this));}});});if(WF.Browser.supports.touch){_this.el.find("a.navLevel1").click(function(e){e.preventDefault();});_this.el.find("a.navLevel1").bind("touchstart",function(e){_this.show($(this),e);});$(document).bind("touchstart",function(e){if($(e.target).is("#"+_this.el.attr("id")+" *")){return true;}else{_this.hide();}});}else{_this.el.find("a.navLevel1").click(function(e){_this.show($(this),e);e.preventDefault();});_this.el.find("a.navLevel1").bind("mouseover",function(e){_this.show($(this),e);});_this.el.find("a.navLevel1").bind("mouseout",function(e){_this.canceltimer();_this.settimer(_this.hide,triggerHideDelay);});_this.el.keypress(function(e){var target=$(e.target);if(target.is("a.navLevel1")==true&&e.keyCode==13){_this.show($(target),e);e.preventDefault();}if(e.keyCode==27){_this.el.find("a.selected").focus();_this.hide();}});_this.el.find("div.navItem").bind("mouseover",function(e){_this.canceltimer();});_this.el.find("div.navItem").bind("mouseout",function(e){_this.settimer(_this.hide,popupHideDelay);});_this.el.find("li a").first().bind("keypress",function(e){if(e.shiftKey===true&&e.keyCode==9){_this.hide();}});_this.el.find("li div.navItem").last().find("span.endmarker").bind("keypress",function(e){if(e.keyCode==9){_this.hide();}});}};$(window).resize(function(){if(navSelected!=null){_this.position();}});WF.Page.Components.FatNav=this;this.setup();return this;};WF.OnLoads.setupFatNav=function(root){if(typeof root=="undefined"){root=$("body");}if(WF.Page.Components.FatNav){return;}if($(root).find("#fatnav").length>0){new WF.Component.FatNav($("#fatnav"));}};
WF.Component.RibbonCarousel=function(el,options){if(!el.id){el.id=WF.Utils.generateUniqueId(el);}var self=this;var stdOptions={"autostart":false,"autoloop":false,"frameRate":8000,"loop":true,"paddles":"on","speed":500,"Tip":false};var curFrame,evtDesc="DisplayRibbonCarouselItem",incomingFrame,incomingChevron,visibleChevron,wrapLength,onlySixFrames=false,autoFirstFrame=0,specialFrameId="fraud";this.elem=el;this.id="RibbonCarousel_"+el.id;var ribbon=$(this.elem).find("ul.c63controls"),ribbonItems=ribbon.find("li"),bodies=$(el).find(".carouselFrame");if(!options){options={};}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}this.buildMultiframeHtml=function(){incomingFrame=$('<div class="carouselFrame incomingFrame"/>');$(el).append(incomingFrame);chevron=$('<div class="chevron"/>');visibleChevron=$('<div class="visibleChevron"/>');chevron.append(visibleChevron);incomingChevron=$('<div class="incomingChevron"/>');chevron.append(incomingChevron);$(el).append(chevron);if(ribbonItems.length!=bodies.length){var only=(ribbonItems.length>bodies.length)?"only ":"";alert("There are "+ribbonItems.length+" items in the top ribbon (ul.c63controls), but "+only+bodies.length+" carouselFrame divs!");return false;}};this.buildPaddles=function(){var leftImg=$('<img alt="'+WF.Strings.Shared.prev[WF.Page.lang]+'"/>');var rightImg=$('<img alt="'+WF.Strings.Shared.next[WF.Page.lang]+'"/>');var leftLink=$('<a href="#'+el.id+'_prevFrame" class="paddle prevPaddle"></a>');leftLink.append(leftImg);var rightLink=$('<a href="#'+el.id+'_nextFrame" class="paddle nextPaddle"></a>');rightLink.append(rightImg);leftLink.mouseover(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/grey/,"blue");}).mouseout(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/blue/,"grey");}).click(function(evt){evt.preventDefault();self.prev();}).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}ribbon.find("li").removeAttr("tabindex").attr({"aria-expanded":false,"aria-selected":false});ribbon.find(".show"+curFrame).attr({"tabindex":0,"aria-expanded":true,"aria-selected":true});WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":evtDesc,"clist":self.retrieveClist(),"elementActivated":"LeftPaddle"});if(evt.type=="keypress"){evt.preventDefault();self.prev();}});rightLink.mouseover(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/grey/,"blue");}).mouseout(function(){var img=$(this).find("img").get(0);img.src=img.src.replace(/blue/,"grey");}).click(function(evt){evt.preventDefault();self.next();}).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}ribbon.find("li").removeAttr("tabindex").attr({"aria-expanded":false,"aria-selected":false});ribbon.find(".show"+curFrame).attr({"tabindex":0,"aria-expanded":true,"aria-selected":true});WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":evtDesc,"clist":self.retrieveClist(),"elementActivated":"RightPaddle"});if(evt.type=="keypress"){evt.preventDefault();self.next();}});ribbon.before(leftLink);ribbon.after(rightLink);WF.Utils.setImageSrcFromBackground(leftImg,"18RibbonCarousel 152; leftImg");WF.Utils.setImageSrcFromBackground(rightImg,"18RibbonCarousel 153; rightImg");};this.copyFrame=function(from,to){to.html(from.html());$.each(["cid","ctid","presentation"],function(i,val){to.data(val,from.data(val));});};this.count=function(){return bodies.length;};this.frameIdToNumber=function(id){var frame=$(ribbon).find('li[data-ia-code="'+id+'"]');if(!frame.length){return null;}var num=frame.attr("class").match(/show(\d+)/)[1];return parseInt(num,10);};this.getFrameByNumber=function(num){return $(ribbon).find("li.show"+num);};this.handleAutoFirstFrame=function(){var specialTargetFrameNum=ribbonItems.length-1;if(WF.Component.RibbonCarousel.autoFirstFrame){if(typeof WF.Component.RibbonCarousel.autoFirstFrame=="string"){WF.Component.RibbonCarousel.autoFirstFrame=self.frameIdToNumber(WF.Component.RibbonCarousel.autoFirstFrame);}self.swapFrames(WF.Component.RibbonCarousel.autoFirstFrame,1);}if(specialFrameId){var specialFrameNum=self.frameIdToNumber(specialFrameId);if(specialFrameNum!=specialTargetFrameNum){self.swapFrames(self.frameIdToNumber(specialFrameId),specialTargetFrameNum);}}};this.next=function(){var showing=curFrame;if(showing>=wrapLength){showing=1;}else{showing++;}if(onlySixFrames){ribbon.find("li:first").replaceWith(ribbon.find("li:nth-child(2)").clone(true));}ribbon.css("left",(parseInt(ribbon.css("left"),10)+162)+"px").find("li:first").appendTo(ribbon);this.showFrame(showing,"right");};this.numberBodies=function(){$.each(bodies,function(idx,body){if(!body.id){body.id=WF.Utils.generateUniqueId(body);}body=$(body);body.addClass("item"+(idx+1)).attr("aria-hidden",true);});};this.prev=function(){var showing=curFrame;if(showing<=1){showing=wrapLength;}else{showing--;}if(onlySixFrames){ribbon.find("li:last").replaceWith(ribbon.find("li:nth-child(6)").clone(true));}ribbon.css("left",(parseInt(ribbon.css("left"),10)-162)+"px").find("li:last").prependTo(ribbon);this.showFrame(showing,"left");};this.retrieveClist=function(){var visibleCarouselFrame=$(el).find(".item"+curFrame);return $(visibleCarouselFrame).data("cid")+"~"+$(visibleCarouselFrame).data("ctid");};this.setupBodyLinkTasCalls=function(){$.each(bodies,function(idx,body){var $body=$(body),num=$body.attr("class").match(/item(\d+)/)[1],offerId;offerId=$(".c63controls").find("li.show"+num).data("iaCode");$(body).find("a").each(function(){var el=$(this);if(el.hasClass("iaRendered")){return true;}if(el.hasClass("cmsDefault")){return true;}el.click(function(evt){WF.Utils.trackTas({"suppressAsync":true,"slotId":tasInfo.ribbonCarouselSlotId,"COID":offerId});});});});};this.setupBodyClassesAndHandlers=function(){for(var i=1;i<=bodies.length;i++){$(bodies[i-1]).prepend($('<span class="hidden">'+WF.Strings.Shared.beginItemNo[WF.Page.lang]+i+"</span>"));$(bodies[i-1]).append($('<span class="hidden">'+WF.Strings.Shared.endItemNo[WF.Page.lang]+i+"</span>"));$(bodies[i-1]).hide();if($.fn.touchwipe){$(bodies[i-1]).touchwipe({wipeLeft:function(evt){evt.preventDefault();self.next(true);},wipeRight:function(evt){evt.preventDefault();self.prev(true);}});}}};this.setupRibbonClassesAndHandlers=function(){for(var i=1;i<=ribbonItems.length;i++){if(!ribbonItems[i-1].id){ribbonItems[i-1].id=WF.Utils.generateUniqueId(ribbonItems[i-1]);}$(bodies[i-1]).attr("aria-labelledby",ribbonItems[i-1].id);$(ribbonItems[i-1]).attr({"aria-expanded":false,"aria-selected":false}).addClass("show"+i).bind("click",function(evt){var target=evt.target;if(target.tagName!="LI"){target=$(target).parent("li").get(0);}var x=target.className.match(/show(\d+)\b/)[1];var dir=null;var rItems=ribbon.find("li");if(rItems.index(target)==0){dir="left";}else{if(rItems.index(target)==rItems.length-1){dir="right";}}self.shiftTo(x,dir);ribbon.find("li").removeAttr("tabindex").attr({"aria-expanded":false,"aria-selected":false});$(this).attr({"tabindex":0,"aria-expanded":true,"aria-selected":true}).focus();WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":evtDesc,"clist":self.retrieveClist(),"elementActivated":"RibbonItem"});}).bind("keydown",function(evt){if(evt.keyCode==39){self.next();$(this).next().attr({"tabindex":0,"aria-expanded":true,"aria-selected":true}).focus();$(this).removeAttr("tabindex").attr({"aria-expanded":false,"aria-selected":false});}else{if(evt.keyCode==37){self.prev();$(this).prev().attr({"tabindex":0,"aria-expanded":true,"aria-selected":true}).focus();$(this).removeAttr("tabindex").attr({"aria-expanded":false,"aria-selected":false});}}}).bind("keypress",function(evt){if($.inArray(evt.keyCode,[13,37,39])==-1){return;}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":evtDesc,"clist":self.retrieveClist(),"elementActivated":"RibbonItem"});});}};this.shiftTo=function(num,dir){var diff=num-curFrame;
if(Math.abs(diff)>3){if(diff<0){diff+=ribbonItems.length;}else{diff-=ribbonItems.length;}}if(!dir){if(diff<0){dir="left";}else{dir="right";}}diff=Math.abs(diff);for(var i=0;i<diff;i++){if(dir=="right"){if(onlySixFrames){ribbon.find("li:first").replaceWith(ribbon.find("li:nth-child(2)").clone(true));}ribbon.css("left",(parseInt(ribbon.css("left"),10)+162)+"px").find("li:first").appendTo(ribbon);}else{if(onlySixFrames){ribbon.find("li:last").replaceWith(ribbon.find("li:nth-child(6)").clone(true));}ribbon.css("left",(parseInt(ribbon.css("left"),10)-162)+"px").find("li:last").prependTo(ribbon);}}this.showFrame(num,dir);};this.showFrame=function(num,dir){if(num==curFrame){return;}var incFrame=$(el).find(".carouselFrame.item"+num);self.copyFrame(incFrame,incomingFrame);self.copyFrame($("ul.c63controls li.show"+num),incomingChevron);var animOpts={queue:false,left:0};var plusWidth=options.width+"px";var minusWidth="-"+options.width+"px";if(dir=="left"){incomingFrame.css("left",minusWidth);}else{if(dir=="right"){incomingFrame.css("left",plusWidth);}else{if(num>curFrame){dir="right";incomingFrame.css("left",plusWidth);}else{dir="left";incomingFrame.css("left",minusWidth);}}}var chevronWidth=visibleChevron.width()+"px";if(dir=="left"){chevronWidth="-"+chevronWidth;}incomingChevron.css("left",chevronWidth);incomingFrame.show();incomingFrame.animate(animOpts,options.speed,"swing",function(){incomingFrame.hide();$(el).find(".carouselFrame:visible").attr("aria-hidden","true").hide();incFrame.attr("aria-hidden","false").show();});incomingChevron.animate(animOpts,options.speed,"swing",function(){self.copyFrame(incomingChevron,visibleChevron);incomingChevron.hide();});curFrame=num;ribbon.animate({"left":"-100px"},options.speed);if(num!=1){if(ribbon.find(".show"+num).data("iaCode")==specialFrameId){return;}var displayedItems=[];displayedItems.push(WF.Utils.getTasCallData(incomingFrame.find(".c63contentTop"),true).displayed);displayedItems.push(WF.Utils.getTasCallData(incomingFrame.find(".c63contentBottom"),true).displayed);displayedItems.push(tasInfo.ribbonCarouselSlotId+":"+ribbon.find(".show"+num).data("iaCode"));displayedItems=$.grep(displayedItems,function(val){return !!val;});if(displayedItems.length<1){return;}WF.Utils.trackTas({"displayed":displayedItems.join(","),"RequestType":"ServeConfirm"});}};this.swapFrames=function(arg1,arg2){if(typeof arg1!="number"){return;}if(arg1==arg2){return;}var idx1=arg1-1,idx2=arg2-1;if(arg2>arg1){idx2++;}if(arg2==1){arg2=arg1;arg1=1;}var ribbonItem1=self.getFrameByNumber(arg1),ribbonItem2=self.getFrameByNumber(arg2),body1=$(this.elem).find(".carouselFrame.item"+arg1),body2=$(this.elem).find(".carouselFrame.item"+arg2);var putRibbonAfter=ribbonItem2.prev();var putBodyAfter=body2.prev();if(putRibbonAfter.get(0)==ribbonItem1.get(0)){putRibbonAfter=ribbonItem2;putBodyAfter=body2;}ribbonItem2.detach().removeClass("show"+arg2).addClass("show"+arg1).insertAfter(ribbonItem1);ribbonItem1.detach().removeClass("show"+arg1).addClass("show"+arg2).insertAfter(putRibbonAfter);body2.detach().removeClass("item"+arg2).addClass("item"+arg1).insertAfter(body1);body1.detach().removeClass("item"+arg1).addClass("item"+arg2).insertAfter(putBodyAfter);};this.init=function(){options.width=$(el).width();options.padding=$(el).css("padding-left");if(options&&options.Tip){evtDesc="DisplayTip";}self.numberBodies();if(bodies.length>1){self.buildMultiframeHtml();if(bodies.length==6){onlySixFrames=true;wrapLength=6;bodies.splice(3,0,$(bodies[3]).clone(true).get(0));}else{wrapLength=bodies.length;}self.setupRibbonClassesAndHandlers();self.handleAutoFirstFrame();if(onlySixFrames){ribbon.find(":nth-child(4)").before(ribbon.find(":nth-child(4)").clone(true));}$(ribbonItems[0]).attr({"tabindex":0,"aria-expanded":true,"aria-selected":true});self.setupBodyClassesAndHandlers();self.setupBodyLinkTasCalls();self.buildPaddles();for(var i=0;i<3;i++){ribbon.find("li:last").prependTo(ribbon);}self.copyFrame(self.getFrameByNumber(1),visibleChevron);$(el).find(".carouselFrame.item1").show();incomingFrame.hide();curFrame=1;if($.fn.touchwipe){ribbon.touchwipe({wipeLeft:function(evt){evt.preventDefault();self.next();},wipeRight:function(evt){evt.preventDefault();self.prev();}});}}else{$(bodies[0]).show();}WF.Utils.trackVS({"event":"PageLoad","eventDescription":evtDesc,"clist":self.retrieveClist()});};self.init();if(options&&options.Tip){WF.Page.Components.Tips.push(this);}WF.Page.Components.RibbonCarousels.push(this);return this;};WF.OnLoads.setupRibbonCarousels=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c63").each(function(){new WF.Component.RibbonCarousel(this);});};
WF.Component.Tabs=function(tabList,tabContent,options){if(!(this instanceof WF.Component.Tabs)){return new WF.Component.Tabs(tabList,tabContent,options);}this.tabs=tabList;this.content=tabContent;this.hash=window.location.hash;this.eventType="PageLoad";this.container=$(this.tabs).closest(".c65, .c66filterTabs, .c73filterTabs")[0];this.clist=WF.Utils.getClist(this.container);var self=this;var PREV=0,NEXT=1;var defaults={"history":false,"tabType":"","tracking":true};var settings=$.extend(defaults,options);var firstRun=false;var deselectTab=function(){self.tabs.children(".selected").children("a").attr("tabIndex","-1");self.tabs.children(".selected").removeClass("selected").children("a").attr("aria-selected","false");self.content.children(".selected").removeClass("selected").attr("aria-hidden","true");};var selectTab=function(newTabLI){var newTab=$(newTabLI);var newTabLink=newTabLI.children("a");newTab.addClass("selected");newTabLink.attr("aria-selected","true").attr("tabIndex","0");self.content.children("#"+newTabLink.attr("href").split("#")[1]).addClass("selected").attr("aria-hidden","false");self.tabs.trigger("tabSelected",newTabLink.attr("id"));$.each(WF.Page.Components.getByType("BalloonHelp"),function(idx,bh){$.each($(bh.elem).parents(".c65, .c73filterTabs"),function(idx,elem){if(elem==self.container){bh.hide(undefined,0);}});});};var selectFirstTab=function(){deselectTab();newTab=self.tabs.children("li:first-child");selectTab(newTab);};var getSelectedTab=function(newHash){var newHashIsValid=(typeof newHash!=="undefined");var theHash;var hashPanel;var tabID;var hashFromURL=false;if(newHashIsValid){theHash=newHash.replace("tab_","");}else{theHash=self.hash.replace("tab_","");if(self.hash===window.location.hash&&self.hash!==""){hashFromURL=true;}}theHash=theHash.toLowerCase();if(theHash===""||theHash==="#"){selectFirstTab();}hashPanel=self.content.children(theHash);if(hashPanel.length===1&&theHash!==""){deselectTab();tabID="#tab-"+theHash.split("#")[1];selectTab(self.tabs.find(tabID).parent());self.hash=theHash;}if(self.content.children(".selected").length===0){selectFirstTab();}if($("html").hasClass("lt-ie9")){$("body").addClass("not_a_real_class").removeClass("not_a_real_class");}if((newHash===window.location.hash)||(hashFromURL&&firstRun)){tabID="#tab-"+theHash.split("#")[1];if($(tabID).length){var offset=$(tabID).offset();var tabsTop=offset.top<=20?0:offset.top-20;window.scrollTo(0,tabsTop);}firstRun=false;}};var updateLocation=function(newHash){newHash=newHash.replace("tab_","");var fullUrl=window.location.href,currHash=window.location.hash;var baseUrl=fullUrl.substr(0,fullUrl.length-currHash.length);var newUrl=baseUrl+newHash;if(settings.history){window.location=newUrl;}else{window.location.replace(newUrl);}};var fireTrackingEvent=function(evt,tabID){var clist=self.clist,options={"event":"LinkActivated","eventDescription":"Display"+settings.tabType+"Tab","tabID":tabID,"clist":clist};if(evt=="PageLoad"){options.event=evt;}else{options.eventType=evt;}WF.Utils.trackVS(options);};var adjustTabHeights=function(){var maxHeight=0;$(self.tabs).find("li a").each(function(){var thisHeight=$(this).height();if(thisHeight>maxHeight){maxHeight=thisHeight;}});$(self.tabs).find("li a").each(function(){$(this).css("height",maxHeight+"px");});};var init=function(){firstRun=true;self.tabs.on("tabSelected",function(e,linkID){var event=self.eventType,tabID=$("#"+linkID).attr("id").split("tab-")[1];fireTrackingEvent(event,tabID);});if(!(tabList instanceof jQuery)){self.tabs=$(tabList);}if(!(tabContent instanceof jQuery)){self.content=$(tabContent);}self.tabs.addClass("wf-tabs").attr("role","tablist");self.tabs.children("li").addClass("wf-tab");self.content.addClass("wf-tab-content");self.content.children("div").addClass("wf-panel").attr("role","tabpanel").attr("aria-hidden","true");self.tabs.css("visibility","visible");self.content.css("visibility","visible");self.tabs.find("li").each(function(index){var theTab=$(this);var theLink=theTab.children("a");var theHash="#"+theLink.attr("href").split("#")[1];var theLinkID="tab-"+theHash.split("#")[1];theLink.attr("id",theLinkID).attr("role","tab").attr("aria-selected","false").attr("tabIndex","-1");$(theHash).attr("rel",theLinkID).attr("aria-labelledby",theLinkID);theLink.click(function(event){event.stopPropagation();event.preventDefault();var tabLink=$(this);var newHash="#tab_"+tabLink.attr("href").split("#")[1];self.eventType="click";getSelectedTab(newHash);});});getSelectedTab();if($(self.container).hasClass("c73filterTabs")){adjustTabHeights();}$(window).on("hashchange",function(){getSelectedTab(window.location.hash);});self.tabs.keydown(function(event){var theKey=event.which;var currentTabLink=self.tabs.find("li.selected a");self.eventType="keypress";var gotoTabLink=function(direction){var newTab=currentTabLink.parent();if(direction){newTab=newTab.next();}else{newTab=newTab.prev();}return newTab.find("a");};var nextTabLink=gotoTabLink(NEXT);var previousTabLink=gotoTabLink(PREV);var triggerTabLink=function(tabLink){var newHash="#tab_"+tabLink.attr("href").split("#")[1];getSelectedTab(newHash);tabLink.focus();return false;};if(theKey===39||theKey===40){triggerTabLink(nextTabLink);event.preventDefault();}if(theKey===37||theKey===38){triggerTabLink(previousTabLink);event.preventDefault();}});};init();};WF.OnLoads.setupTabs=function(root){if(typeof root=="undefined"){root=$("body");}$(root).find(".c65").each(function(){new WF.Component.Tabs($(this).find(".tabs"),$(this).find(".tabContent"));});$(root).find(".c66filterTabs").each(function(){new WF.Component.Tabs($(this).find(".filterTabs"),$(this).find(".filterTabContent"),{tabType:"Filter"});});$(root).find(".c73filterTabs").each(function(){new WF.Component.Tabs($(this).find(".filterTabs"),$(this).find(".filterTabContent"),{tabType:"Subway"});});$("a[href]").each(function(){if($(this).parent().hasClass("wf-tab")){return true;}var href=this.href;href=href.substr(href.indexOf("#"));if(href.search(/tab_/)!==-1){var thisPage=window.location.href;thisPage=thisPage.match(/#/)?thisPage.split("#")[0]:thisPage;var linkPage=this.href.split("#")[0];if(thisPage===linkPage){$(this).on("click",function(event){event.stopPropagation();event.preventDefault();window.location.hash=href;$(window).trigger("hashchange");});}return true;}});};
WF.Component.Overlay=function(trigger,options){if(!trigger.id){trigger.id=WF.Utils.generateUniqueId(trigger);}this.elem=trigger;this.id="Overlay_"+trigger.id;var self=this;var cache="",contentContainer=$("<div/>"),defaultHeight=500,defaultWidth=722,destPid="",dimensions={},dir="",fadeTime=300,helperDialog=$("<div/>"),keyMovePixels=10,mainContainer=$("#c28overlay"),margin=50,maxHeight=500,maxWidth=722,showHideSpeed=600,stdHeightAjdust=60,stdWidthAdjust=0,timer,titleBar;var stdOptions={title:"",inlineId:"",pleaseWaitDelay:1500,timeout:10000,onTimeout:false,postInit:false,disableCache:false,stateVariant:false,"offsetX":0,"offsetY":6,"paddingTop":0,"paddingBottom":0,"marginBottom":10,showPrintIcon:false,url:"",method:"GET",parameters:{}};this.addDialogCloseButton=function(){helperDialog.append('<div class="closeButton"><a href="#" class="c7 utilitybtn" role="button">'+WF.Strings.Components.LightboxOverlay.closeDialog[WF.Page.lang]+"</a></div>");helperDialog.find(".c7").click(function(evt){evt.preventDefault();helperDialog.fadeOut(fadeTime,function(){helperDialog.remove();});});};this.addOverlayEvents=function(){mainContainer.find("a.c28close, a.c28cancel").click(function(evt){evt.preventDefault();self.hide();});mainContainer.keydown(function(evt){if(evt.keyCode==27){self.hide();}});titleBar.keydown(function(evt){var mainLeft=parseInt(mainContainer.css("left").replace(/px$/,""),10),mainTop=parseInt(mainContainer.css("top").replace(/px$/,""),10);switch(evt.keyCode){case 13:evt.stopPropagation();evt.preventDefault();break;case 37:mainContainer.css("left",mainLeft-10);evt.stopPropagation();evt.preventDefault();break;case 38:mainContainer.css("top",mainTop-10);evt.stopPropagation();evt.preventDefault();break;case 39:mainContainer.css("left",mainLeft+10);evt.stopPropagation();evt.preventDefault();break;case 40:mainContainer.css("top",mainTop+10);evt.stopPropagation();evt.preventDefault();break;default:break;}}).click(function(evt){evt.preventDefault();});$(window).resize(function(){self.setPosition();});};this.createLoadingDialogHtml=function(){helperDialog.html("").attr("class","c28loading");helperDialog.append("<h2>"+WF.Strings.Components.LightboxOverlay.oneMomentPlease[WF.Page.lang]+"</h2>");var loadingImg=$('<img class="loadImg"/>');helperDialog.append(loadingImg);helperDialog.append(WF.Strings.Components.LightboxOverlay.plsWaitGettingInfo[WF.Page.lang]);$("body").append(helperDialog);WF.Utils.setImageSrcFromBackground(loadingImg,"21Overlay 115; loadingImg");};this.createOverlayHtml=function(content,title,evt){mainContainer.unbind().empty();var closeButton=$("<img/>").attr({"alt":WF.Strings.Shared.close[WF.Page.lang],"role":"button"});var topContainer=$("<div/>").addClass("c28topContainer").html('<a class="c28close" id="c28bClose" href="#"></a>');topContainer.find("a").append(closeButton);topContainer.appendTo(mainContainer);WF.Utils.setImageSrcFromBackground(closeButton,"21Overlay 126; closeButton");var topFocus=$("<span/>").attr({"id":"c28bTopFocus","class":"hidden","tabindex":0});topFocus.focus(function(evt){if(dir=="back"){$("#c28bLastFocusable").focus();}else{$("#c28bClose").focus();}}).prependTo(mainContainer);$("#c28bClose").focus(function(){dir="back";});contentContainer.addClass("c28contentContainer");contentContainer.html(content).appendTo(mainContainer);contentContainer.find("h1").remove();titleBar=$('<a href="#" class="c28titleBar"><h2>'+title+"</h2></a>");topContainer.append(titleBar);if(options.showPrintIcon){topContainer.append($('<a href="javascript:window.print();" class="c28print">'+WF.Strings.Shared.print[WF.Page.lang]+"</a>"));}var btmFocus=mainContainer.find("a, input, select");if(btmFocus.length){btmFocus=$(btmFocus[btmFocus.length-1]);}else{btmFocus=topContainer.find("a.c28print");}btmFocus.attr("id","c28bLastFocusable");var bottomFocus=$("<span/>").attr({"id":"c28bBottomFocus","class":"hidden","tabindex":0});bottomFocus.focus(function(evt){$("#c28bTopFocus").focus();}).appendTo(mainContainer);$("#c28bLastFocusable").focus(function(){dir="forward";});self.setOverlaySizes();self.addOverlayEvents();cache=mainContainer.contents().clone(true);self.show(evt);};this.doTimeout=function(){helperDialog.html("<h2>"+WF.Strings.Components.LightboxOverlay.infoCurrUnavail[WF.Page.lang]+"</h2>").addClass("timeout");helperDialog.append("<p>"+WF.Strings.Components.LightboxOverlay.apologizeTryAgain[WF.Page.lang]+"</p>");self.addDialogCloseButton();helperDialog.fadeIn(fadeTime);};this.getContentRegion=function(data){data="<div>"+data+"</div>";var content=options.inlineId===""?$(data).find("#content"):$("body").find(options.inlineId);if(content.length){if(content.hasClass(".exitPageContent")){options.isExit=true;}}else{content=$(data).find(".exitPageContent");if(content.length){options.isExit=true;}}if(!content.length){content=$(data).find(".mainContentCol:first");}return content;};this.getContentTrackingData=function(data){data="<div>"+data+"</div>";var pid=$(data).find("#shell").data("pid");var ptid=$(data).find("#shell").data("ptid");return pid+"~"+ptid;};this.getDimensions=function(html){var ret={width:0,height:0};var match;html="<div>"+html+"</div>";var node=$(html).find("#shell");if(node.length){if(node.data("lightboxWidth")&&node.data("lightboxHeight")){ret.width=node.data("lightboxWidth");ret.height=node.data("lightboxHeight");}else{match=node.attr("class").match(/\b(\d\d\d?\d?)x(\d\d\d?\d?)\b/);if(match){ret.width=parseInt(match[1],10);ret.height=parseInt(match[2],10);}}}if(!ret.width){$.each(["#content",".exitPageContent",".mainContentCol:first"],function(i,css){node=$(html).find(css);if(node.length&&node.attr("class")){match=node.attr("class").match(/\b(\d\d\d?\d?)x(\d\d\d?\d?)\b/);if(match){ret.width=parseInt(match[1],10);ret.height=parseInt(match[2],10);return false;}}});}if(!ret.width){ret={width:defaultWidth,height:defaultHeight};}if(ret.width>maxWidth){ret.width=maxWidth;}if(ret.height>maxHeight){ret.height=maxHeight;}return ret;};this.getExitPageUrl=function(html){html="<div>"+html+"</div>";var link=$(html).find(".t7buttons a.c7");if(link.length){return link.attr("href");}link=$(html).find('a.c7:contains("'+WF.Strings.Shared["continue"][WF.Page.lang]+'")');if(link.length){return link.attr("href");}return"";};this.getOptionsFromLink=function(){if(trigger.href.indexOf("?")!=-1&&options.inlineId===""){options.url=trigger.href.substr(0,trigger.href.indexOf("?"));var params=trigger.href.substr(trigger.href.indexOf("?")+1);params=params.split(/&(?:amp;)?/);$.each(params,function(idx,param){var p=param.split("=");options.parameters[p[0]]=p[1];});options.method="GET";}else{options.url=trigger.href;}if($(trigger).data("overlayOptions")){var dataOpts=$(trigger).data("overlayOptions");$.extend(true,options,$(trigger).data("overlayOptions"));}};this.setStateVariant=function(){var zipCode=$("h1:first span#c3location");if(zipCode.length===1){options.stateVariant=true;}};this.getQuadrant=function(pos,size){var scroll={"top":$(window).scrollTop(),"left":$(window).scrollLeft()};var bounds=WF.Utils.getViewportSize();var vert="b",horz="l";if((pos.top-scroll.top)<bounds.height/2){vert="t";}if((pos.left-scroll.left)>bounds.width/2){horz="r";}return vert+horz;};this.getTitleText=function(data){if(options.title!==""){return options.title;}data="<div>"+data+"</div>";var title=$(data).find("h1");if(title.length===1){title.find("span").remove();title.html(title.html().replace(/\s*-\s*$/,""));return title.text();}title=$(data).find("h2");if(title.length===1){return title.text();}return"";};this.handleAjaxResponse=function(data,evt){var content=self.getContentRegion(data);destPid=self.getContentTrackingData(data);var title=self.getTitleText(data);dimensions=self.getDimensions(data);if(options.isExit){options.exitUrl=self.getExitPageUrl(data);}else{if(self.hasContentPrintOption(data)){options.showPrintIcon=true;}}self.createOverlayHtml(content,title,evt);};this.hasContentPrintOption=function(data){data="<div>"+data+"</div>";var shell=$(data).find("#shell");if(shell.data("lightboxPrint")){return new Boolean(shell.data("lightboxPrint").toString());
}return false;};this.hide=function(){$("body").removeClass("overlayOpen");mainContainer.draggable("destroy");mainContainer.find(".c28topContainer").find("a.c28close").hide();mainContainer.attr("aria-hidden","true").fadeOut(showHideSpeed,function(){trigger.focus();});};this.init=function(evt){if(cache){self.show(evt);}else{self.requestContent(evt);}};this.positionLoadingDialog=function(){var screenWidth=$(window).width();var screenHeight=$(window).height();var dlgWidth=helperDialog.width();var dlgHeight=helperDialog.height();var left=Math.floor((screenWidth/2)-(dlgWidth/2));var top=Math.floor((screenHeight/2)-(dlgHeight/2));helperDialog.css({"top":top+"px","left":left+"px"});};this.requestContent=function(evt){self.createLoadingDialogHtml();timer=setTimeout(function(){self.positionLoadingDialog();helperDialog.fadeIn(fadeTime);},options.pleaseWaitDelay);if(options.disableCache||options.stateVariant){options.parameters.cb=new Date().valueOf();}var overlayContent;if($(evt.currentTarget).hasClass("footNoteLink")){clearTimeout(timer);$(".c20body").each(function(){if($(this)[0].dataset.cid==evt.currentTarget.dataset.contentId){$("#c28overlay").css("height","");$("#c28overlay").css("width","");overlayContent='<div class="footNoteContentWrapper">'+$(this).context.innerHTML+"</div>";self.createOverlayHtml(overlayContent,"Footnote",evt);$(".c28mainContainer").addClass("c28footNoteMainContainer");$(".c28contentContainer").addClass("c28footnNoteContainer");}});cache="";}else{$.ajax({url:options.url,type:options.method,data:options.parameters,timeout:options.timeout,error:function(XMLHttpRequest,textStatus,errorThrown){if(textStatus=="timeout"){self.doTimeout();if(options.onTimeout){options.onTimeout.call(this,XMLHttpRequest,textStatus,errorThrown);}}else{self.showErrorDialog(XMLHttpRequest,textStatus,errorThrown);}},success:function(data){clearTimeout(timer);self.handleAjaxResponse(data,evt);}});}};this.setOverlaySizes=function(){var heightAdjust=stdHeightAjdust,widthAdjust=stdWidthAdjust;var screenWidth=$(window).width();var screenHeight=$(window).height();contentContainer.css({"width":dimensions.width+"px","height":dimensions.height+"px"});mainContainer.css({"width":(dimensions.width+widthAdjust)+"px","height":(dimensions.height+heightAdjust)+"px"});};this.setPosition=function(){var trigger_pos=trigger.offset();var trigger_size=WF.Utils.getDimensions(trigger);var dir=self.getQuadrant(trigger_pos);mainContainer.css({top:"",left:""});switch(dir){case"tl":mainContainer.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom)+"px","left":(trigger_pos.left+options.offsetX)+"px"});break;case"tr":mainContainer.css({"top":(trigger_pos.top+trigger_size.height+options.marginBottom)+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)-options.offsetX)+"px"});break;case"bl":var blTop=trigger_pos.top-mainContainer.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom;if(blTop<10){blTop=10;}mainContainer.css({"top":blTop+"px","left":(trigger_pos.left+options.offsetX)+"px"});break;case"br":var brTop=trigger_pos.top-mainContainer.height()-options.offsetY-options.paddingBottom-options.paddingTop-options.marginBottom;if(brTop<10){brTop=10;}mainContainer.css({"top":brTop+"px","right":($("body").width()-(trigger_pos.left+trigger_size.width)-options.offsetX)+"px"});break;}mainContainer.removeClass("tl").removeClass("tr").removeClass("bl").removeClass("br").addClass(dir);};this.show=function(evt){helperDialog.fadeOut(showHideSpeed);mainContainer.empty();mainContainer.append(cache.clone(true));self.setOverlaySizes();self.setPosition();$("body").addClass("overlayOpen");mainContainer.draggable({handle:".c28titleBar"});mainContainer.fadeIn(showHideSpeed,function(){$(this).attr({"aria-labelledby":trigger.attr("id"),"aria-hidden":"false"}).find("a.c28close").show().focus();var h1=contentContainer.find("h1, h2, h3")[0];});WF.OnLoads.doAll(mainContainer);if(options.disableCache){cache="";}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"overlayOpen","linkText":trigger.text(),"destinationUrl":trigger.get(0).href,"destinationPid":destPid,"clist":clist});};this.showErrorDialog=function(XMLHttpRequest,textStatus,errorThrown){helperDialog.html("<h2>"+WF.Strings.Components.LightboxOverlay.errorEncountered[WF.Page.lang]+"</h2>").attr("class","c28error");helperDialog.append("<div>"+XMLHttpRequest.status+"</div>");helperDialog.append("<div>"+errorThrown+"</div>");self.addDialogCloseButton();$("body").append(helperDialog);self.positionLoadingDialog();helperDialog.fadeIn(fadeTime);};if(!options){options={parameters:{}};}if(trigger.href!=""){self.getOptionsFromLink();self.setStateVariant();}for(var o in stdOptions){if(typeof options[o]=="undefined"){options[o]=stdOptions[o];}}var clist=WF.Utils.getClist(trigger);trigger=$(trigger);trigger.attr("aria-haspopup","true").bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}evt.preventDefault();self.init(evt);});WF.Page.Components.Overlays.push(this);return this;};WF.OnLoads.setupOverlays=function(root){if(typeof root=="undefined"){root=$("body");}if(!$("#c28overlay").length){$('<div id="c28overlay" class="c28mainContainer" role="region" aria-hidden="true" />').appendTo($("body"));}$(root).find(".c28bLink").each(function(){new WF.Component.Overlay(this);});};
$(document).ready(function(){$("body").on("click","#zipStateForm #zipCode",function(){$(this).val("");});$(document).on("keyup","#zipCode",function(e){if(event.keyCode===53){if($(this).val()!==null){var val=$(this).val().replace(/%/g,"");$(this).val(val);}}});$("body").on("submit","#zipStateForm",function(evt){evt.preventDefault();clearErrorMarkers();var formData=$("#zipCode, #zipStateCode").serialize();var lang=WF.Utils.getLanguage();if($("#zipCode").val()!=null){var val=$("#zipCode").val().replace(/%/g,"");$("#zipCode").val(val);}var zipCodeVal=$("#zipCode").val();var zipCodePlaceHolder=$("#zipCode").attr("placeHolder");if(zipCodeVal===zipCodePlaceHolder){zipCodeVal="";}var url="/as/zipandstate/"+zipCodeVal+"?lang="+lang;$("#zipStateForm p.busy").removeClass("invisible");$.ajax({"type":"GET","url":url,"dataType":"text","success":function(data){$("#zipStateForm p.busy").addClass("invisible");try{data=untaintAndParse(data);if(data.errorMessage){showMessageBox("error",data.errorMessage);$("#zipStateForm").addClass("hasError");return;}else{if(data.warningMessage){showMessageBox("warning",data.warningMessage);}else{window.location.reload(true);}}}catch(err){WF.Utils.ajaxLog(err);}},"timeout":10000,onTimeout:function(){showMessageBox("error","This information is currently unavailable. Please try again later.");},"error":function(){WF.Utils.ajaxLog({"message":"AJAX request failed."});}});function populateStates(obj,target_id){$("#stateSelect").addClass("showLine");$("#stateSelect").removeClass("hideLine");var dropdown=$("#"+target_id);for(var i=0;i<obj.length;i++){dropdown.append('<option value="'+obj[i].shortName+'">'+obj[i].longName+"</option>");}}function clearErrorMarkers(){$("#zipStateForm").removeClass("hasError");if($("#messageBox").hasClass("error")){$("#messageBox").empty();$("#messageBox").removeClass("error");$("#messageBox").addClass("hidden");}}function showMessageBox(mbType,mbMessage){var mbox=$("#messageBox");var mbState=mbox.data("type");var theLightbox=$("#c28lightbox");if(typeof mbState!=="undefined"&&mbState!==""){clearMessageBox();}mbox.addClass(mbType);mbox.data("type",mbType);mbox.html(mbMessage);mbox.removeClass("hidden");if($("#c28lightbox").find("form[name='zipStateForm']").length>0){theLightbox.css("height","248px");theLightbox.find(".c28contentContainer").css("height","248px");}else{theLightbox.css("height","530px");theLightbox.find(".c28contentContainer").css("height","480px");}}function clearMessageBox(){var mbox=$("#messageBox");var theLightbox=$("#c28lightbox");mbox.addClass("hidden");mbox.removeClass("busy info warning error");mbox.html("");theLightbox.css("height","480px");theLightbox.find(".c28contentContainer").css("height","420px");}function untaintAndParse(str){if(str.substr(0,100).search(/for *\(;;/)==-1){WF.Utils.ajaxLog({"message":"Expected JSON result but got: "+str.substr(0,100)+"..."});return str;}try{str=str.replace(/^\s*for *\(;;\) *;?\s*/,"");str=str.replace(/^\s*\/\*\s*\w+%\s+\{/,"{").replace(/\}\s+%\w+\s*\*\/\s*$/,"}");return jQuery.parseJSON(str);}catch(err){WF.Utils.ajaxLog(err);}}$("#lbcontent a.closeLink").click(function(evt){clearErrorMarkers();});});if($(".zipCodeDialog").length>0){$("#zipCodeSelector").find(".c28aLink").each(function(){var s=new WF.Component.LightBox(this);s.init();});}});
window.suggestmeyes_loaded=true;function GSA_getSearchRootPathPrefix(){return"/search";}function GSA_getResourceRootPathPrefix(){return"";}function GSA_isEmbeddedMode(){return false;}var ss_form_element="frmSearch";var ss_popup_element="search_suggest";var ss_seq=["g"];var ss_g_one_name_to_display="Suggestion";var ss_g_more_names_to_display="";var ss_g_max_to_display=5;var ss_max_to_display=5;var ss_wait_millisec=300;var ss_delay_millisec=30;var ss_gsa_host=null;var SS_OUTPUT_FORMAT_LEGACY="legacy";var SS_OUTPUT_FORMAT_OPEN_SEARCH="os";var SS_OUTPUT_FORMAT_RICH="rich";var ss_protocol=SS_OUTPUT_FORMAT_RICH;var ss_allow_non_query=true;var ss_non_query_empty_title="No Title";var ss_allow_debug=false;var ss_form_element="frmSearch";var ss_popup_element="search_suggest";var ss_seq=["g"];var ss_g_one_name_to_display="Suggestion";var ss_g_more_names_to_display="";var ss_g_max_to_display=5;var ss_r_max_to_display=5;var ss_max_to_display=5;var ss_wait_millisec=300;var ss_delay_millisec=30;var ss_gsa_host=null;var SS_OUTPUT_FORMAT_LEGACY="legacy";var SS_OUTPUT_FORMAT_OPEN_SEARCH="os";var SS_OUTPUT_FORMAT_RICH="rich";var ss_protocol=SS_OUTPUT_FORMAT_RICH;var ss_allow_non_query=true;var ss_non_query_empty_title="No Title";var ss_allow_debug=false;function BR_AgentContains_(str){if(str in BR_AgentContains_cache_){return BR_AgentContains_cache_[str];}return BR_AgentContains_cache_[str]=(navigator.userAgent.toLowerCase().indexOf(str)!=-1);}var BR_AgentContains_cache_={};function BR_IsIE(){return BR_AgentContains_("msie")&&!window.opera;}function BR_IsKonqueror(){return BR_AgentContains_("konqueror");}function BR_IsSafari(){return BR_AgentContains_("safari")||BR_IsKonqueror();}function BR_IsNav(){return !BR_IsIE()&&!BR_IsSafari()&&BR_AgentContains_("mozilla");}function BR_IsWin(){return BR_AgentContains_("win");}function BR_IsMac(){return BR_AgentContains_("macintosh")||BR_AgentContains_("mac_powerpc");}function BR_IsLinux(){return BR_AgentContains_("linux");}var BACKSPACE_KEYCODE=8;var COMMA_KEYCODE=188;var DEBUG_KEYCODE=68;var DELETE_KEYCODE=46;var DOWN_KEYCODE=40;var ENTER_KEYCODE=13;var ESC_KEYCODE=27;var LEFT_KEYCODE=37;var RIGHT_KEYCODE=39;var SPACE_KEYCODE=32;var TAB_KEYCODE=9;var UP_KEYCODE=38;var SHIFT_KEYCODE=16;var PAGE_DOWN_KEYCODE=34;var PAGE_UP_KEYCODE=33;function GetSemicolonKeyCode(){return BR_IsIE()?186:59;}var MAX_EMAIL_ADDRESS_LENGTH=320;var MAX_SIGNATURE_LENGTH=1000;function raise(msg){if(typeof Error!="undefined"){throw new Error(msg||"Assertion Failed");}else{throw (msg);}}function Fail(opt_msg){opt_msg=opt_msg||"Assertion failed";if(IsDefined(DumpError)){DumpError(opt_msg+"\n");}raise(opt_msg);}function AssertTrue(expression,opt_msg){if(!expression){opt_msg=opt_msg||"Assertion failed";Fail(opt_msg);}}function AssertEquals(val1,val2,opt_msg){if(val1!=val2){opt_msg=opt_msg||"AssertEquals failed: <"+val1+"> != <"+val2+">";Fail(opt_msg);}}function AssertType(value,type,opt_msg){if(typeof value==type){return;}if(value||value==""){try{if(type==AssertTypeMap[typeof value]||value instanceof type){return;}}catch(e){}}var makeMsg=opt_msg===undefined;if(makeMsg){if(typeof type=="function"){var match=type.toString().match(/^\s*function\s+([^\s\{]+)/);if(match){type=match[1];}}opt_msg="AssertType failed: <"+value+"> not typeof "+type;}Fail(opt_msg);}var AssertTypeMap={"string":String,"number":Number,"boolean":Boolean};function AssertNumArgs(num,opt_msg){var caller=AssertNumArgs.caller;if(caller&&caller.arguments.length!=num){opt_msg=opt_msg||caller.name+" expected "+num+" arguments "+" but received "+caller.arguments.length;Fail(opt_msg);}}var ILLEGAL_COOKIE_CHARS_RE=/[\s;]/;function SetCookie(name,value,opt_max_age,opt_path,opt_domain){value=""+value;AssertTrue((typeof name=="string"&&typeof value=="string"&&!name.match(ILLEGAL_COOKIE_CHARS_RE)&&!value.match(ILLEGAL_COOKIE_CHARS_RE)),"trying to set an invalid cookie");if(!IsDefined(opt_max_age)){opt_max_age=-1;}if(!IsDefined(opt_path)){opt_path="/";}if(!IsDefined(opt_domain)){opt_domain=null;}var domain_str=(opt_domain==null)?"":";domain="+opt_domain;var path_str=(opt_path==null)?"":";path="+opt_path;var expires_str;if(opt_max_age<0){expires_str="";}else{if(opt_max_age==0){var pastDate=new Date(1970,1,1);expires_str=";expires="+pastDate.toUTCString();}else{var futureDate=new Date(Now()+opt_max_age*1000);expires_str=";expires="+futureDate.toUTCString();}}document.cookie=name+"="+value+domain_str+path_str+expires_str;}var EXPIRED_COOKIE_VALUE="EXPIRED";function ExpireCookie(name,opt_path,opt_domain){SetCookie(name,EXPIRED_COOKIE_VALUE,0,opt_path,opt_domain);}function GetCookie(name){var nameeq=name+"=";var cookie=String(document.cookie);for(var pos=-1;(pos=cookie.indexOf(nameeq,pos+1))>=0;){var i=pos;while(--i>=0){var ch=cookie.charAt(i);if(ch==";"){i=-1;break;}else{if(" \t".indexOf(ch)<0){break;}}}if(-1===i){var end=cookie.indexOf(";",pos);if(end<0){end=cookie.length;}return cookie.substring(pos+nameeq.length,end);}}return"";}function Now(){return(new Date()).getTime();}function MaybeGetElement(win,id){return win.document.getElementById(id);}function GetElement(win,id){var el=win.document.getElementById(id);if(!el){DumpError("Element "+id+" not found.");}return el;}function GetElements(win,id){return win.document.getElementsByName(id);}function GetParentNode(n){try{return n.parentNode;}catch(e){return n;}}function IsDescendant(parent,child){do{if(parent===child){return true;}child=GetParentNode(child);}while(child&&child!==document.body);return false;}function GetAttribute(node,attribute){if(!node.getAttribute){return null;}var attr=node.getAttribute(attribute);if(BR_IsIE()&&attribute=="style"){return attr.value;}else{return attr;}}function SetInnerHTML(win,id,html){try{GetElement(win,id).innerHTML=html;}catch(ex){DumpException(ex);}}function GetInnerHTML(win,id){try{return GetElement(win,id).innerHTML;}catch(ex){DumpException(ex);return"";}}function ClearInnerHTML(win,id){try{GetElement(win,id).innerHTML="";}catch(ex){DumpException(ex);}}function SetCssStyle(win,id,name,value){try{var elem=GetElement(win,id);elem.style[name]=value;}catch(ex){DumpException(ex);}}function GetStyleProperty(style,name){var i=style.indexOf(name);if(i!=-1){var j=style.indexOf(";",i);if(j==-1){j=style.length;}return CollapseWhitespace(style.substring(i+name.length+1,j));}return null;}function GetCellIndex(cell){if(cell.cellIndex){return cell.cellIndex;}else{if(cell.parentNode){return FindInArray(cell.parentNode.cells,cell);}else{return null;}}}function ShowElement(el,show){el.style.display=show?"":"none";}function ShowBlockElement(el,show){el.style.display=show?"block":"none";}function ShowInlineElement(el,show){el.style.display=show?"inline":"none";}function SetButtonText(button,text){button.childNodes[0].nodeValue=text;}function AppendNewElement(win,parent,tag){var e=win.document.createElement(tag);parent.appendChild(e);return e;}function FindChildWithID(parent,id){var el;for(el=parent.firstChild;el&&el.id!=id;el=el.nextSibling){}return el;}function AddMenuDisabledOption(win,menu,html){var op=AppendNewElement(win,menu,"OPTION");op.disabled=true;op.innerHTML=html;return op;}function AddMenuOption(win,menu,value,html){var op=AppendNewElement(win,menu,"OPTION");op.value=value;op.innerHTML=html;return op;}function CreateDIV(win,id){var div=MaybeGetElement(win,id);if(!div){div=AppendNewElement(win,win.document.body,"div");div.id=id;}return div;}function CreateIFRAME(win,id,url){var iframe=MaybeGetElement(win,id);if(!iframe){var div=AppendNewElement(win,win.document.body,"div");div.innerHTML="<iframe id="+id+" name="+id+" src="+url+"></iframe>";iframe=GetElement(win,id);}return iframe;}function Tr(win,tds){var tr=win.document.createElement("TR");for(var i=0;i<tds.length;i++){tr.appendChild(tds[i]);}return tr;}function Td(win,opt_colspan){var td=win.document.createElement("TD");if(opt_colspan){td.colSpan=opt_colspan;}return td;}function HasClass(el,cl){if(el==null||el.className==null){return false;}if(el.className==cl){return true;}var classes=el.className.split(" ");
for(var i=0;i<classes.length;i++){if(classes[i]==cl){return true;}}return false;}function AddClass(el,cl){if(HasClass(el,cl)){return;}el.className+=" "+cl;}function RemoveClass(el,cl){if(el.className==null){return;}if(el.className==cl){el.className="";return;}var classes=el.className.split(" ");var result=[];var changed=false;for(var i=0;i<classes.length;i++){if(classes[i]!=cl){if(classes[i]){result.push(classes[i]);}}else{changed=true;}}if(changed){el.className=result.join(" ");}}function GetElementsBySelector(root,selector){var nodes=[];for(var child=root.firstChild;child;child=child.nextSibling){AddElementBySelector_(child,selector,nodes);}return nodes;}function AddElementBySelector_(root,selector,nodes){if(selector.select(root)){nodes.push(root);}for(var child=root.firstChild;child;child=child.nextSibling){AddElementBySelector_(child,selector,nodes);}}function GetPageOffsetLeft(el){var x=el.offsetLeft;if(el.offsetParent!=null){x+=GetPageOffsetLeft(el.offsetParent);}return x;}function GetPageOffsetTop(el){var y=el.offsetTop;if(el.offsetParent!=null){y+=GetPageOffsetTop(el.offsetParent);}return y;}function GetPageOffset(el){var x=el.offsetLeft;var y=el.offsetTop;if(el.offsetParent!=null){var pos=GetPageOffset(el.offsetParent);x+=pos.x;y+=pos.y;}return{x:x,y:y};}function GetPageOffsetRight(el){return GetPageOffsetLeft(el)+el.offsetWidth;}function GetPageOffsetBottom(el){return GetPageOffsetTop(el)+el.offsetHeight;}function GetScrollTop(win){return GetWindowPropertyByBrowser_(win,getScrollTopGetters_);}var getScrollTopGetters_={ieQuirks_:function(win){return win.document.body.scrollTop;},ieStandards_:function(win){return win.document.documentElement.scrollTop;},dom_:function(win){return win.pageYOffset;}};function GetScrollLeft(win){return GetWindowPropertyByBrowser_(win,getScrollLeftGetters_);}var getScrollLeftGetters_={ieQuirks_:function(win){return win.document.body.scrollLeft;},ieStandards_:function(win){return win.document.documentElement.scrollLeft;},dom_:function(win){return win.pageXOffset;}};function IsScrollAtEnd(win,opt_isHoriz){var total=(opt_isHoriz)?document.body.offsetWidth:document.body.offsetHeight;var inner=(opt_isHoriz)?GetWindowWidth(win):GetWindowHeight(win);var offset=(opt_isHoriz)?GetScrollLeft(win):GetScrollTop(win);return(inner+offset>=total||total<inner);}function ScrollTo(win,el,position){var y=GetPageOffsetTop(el);y-=GetWindowHeight(win)*position;win.scrollTo(0,y);}var ALIGN_BOTTOM="b";var ALIGN_MIDDLE="m";var ALIGN_TOP="t";function ScrollIntoView(win,el,alignment){var el_top=GetPageOffsetTop(el);var el_bottom=el_top+el.offsetHeight;var win_top=GetScrollTop(win);var win_height=GetWindowHeight(win);var win_bottom=win_top+win_height;if(el_top<win_top||el_bottom>win_bottom){var scrollto_y;if(alignment==ALIGN_BOTTOM){scrollto_y=el_bottom-win_height+5;}else{if(alignment==ALIGN_MIDDLE){scrollto_y=(el_top+el_bottom)/2-win_height/2;}else{scrollto_y=el_top-5;}}win.scrollTo(0,scrollto_y);}}function IsElementVisible(win,id){var el=MaybeGetElement(win,id);if(el==null){return false;}var el_top=GetPageOffsetTop(el);var el_bottom=el_top+el.offsetHeight;var win_top=GetScrollTop(win);var win_bottom=win_top+GetWindowHeight(win);if(el_top>=win_top&&el_bottom<=win_bottom){return true;}return false;}function GetWindowWidth(win){return GetWindowPropertyByBrowser_(win,getWindowWidthGetters_);}var getWindowWidthGetters_={ieQuirks_:function(win){return win.document.body.clientWidth;},ieStandards_:function(win){return win.document.documentElement.clientWidth;},dom_:function(win){return win.innerWidth;}};function GetWindowHeight(win){return GetWindowPropertyByBrowser_(win,getWindowHeightGetters_);}var getWindowHeightGetters_={ieQuirks_:function(win){return win.document.body.clientHeight;},ieStandards_:function(win){return win.document.documentElement.clientHeight;},dom_:function(win){return win.innerHeight;}};function GetWindowPropertyByBrowser_(win,getters){try{if(BR_IsSafari()){return getters.dom_(win);}else{if(!window.opera&&"compatMode" in win.document&&win.document.compatMode=="CSS1Compat"){return getters.ieStandards_(win);}else{if(BR_IsIE()){return getters.ieQuirks_(win);}}}}catch(e){}return getters.dom_(win);}function GetAvailScreenWidth(win){return win.screen.availWidth;}function GetAvailScreenHeight(win){return win.screen.availHeight;}function GetNiceWindowHeight(win){return Math.floor(0.8*GetAvailScreenHeight(win));}function GetCenteringLeft(win,width){return(win.screen.availWidth-width)>>1;}function GetCenteringTop(win,height){return(win.screen.availHeight-height)>>1;}function Popup(url,opt_name,opt_width,opt_height,opt_center,opt_hide_scrollbars,opt_noresize,opt_blocked_msg){if(!opt_height){opt_height=Math.floor(GetWindowHeight(window.top)*0.8);}if(!opt_width){opt_width=Math.min(GetAvailScreenWidth(window),opt_height);}var features="resizable="+(opt_noresize?"no":"yes")+","+"scrollbars="+(opt_hide_scrollbars?"no":"yes")+","+"width="+opt_width+",height="+opt_height;if(opt_center){features+=",left="+GetCenteringLeft(window,opt_width)+","+"top="+GetCenteringTop(window,opt_height);}return OpenWindow(window,url,opt_name,features,opt_blocked_msg);}function OpenWindow(win,url,opt_name,opt_features,opt_blocked_msg){var newwin=OpenWindowHelper(top,url,opt_name,opt_features);if(!newwin||newwin.closed||!newwin.focus){newwin=OpenWindowHelper(win,url,opt_name,opt_features);}if(!newwin||newwin.closed||!newwin.focus){if(opt_blocked_msg){alert(opt_blocked_msg);}}else{newwin.focus();}return newwin;}function OpenWindowHelper(win,url,name,features){var newwin;if(features){newwin=win.open(url,name,features);}else{if(name){newwin=win.open(url,name);}else{newwin=win.open(url);}}return newwin;}function MaybeEscape(str,escape){return escape?HtmlEscape(str):str;}var windata=[];function GetWindowData(win){var data=windata[win.name];if(!data){windata[win.name]=data=[];}return data;}function ClearWindowData(win_name){if(windata[win_name]){windata[win_name]=null;}}var amp_re_=/&/g;var lt_re_=/</g;var gt_re_=/>/g;function HtmlEscape(str){if(!str){return"";}return str.replace(amp_re_,"&amp;").replace(lt_re_,"&lt;").replace(gt_re_,"&gt;").replace(quote_re_,"&quot;");}function HtmlUnescape(str){if(!str){return"";}return str.replace(/&#(\d+);/g,function(_,n){return String.fromCharCode(parseInt(n,10));}).replace(/&#x([a-f0-9]+);/gi,function(_,n){return String.fromCharCode(parseInt(n,16));}).replace(/&(\w+);/g,function(_,entity){entity=entity.toLowerCase();return entity in HtmlUnescape_unesc_?HtmlUnescape_unesc_[entity]:"?";});}var HtmlUnescape_unesc_={lt:"<",gt:">",quot:'"',nbsp:" ",amp:"&",apos:"'"};var dbsp_re_=/  /g;var ret_re_=/\r/g;var nl_re_=/\n/g;function HtmlWhitespaceEscape(str){str=HtmlEscape(str);str=str.replace(dbsp_re_,"&nbsp;&nbsp;");str=str.replace(ret_re_,"");str=str.replace(nl_re_,"<br>");return str;}var quote_re_=/\"/g;function QuoteEscape(str){return HtmlEscape(str).replace(quote_re_,"&quot;");}var JS_SPECIAL_RE_=/[\'\\\r\n\b\"<>&\u0085\u2028\u2029]/g;function JSEscOne_(s){return JSEscOne_.js_escs_[s];}function ToJSString(s){if(!JSEscOne_.js_escs_){var escapes={};escapes["\\"]="\\\\";escapes["'"]="\\047";escapes["\b"]="\\b";escapes['"']="\\042";escapes["<"]="\\074";escapes[">"]="\\076";escapes["&"]="\\046";escapes["\n"]="\\n";escapes["\r"]="\\r";escapes["\u0085"]="\\205";escapes["\u2028"]="\\u2028";escapes["\u2029"]="\\u2029";JSEscOne_.js_escs_=escapes;}return"'"+s.toString().replace(JS_SPECIAL_RE_,JSEscOne_)+"'";}var spc_re_=/\s+/g;var beg_spc_re_=/^ /;var end_spc_re_=/ $/;function CollapseWhitespace(str){if(!str){return"";}return str.replace(spc_re_," ").replace(beg_spc_re_,"").replace(end_spc_re_,"");}var newline_re_=/\r?\n/g;var spctab_re_=/[ \t]+/g;var nbsp_re_=/\xa0/g;function StripNewlines(str){if(!str){return"";}return str.replace(newline_re_," ");}function CanonicalizeNewlines(str){if(!str){return"";}return str.replace(newline_re_,"\n");}function HtmlifyNewlines(str){if(!str){return"";}return str.replace(newline_re_,"<br>");}function NormalizeSpaces(str){if(!str){return"";
}return str.replace(spctab_re_," ").replace(nbsp_re_," ");}function UrlEncode(str){return encodeURIComponent(str);}var plus_re_=/\+/g;function UrlDecode(str){return decodeURIComponent(str.replace(plus_re_," "));}function Trim(str){if(!str){return"";}return str.replace(/^\s+/,"").replace(/\s+$/,"");}function EndsWith(str,suffix){if(!str){return !suffix;}return(str.lastIndexOf(suffix)==(str.length-suffix.length));}function IsEmpty(str){return CollapseWhitespace(str)=="";}function IsLetterOrDigit(ch){return((ch>="a"&&ch<="z")||(ch>="A"&&ch<="Z")||(ch>="0"&&ch<="9"));}function IsSpace(ch){return(" \t\r\n".indexOf(ch)>=0);}var eol_re_=/\r\n?/g;var trailingspc_re_=/[\n\t ]+$/;function NormalizeText(str){return str.replace(eol_re_,"\n").replace(trailingspc_re_,"");}function HtmlEscapeInsertWbrs(str,n,chars_to_break_after,chars_to_break_before){AssertNumArgs(4);var out="";var strpos=0;var spc=0;for(var i=1;i<str.length;++i){var prev_char=str.charAt(i-1);var next_char=str.charAt(i);if(IsSpace(next_char)){spc=i;}else{if(i-spc==n||chars_to_break_after.indexOf(prev_char)!=-1||chars_to_break_before.indexOf(next_char)!=-1){out+=HtmlEscape(str.substring(strpos,i))+"<wbr>";strpos=i;spc=i;}}}out+=HtmlEscape(str.substr(strpos));return out;}var illegal_chars_re_=/[ \/(){}&|\\\"\000]/g;function CanonicalizeLabel(str,lowercase){var uppercase=str.replace(illegal_chars_re_,"-");return lowercase?uppercase.toLowerCase():uppercase;}function CompareStringsIgnoreCase(s1,s2){s1=s1.toLowerCase();s2=s2.toLowerCase();if(s1<s2){return -1;}else{if(s1==s2){return 0;}else{return 1;}}}function GetCursorPos(win,textfield){try{if(IsDefined(textfield.selectionEnd)){return textfield.selectionEnd;}else{if(win.document.selection&&win.document.selection.createRange){var tr=win.document.selection.createRange();if(tr.parentElement()!=textfield){return -1;}var tr2=tr.duplicate();tr2.moveToElementText(textfield);tr2.setEndPoint("EndToStart",tr);var cursor=tr2.text.length;if(cursor>textfield.value.length){return -1;}return cursor;}else{Debug("Unable to get cursor position for: "+navigator.userAgent);return textfield.value.length;}}}catch(e){DumpException(e,"Cannot get cursor pos");}return -1;}function SetCursorPos(win,textfield,pos){if(IsDefined(textfield.selectionEnd)&&IsDefined(textfield.selectionStart)){textfield.selectionStart=pos;textfield.selectionEnd=pos;}else{if(win.document.selection&&textfield.createTextRange){var sel=textfield.createTextRange();sel.collapse(true);sel.move("character",pos);sel.select();}}}function FindInArray(array,x){for(var i=0;i<array.length;i++){if(array[i]==x){return i;}}return -1;}function InsertArray(array,x){if(FindInArray(array,x)==-1){array[array.length]=x;}}function DeleteArrayElement(array,x){var i=0;while(i<array.length&&array[i]!=x){i++;}array.splice(i,1);}function CopyArray(array){var copy=[];for(var i=0;i<array.length;i++){copy[i]=array[i];}return copy;}function CloneObject(x){if((typeof x)=="object"){var y=[];for(var i in x){y[i]=CloneObject(x[i]);}return y;}return x;}function CloneEvent(ev){var clone={};clone.clientX=ev.clientX;clone.clientY=ev.clientY;clone.pageX=ev.pageX;clone.pageY=ev.pageY;clone.type=ev.type;clone.srcElement=ev.srcElement;clone.target=ev.target;clone.cancelBubble=ev.cancelBubble;clone.explicitOriginalTarget=ev.explicitOriginalTarget;clone.button=ev.button;clone.shiftKey=ev.shiftKey;clone.ctrlKey=ev.ctrlKey;return clone;}function GetEventTarget(ev){return ev.srcElement||ev.target;}function CancelEvent(ev){if(BR_IsIE()){ev.cancelBubble=true;}else{if(ev.stopPropagation){ev.stopPropagation();}}}function CancelDefaultAction(ev){if(BR_IsIE()){ev.returnValue=false;}else{ev.preventDefault();}}function PrintArray(array,data){AssertEquals(array.length,data.length*2+1);for(var i=0,idx=1;i<data.length;i++,idx+=2){array[idx]=data[i];}return array.join("");}function ImageHtml(url,attributes){return"<img "+attributes+" src="+url+">";}function MakeId3(idprefix,m,n){return idprefix+m+"_"+n;}function ParseAddress(addr){var name="";var address="";for(var i=0;i<addr.length;){var token=GetEmailToken(addr,i);if(token.charAt(0)=="<"){var end=token.indexOf(">");address=token.substring(1,(end!=-1)?end:token.length);}else{if(address==""){name+=token;}}i+=token.length;}if(address==""&&name.indexOf("@")!=-1){address=name;name="";}name=CollapseWhitespace(name);name=StripQuotes(name,"'");name=StripQuotes(name,'"');address=CollapseWhitespace(address);return[name,address];}function GetAddress(address){return ParseAddress(address)[1];}function GetAddressUsername(address){address=GetAddress(address);var at=address.indexOf("@");return(at==-1)?address:address.substr(0,at);}function GetPersonal(address){return ParseAddress(address)[0];}function GetPersonalElseUsername(address){var personal=GetPersonal(address);if(personal!=""){return personal;}else{return GetAddressUsername(address);}}function StripQuotes(str,quotechar){var len=str.length;if(str.charAt(0)==quotechar&&str.charAt(len-1)==quotechar){return str.substring(1,len-1);}return str;}function EmailsToArray(str){var result=[];var email="";var token;for(var i=0;i<str.length;){token=GetEmailToken(str,i);if(token==","){AddEmailAddress(result,email);email="";i++;continue;}email+=token;i+=token.length;}if(email!=""||token==","){AddEmailAddress(result,email);}return result;}var openers_='"<([';var closers_='">)]';function GetEmailToken(str,pos){var ch=str.charAt(pos);var p=openers_.indexOf(ch);if(p==-1){return ch;}var end_pos=str.indexOf(closers_.charAt(p),pos+1);var token=(end_pos>=0)?str.substring(pos,end_pos+1):str.substr(pos);return token;}function AddEmailAddress(result,email){email=CleanEmailAddress(email);result[result.length]=email;}var specialchars_re_=/[()<>@,;:\\\".\[\]]/;function CleanEmailAddress(str){var name_address=ParseAddress(str);var name=name_address[0];var address=name_address[1];if(name.indexOf('"')==-1){var quote_needed=specialchars_re_.test(name);if(quote_needed){name='"'+name+'"';}}if(name==""){return address;}else{if(address==""){return name;}else{return name+" <"+address+">";}}}function SafeTimeout(win,fn,ms){if(!win){win=window;}if(!win._tm){win._tm=[];}var timeoutfn=SafeTimeoutFunction_(win,fn);var id=win.setTimeout(timeoutfn,ms);timeoutfn.id=id;win._tm[id]=1;return id;}function SafeTimeoutFunction_(win,fn){var timeoutfn=function(){try{fn(win);var t=win._tm;if(t){delete t[timeoutfn.id];}}catch(e){DumpException(e);}};return timeoutfn;}function CancelTimeout(win,id){if(!win){win=window;}win.clearTimeout(id);if(win._tm){delete win._tm[id];}}function CancelAllTimeouts(win){if(win&&win._tm){try{for(var i in win._tm){win.clearTimeout(i);}win._tm=[];}catch(e){DumpException(e);}}}function CompareID(a,b){if(a.length!=b.length){return(a.length-b.length);}else{return(a<b)?-1:(a>b)?1:0;}}function IsDefined(value){return(typeof value)!="undefined";}function GetKeyCode(event){var code;if(event.keyCode){code=event.keyCode;}else{if(event.which){code=event.which;}}return code;}function forid_1(id){return document.getElementById(id);}function forid_2(id){return document.all[id];}var forid=document.getElementById?forid_1:forid_2;function GetFnName(func){AssertTrue(func,"func passed to GetFnName() is undefined");var name;if(!("name" in func)){var match=/\W*function\s+([\w\$]+)\(/.exec(func);if(!match){throw new Error("Cannot extract name from function: "+func);}name=match[1];func.name=name;}else{name=func.name;}if(!name||name=="anonymous"){throw new Error("Anonymous function has no name: "+func);}return func.name;}function log(msg){try{if(window.parent!=window&&window.parent.log){window.parent.log(window.name+"::"+msg);return;}}catch(e){}var logPane=forid("log");if(logPane){var logText="<p class=logentry><span class=logdate>"+new Date()+"</span><span class=logmsg>"+msg+"</span></p>";logPane.innerHTML=logText+logPane.innerHTML;}else{window.status=msg;}}var XH_ieProgId_;var XML_READY_STATE_UNINITIALIZED=0;var XML_READY_STATE_LOADING=1;var XML_READY_STATE_LOADED=2;var XML_READY_STATE_INTERACTIVE=3;var XML_READY_STATE_COMPLETED=4;
function XH_XmlHttpInit_(){var XH_ACTIVE_X_IDENTS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];if(typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var i=0;i<XH_ACTIVE_X_IDENTS.length;i++){var candidate=XH_ACTIVE_X_IDENTS[i];try{new ActiveXObject(candidate);XH_ieProgId_=candidate;break;}catch(e){}}if(!XH_ieProgId_){throw Error("Could not create ActiveXObject. ActiveX might be disabled,"+" or MSXML might not be installed.");}}}XH_XmlHttpInit_();function XH_XmlHttpCreate(){if(XH_ieProgId_){return new ActiveXObject(XH_ieProgId_);}else{return new XMLHttpRequest();}}function XH_XmlHttpGET(xmlHttp,url,handler){xmlHttp.open("GET",url,true);xmlHttp.onreadystatechange=handler;XH_XmlHttpSend(xmlHttp,null);}function XH_XmlHttpPOST(xmlHttp,url,data,handler){xmlHttp.open("POST",url,true);xmlHttp.onreadystatechange=handler;xmlHttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");XH_XmlHttpSend(xmlHttp,data);}function XH_XmlHttpOpen(xmlHttp,verb,url,handler){xmlHttp.open(verb,url,true);xmlHttp.onreadystatechange=handler;}function XH_XmlHttpSetRequestHeader(xmlHttp,name,value){xmlHttp.setRequestHeader(name,value);}function XH_XmlHttpSend(xmlHttp,data){try{xmlHttp.send(data);}catch(e){log("XMLHttpSend failed "+e.toString()+"<br>"+e.stack);throw e;}}function XH_XmlHttpAbort(xmlHttp){SafeTimeout(window,function(){xmlHttp.onreadystatechange=function(){};},0);if(xmlHttp.readyState<XML_READY_STATE_COMPLETED){xmlHttp.abort();}}function uri_parse(uriStr){var m=uriStr.match(URI_RE_);if(!m){return null;}return new URI(uri_nullIfAbsent_(m[1]),uri_nullIfAbsent_(m[2]),uri_nullIfAbsent_(m[3]),uri_nullIfAbsent_(m[4]),uri_nullIfAbsent_(m[5]),uri_nullIfAbsent_(m[6]),uri_nullIfAbsent_(m[7]));}function uri_create(scheme,credentials,domain,port,path,cgiParamList,fragment){var uri=new URI(uri_encodeIfExists2_(scheme,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),uri_encodeIfExists2_(credentials,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),uri_encodeIfExists_(domain),port>0?port.toString():null,uri_encodeIfExists2_(path,URI_DISALLOWED_IN_PATH_),null,uri_encodeIfExists_(fragment));if(cgiParamList){uri.SetAllCgiParameters(cgiParamList);}return uri;}function uri_encodeIfExists_(unescapedPart){if("string"==typeof unescapedPart){return encodeURIComponent(unescapedPart);}return null;}function uri_encodeIfExists2_(unescapedPart,extra){if("string"==typeof unescapedPart){return encodeURI(unescapedPart).replace(extra,uri_encodeOne_);}return null;}function uri_encodeOne_(ch){var n=ch.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt((n>>4)&15)+"0123456789ABCDEF".charAt(n&15);}function uri_resolve(baseUri,relativeUri){var absoluteUri=baseUri.Clone();var overridden=relativeUri.HasScheme();if(overridden){absoluteUri.SetRawScheme(relativeUri.GetRawScheme());}else{overridden=relativeUri.HasCredentials();}if(overridden){absoluteUri.SetRawCredentials(relativeUri.GetRawCredentials());}else{overridden=relativeUri.HasDomain();}if(overridden){absoluteUri.SetRawDomain(relativeUri.GetRawDomain());}else{overridden=relativeUri.HasPort();}var rawPath=relativeUri.GetRawPath();if(overridden){absoluteUri.SetPort(relativeUri.GetPort());}else{overridden=relativeUri.HasPath();if(overridden){if(!new RegExp("^/").test(rawPath)){rawPath=absoluteUri.GetRawPath().replace(new RegExp("/?[^/]*$"),"/"+rawPath);}}}if(overridden){absoluteUri.SetRawPath(rawPath);}else{overridden=relativeUri.HasQuery();}if(overridden){absoluteUri.SetRawQuery(relativeUri.GetRawQuery());}else{overridden=relativeUri.HasFragment();}if(overridden){absoluteUri.SetRawFragment(relativeUri.GetRawFragment());}return absoluteUri;}function URI(rawScheme,rawCredentials,rawDomain,port,rawPath,rawQuery,rawFragment){this.scheme_=rawScheme;this.credentials_=rawCredentials;this.domain_=rawDomain;this.port_=port;this.path_=rawPath;this.query_=rawQuery;this.fragment_=rawFragment;this.paramCache_=null;}URI.prototype.toString=function(){var out=[];if(null!==this.scheme_){out.push(this.scheme_,":");}if(null!==this.domain_){out.push("//");if(null!==this.credentials_){out.push(this.credentials_,"@");}out.push(this.domain_);if(null!==this.port_){out.push(":",this.port_.toString());}}if(null!==this.path_){out.push(this.path_);}if(null!==this.query_){out.push("?",this.query_);}if(null!==this.fragment_){out.push("#",this.fragment_);}return out.join("");};URI.prototype.Clone=function(){return new URI(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_);};URI.prototype.GetScheme=function(){return this.scheme_&&uri_decodeThatWorks_(this.scheme_);};URI.prototype.GetRawScheme=function(){return this.scheme_;};URI.prototype.SetScheme=function(newScheme){this.scheme_=uri_encodeIfExists2_(newScheme,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);return this;};URI.prototype.SetRawScheme=function(newScheme){this.scheme_=newScheme?newScheme:null;return this;};URI.prototype.HasScheme=function(){return null!==this.scheme_;};URI.prototype.GetCredentials=function(){return this.credentials_&&uri_decodeThatWorks_(this.credentials_);};URI.prototype.GetRawCredentials=function(){return this.credentials_;};URI.prototype.SetCredentials=function(newCredentials){this.credentials_=uri_encodeIfExists2_(newCredentials,URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);return this;};URI.prototype.SetRawCredentials=function(newCredentials){this.credentials_=newCredentials?newCredentials:null;return this;};URI.prototype.HasCredentials=function(){return null!==this.credentials_;};URI.prototype.GetDomain=function(){return this.domain_&&uri_decodeThatWorks_(this.domain_);};URI.prototype.GetRawDomain=function(){return this.domain_;};URI.prototype.SetDomain=function(newDomain){this.domain_=newDomain?encodeURIComponent(newDomain):null;return this;};URI.prototype.SetRawDomain=function(newDomain){this.domain_=newDomain?newDomain:null;return this;};URI.prototype.HasDomain=function(){return null!==this.domain_;};URI.prototype.GetPort=function(){return this.port_&&uri_decodeThatWorks_(this.port_);};URI.prototype.SetPort=function(newPort){if(newPort){if("number"!==typeof newPort){newPort=parseInt(newPort,10);if(newPort<0||isNaN(newPort)){throw new Error("Bad port number "+newPort);}}this.port_=newPort.toString();}else{this.port_=null;}return this;};URI.prototype.HasPort=function(){return null!==this.port_;};URI.prototype.GetPath=function(){return this.path_&&uri_decodeThatWorks_(this.path_);};URI.prototype.GetRawPath=function(){return this.path_;};URI.prototype.SetPath=function(newPath){this.path_=uri_encodeIfExists2_(newPath,URI_DISALLOWED_IN_PATH_);return this;};URI.prototype.SetRawPath=function(newPath){this.path_=newPath?newPath:null;return this;};URI.prototype.HasPath=function(){return null!==this.path_;};URI.prototype.GetQuery=function(){return this.query_&&uri_decodeThatWorks_(this.query_);};URI.prototype.GetRawQuery=function(){return this.query_;};URI.prototype.SetQuery=function(newQuery){this.paramCache_=null;this.query_=uri_encodeIfExists_(newQuery);return this;};URI.prototype.SetRawQuery=function(newQuery){this.paramCache_=null;this.query_=newQuery?newQuery:null;return this;};URI.prototype.HasQuery=function(){return null!==this.query_;};URI.prototype.SetAllCgiParameters=function(unescapedCgiParameters){this.paramCache_=null;var queryBuf=[];var separator="";for(var i=0;i<unescapedCgiParameters.length;){var k=unescapedCgiParameters[i++];var v=unescapedCgiParameters[i++];queryBuf.push(separator,encodeURIComponent(k.toString()));separator="&";if(v){queryBuf.push("=",encodeURIComponent(v.toString()));}}this.query_=queryBuf.join("");return this;};URI.prototype.CheckParameterCache_=function(){if(!this.paramCache_){if(!this.query_){this.paramCache_=[];}else{var cgiParams=this.query_.split(/[&\?]/);var out=[];for(var i=0;i<cgiParams.length;++i){var m=cgiParams[i].match(/^([^=]*)(?:=(.*))?$/);out.push(uri_decodeThatWorks_(m[1]),uri_decodeThatWorks_(m[2]||""));}this.paramCache_=out;}}};URI.prototype.SetCgiParameterValues=function(key,values){if(typeof values==="string"){values=[values];
}this.CheckParameterCache_();var newValueIndex=0;var pc=this.paramCache_;var params=[];for(var i=0,k=0;i<pc.length;i+=2){if(key===pc[i]){if(newValueIndex<values.length){params.push(key,values[newValueIndex++]);}}else{params.push(pc[i],pc[i+1]);}}while(newValueIndex<values.length){params.push(key,values[newValueIndex++]);}this.SetAllCgiParameters(params);return this;};URI.prototype.GetAllCgiParameters=function(){this.CheckParameterCache_();return this.paramCache_.slice(0,this.paramCache_.length);};URI.prototype.GetCgiParameterValues=function(paramNameUnescaped){this.CheckParameterCache_();var values=[];for(var i=0;i<this.paramCache_.length;i+=2){if(paramNameUnescaped===this.paramCache_[i]){values.push(this.paramCache_[i+1]);}}return values;};URI.prototype.GetCgiParameterMap=function(paramNameUnescaped){this.CheckParameterCache_();var paramMap={};for(var i=0;i<this.paramCache_.length;i+=2){var key=this.paramCache_[i++],value=this.paramCache_[i++];if(!(key in paramMap)){paramMap[key]=[value];}else{paramMap[key].push(value);}}return paramMap;};URI.prototype.GetCgiParameterValue=function(paramNameUnescaped){this.CheckParameterCache_();for(var i=0;i<this.paramCache_.length;i+=2){if(paramNameUnescaped===this.paramCache_[i]){return this.paramCache_[i+1];}}return null;};URI.prototype.GetFragment=function(){return this.fragment_&&uri_decodeThatWorks_(this.fragment_);};URI.prototype.GetRawFragment=function(){return this.fragment_;};URI.prototype.SetFragment=function(newFragment){this.fragment_=newFragment?encodeURIComponent(newFragment):null;return this;};URI.prototype.SetRawFragment=function(newFragment){this.fragment_=newFragment?newFragment:null;return this;};URI.prototype.HasFragment=function(){return null!==this.fragment_;};function uri_decodeThatWorks_(s){return decodeURIComponent(s).replace(/\+/g," ");}function uri_nullIfAbsent_(matchPart){return("string"==typeof matchPart)&&(matchPart.length>0)?matchPart:null;}var URI_RE_=new RegExp("^"+"(?:"+"([^:/?#]+)"+":)?"+"(?://"+"(?:([^/?#]*)@)?"+"([^/?#:@]*)"+"(?::([0-9]+))?"+")?"+"([^?#]+)?"+"(?:\\?([^#]*))?"+"(?:#(.*))?"+"$");var URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_=/[#\/\?@]/g;var URI_DISALLOWED_IN_PATH_=/[\#\?]/g;var ss_cached=[];var ss_qbackup=null;var ss_qshown=null;var ss_loc=-1;var ss_waiting=0;var ss_painting=false;var ss_key_handling_queue=null;var ss_painting_queue=null;var ss_dismissed=false;var ss_panic=false;var SS_ROW_CLASS="ss-gac-a";var SS_ROW_SELECTED_CLASS="ss-gac-b";if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this==null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(len===0){return -1;}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){n=0;}else{if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}}if(n>=len){return -1;}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}return -1;};}var ss_debug=new ss_Debugger();function ss_composeSuggestUri(qVal,suggestForm){if(!qVal){return null;}var accessVal=(suggestForm.access&&suggestForm.access.value)?suggestForm.access.value:"p";var uri="/search/as/suggest";if(SS_OUTPUT_FORMAT_LEGACY==ss_protocol){uri=uri+"?token="+encodeURIComponent(qVal)+"&max_matches="+ss_g_max_to_display;}else{uri=uri+"?q="+encodeURIComponent(qVal)+"&max="+ss_g_max_to_display;}uri=uri+"&access="+encodeURIComponent(accessVal)+"&format="+encodeURIComponent(ss_protocol);if(ss_isEmbeddedMode_()){uri=window["GSA_getResourceRootPathPrefix"]()+encodeURIComponent(uri);}return uri;}function ss_suggest(qVal){var startTimeMs=new Date().getTime();if(!ss_cached[qVal]){ss_cached[qVal]={};}var suggestForm=document.getElementById(ss_form_element);var uri=ss_composeSuggestUri(qVal,suggestForm);var url=uri;if(ss_panic){alert("ss_suggest() AJAX: "+url);}var xmlhttp=XH_XmlHttpCreate();var handler=function(){if(xmlhttp.readyState==XML_READY_STATE_COMPLETED){if(ss_panic){alert("ss_suggest() AJAX: "+xmlhttp.responseText);}var suggested;try{suggested=JSON.parse(xmlhttp.responseText);}catch(e){ss_cached[qVal].g=null;ss_show(qVal);return;}if(ss_use.g){try{switch(ss_protocol){case SS_OUTPUT_FORMAT_LEGACY:default:var suggestions=suggested;if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){ss_cached[qVal].g[si]={"q":suggestions[si]};found=true;}if(!found){ss_cached[qVal].g=null;}}else{ss_cached[qVal].g=null;}break;case SS_OUTPUT_FORMAT_OPEN_SEARCH:if(suggested.length>1){var suggestions=suggested[1];if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){if(suggestions[si]&&suggestions[si]!=suggested[0]){ss_cached[qVal].g[si]={"q":suggestions[si]};found=true;}else{if((suggested.length>3)&&ss_allow_non_query){var title=(suggested[2].length>si)?null:suggested[2][si];var url=(suggested[3].length>si)?null:suggested[3][si];if(url){title=!title?ss_non_query_empty_title:title;ss_cached[qVal].g[si]={"t":title,"u":url};found=true;}}}}if(!found){ss_cached[qVal].g=null;}}else{ss_cached[qVal].g=null;}}else{ss_cached[qVal].g=null;}break;case SS_OUTPUT_FORMAT_RICH:var suggestions=suggested.results;var relatedSuggestion=suggested.relatedSuggestion;if(suggestions&&suggestions.length>0){var found=false;ss_cached[qVal].g=[];var max=(ss_g_max_to_display<=0)?suggestions.length:Math.min(ss_g_max_to_display,suggestions.length);for(var si=0;si<max;si++){if(suggestions[si].name&&suggestions[si].name!=suggested.query){ss_cached[qVal].g[si]={"q":suggestions[si].name};found=true;}else{if(ss_allow_non_query){var title=suggestions[si].content;var url=suggestions[si].moreDetailsUrl;if(url){title=!title?ss_non_query_empty_title:title;ss_cached[qVal].g[si]={"t":title,"u":url};found=true;}}}}if(!found){ss_cached[qVal].g=null;}}else{ss_cached[qVal].g=null;}if(relatedSuggestion&&relatedSuggestion.length>0){var found=false;ss_cached[qVal].r=[];var max=(ss_r_max_to_display<=0)?relatedSuggestion.length:Math.min(ss_r_max_to_display,relatedSuggestion.length);for(var si=0;si<max;si++){if(relatedSuggestion[si].message&&relatedSuggestion[si].message!=suggested.query){ss_cached[qVal].r[si]={"q":relatedSuggestion[si].message,"u":relatedSuggestion[si].url};found=true;}else{if(ss_allow_non_query){var title=suggestions[si].content;var url=suggestions[si].moreDetailsUrl;if(url){title=!title?ss_non_query_empty_title:title;ss_cached[qVal].g[si]={"t":title,"u":url};found=true;}}}}if(!found){ss_cached[qVal].g=null;}}break;}}catch(e){ss_cached[qVal].g=null;}}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){var stopTimeMs=new Date().getTime();ss_debug.addRequestDebugLine(qVal,"suggest",stopTimeMs-startTimeMs,ss_cached[qVal]);}ss_show(qVal);}};XH_XmlHttpPOST(xmlhttp,url,"",handler);}function ss_processed(qVal){if(!ss_cached[qVal]&&ss_use.g){return false;}return true;}function ss_handleAllKey(e){var kid=(window.event)?window.event.keyCode:e.keyCode;switch(kid){case 40:case 38:break;case 9:ss_qbackup=null;ss_dismissed=true;ss_clear(true);case 16:ss_qbackup=null;ss_dismissed=true;var qry=document.getElementById(ss_form_element).q.value;if(!ss_processed(qry)){if(ss_panic){alert("run ajax when key off");}ss_suggest(qry);}break;case 113:if(!ss_allow_debug){break;}if(ss_debug&&ss_debug.getDebugMode()){ss_debug.deactivateConsole();}else{ss_debug.activateConsole();}break;default:break;}}function ss_handleKey(e,opt_inputEle){ss_initEmbedMode_(opt_inputEle);var kid=(window.event)?window.event.keyCode:e.keyCode;var fo=document.getElementById(ss_form_element);if(ss_isEmbeddedMode_()){document.getElementById(ss_form_element).q.value=opt_inputEle.value;}var qnow=(!ss_qbackup)?fo.q.value:ss_qbackup;var sum=0;var tbl=document.getElementById(ss_popup_element);switch(kid){case 40:ss_dismissed=false;if(ss_processed(qnow)){sum=ss_countSuggestions(qnow);
if(sum>0){if(tbl.style.visibility=="hidden"){ss_show(qnow);break;}if(ss_qbackup){ss_loc++;}else{ss_qbackup=qnow;ss_loc=0;}while(ss_loc>=sum){ss_loc-=sum;}var rows=tbl.getElementsByTagName("tr");for(var ri=0;ri<rows.length-1;ri++){if(ri==ss_loc){rows[ri].className=SS_ROW_SELECTED_CLASS;}else{rows[ri].className=SS_ROW_CLASS;}}var suggestion=ss_locateSuggestion(qnow,ss_loc);if(suggestion.q){fo.q.value=suggestion.q;if(ss_isEmbeddedMode_()&&opt_inputEle){opt_inputEle.value=suggestion.q;}}else{fo.q.value=ss_qbackup;if(ss_isEmbeddedMode_()&&opt_inputEle){opt_inputEle.value=ss_qbackup;}}}}else{if(ss_panic){alert("run ajax when key down");}ss_suggest(qnow);}break;case 38:ss_dismissed=false;if(ss_processed(qnow)){sum=ss_countSuggestions(qnow);if(sum>0){if(tbl.style.visibility=="hidden"){ss_show(qnow);break;}if(ss_qbackup){ss_loc--;}else{ss_qbackup=qnow;ss_loc=-1;}while(ss_loc<0){ss_loc+=sum;}var rows=tbl.getElementsByTagName("tr");for(var ri=0;ri<rows.length-1;ri++){if(ri==ss_loc){rows[ri].className=SS_ROW_SELECTED_CLASS;}else{rows[ri].className=SS_ROW_CLASS;}}var suggestion=ss_locateSuggestion(qnow,ss_loc);if(suggestion.q){fo.q.value=suggestion.q;}else{fo.q.value=ss_qbackup;}}}else{if(ss_panic){alert("run ajax when key up");}ss_suggest(qnow);}break;case 13:case 9:if(ss_isEmbeddedMode_()){return;}var url=null;if(ss_processed(qnow)&&ss_qbackup&&ss_loc>-1){var suggestion=ss_locateSuggestion(ss_qbackup,ss_loc);if(suggestion.u){url=suggestion.u;}}ss_qbackup=null;ss_dismissed=true;ss_clear();if(url){window.location.href=url;}break;case 27:if(ss_qbackup){fo.q.value=ss_qbackup;ss_qbackup=null;}ss_dismissed=true;ss_clear();break;case 37:case 39:case 16:break;default:ss_dismissed=false;if(fo.q.value==ss_qshown){}else{if(ss_key_handling_queue){clearTimeout(ss_key_handling_queue);}ss_qbackup=null;ss_loc=-1;ss_waiting++;if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addWaitDebugLine(fo.q.value,"queue",ss_wait_millisec);}ss_key_handling_queue=setTimeout(function(){ss_handleQuery(ss_escape(fo.q.value),ss_waiting);},ss_wait_millisec);}break;}}function ss_isEmbeddedMode_(){return window["GSA_isEmbeddedMode"]&&window.GSA_isEmbeddedMode();}function ss_handleQuery(query,waiting1){if(waiting1!=ss_waiting){return;}ss_waiting=0;if(query==""){ss_clear();}else{if(!ss_processed(query)){if(ss_panic){alert("run ajax when key change");}ss_suggest(query);}else{ss_show(query);}}}function ss_removeNode_(node){return node&&node.parentNode?node.parentNode.removeChild(node):null;}function ss_replaceNode_(newNode,oldNode){var parentNode=oldNode.parentNode;if(parentNode){parentNode.replaceChild(newNode,oldNode);}}function ss_initEmbedMode_(inputEle){var suggestFormEle=document.getElementById(ss_form_element);if(!suggestFormEle&&ss_isEmbeddedMode_()){var embedModeFormEle=document.createElement("form");embedModeFormEle.id="suggestform"+new Date().getTime();var formParamsEle=document.getElementById("gsaembedmodeformparams");var inputEles=formParamsEle.getElementsByTagName("INPUT");for(var i=0;i<inputEles.length;i++){embedModeFormEle.appendChild(inputEles[i].cloneNode(true));}ss_replaceNode_(embedModeFormEle,formParamsEle);var bodyEle=document.getElementsByTagName("BODY")[0];bodyEle.appendChild(embedModeFormEle);ss_form_element=embedModeFormEle.id;var suggestPopupTableEle=document.createElement("table");suggestPopupTableEle.border="0";suggestPopupTableEle.cellPadding="0";suggestPopupTableEle.cellSpacing="0";suggestPopupTableEle.className="ss-gac-m ss-embed-mode";suggestPopupTableEle.id="sspop"+new Date().getTime();suggestPopupTableEle.style.visibility="hidden";ss_popup_element=suggestPopupTableEle.id;inputEle.parentNode.insertBefore(suggestPopupTableEle,inputEle);}}function ss_sf(){if(!ss_isEmbeddedMode_()){document.getElementById(ss_form_element).q.focus();}ss_dismissed=false;}function ss_clear(nofocus){ss_qshown=null;var fo=document.getElementById(ss_form_element);var qnow=(!ss_qbackup)?fo.q.value:ss_qbackup;ss_hide(qnow);if(!nofocus){ss_sf();}}function ss_hide(qry){var tbl=document.getElementById(ss_popup_element);if(tbl.style.visibility=="visible"){if(ss_panic){alert("close suggestion box");}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addHideDebugLine(qry,"hide");}tbl.style.visibility="hidden";tbl.setAttribute("aria-hidden","true");}}function ss_show(qry){var currentQry=document.getElementById(ss_form_element).q.value;if(currentQry!=qry){if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addHideDebugLine(qry,"skip");}return;}var startTimeMs=new Date().getTime();if(ss_dismissed){ss_qshown=null;ss_hide(qry);return;}if(!ss_processed(qry)){return;}if(qry==""){ss_hide(qry);return;}var g=ss_cached[qry]?ss_cached[qry].g:null;var r=ss_cached[qry]?ss_cached[qry].r:null;var disp=false;if(ss_use.g&&g){disp=true;}if(!disp){ss_qshown=null;ss_hide(qry);return;}if(ss_painting){if(ss_painting_queue){clearTimeout(ss_painting_queue);}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){ss_debug.addWaitDebugLine(qry,"delay",ss_delay_millisec);}ss_painting_queue=setTimeout(function(){ss_show(ss_escape(qry));},ss_delay_millisec);return;}else{ss_painting=true;}var tbl=document.getElementById(ss_popup_element);for(var ri=tbl.rows.length-1;ri>-1;ri--){tbl.deleteRow(ri);}var cnt=0;var rCount=0;for(var z=0;z<ss_seq.length;z++){switch(ss_seq[z]){case"g":cnt+=ss_showSuggestion(g,cnt,tbl,qry);rCount+=ss_showRelatedSuggestion(r,rCount,tbl,qry);break;}if(ss_max_to_display>0&&cnt>=ss_max_to_display){break;}}if(cnt>0){var row=tbl.insertRow(-1);row.className="ss-gac-e";var cls=document.createElement("td");cls.colSpan=2;var clsTxt=document.createElement("span");clsTxt.onclick=function(){ss_qbackup=null;ss_clear();var query=document.getElementById(ss_form_element).q.value;if(!ss_processed(query)){ss_dismissed=true;if(ss_panic){alert("run ajax when mouse close");}ss_suggest(query);}};cls.appendChild(clsTxt);row.appendChild(cls);tbl.style.visibility="visible";tbl.setAttribute("aria-hidden","false");ss_qshown=qry;if(ss_panic){alert("open suggestion box for "+qry);}if(ss_allow_debug&&ss_debug&&ss_debug.getDebugMode()){var stopTimeMs=new Date().getTime();ss_debug.addShowDebugLine(qry,stopTimeMs-startTimeMs,ss_cached[qry],cnt);}}else{ss_hide(qry);}ss_painting=false;}function ss_showSuggestion(g,cnt,tbl,qry){if(ss_max_to_display>0&&cnt>=ss_max_to_display){return 0;}if(g&&g.length>0){lqry=qry.toLowerCase().replace(/\"/g,"");for(var i=0;i<g.length;i++){var row=tbl.insertRow(-1);row.onclick=ss_handleMouseC;row.onmousemove=ss_handleMouseM;row.className=SS_ROW_CLASS;var alt=document.createElement("td");if(g[i].q){var txtNode="<b>"+g[i].q.substr(0,lqry.length)+"</b>";if(g[i].q.length>lqry.length){txtNode+=g[i].q.substring(lqry.length);}alt.innerHTML=txtNode;}else{alt.innerHTML="<i>"+g[i].t+"</i>";}alt.className="ss-gac-c";row.appendChild(alt);var clue="";if(i==0&&g.length==1){clue=ss_g_one_name_to_display;}else{if(i==0){clue=ss_g_more_names_to_display;}}if(ss_max_to_display>0&&cnt+i+1>=ss_max_to_display){return i+1;}}return g.length;}return 0;}function ss_showRelatedSuggestion(g,cnt,tbl,qry){if(ss_max_to_display>0&&cnt>=ss_max_to_display){return 0;}if(g&&g.length>0){var headRow=tbl.insertRow(-1);headRow.onclick=ss_handleMouseC;headRow.onmousemove=ss_handleMouseM;headRow.className=SS_ROW_CLASS;var headAlt=document.createElement("td");headAlt.innerHTML='<div id="ss-gac-line"></div><div id="ss-gac-related">Related Suggestions</div>';headRow.appendChild(headAlt);lqry=qry.toLowerCase().replace(/\"/g,"");for(var i=0;i<g.length;i++){var row=tbl.insertRow(-1);row.onclick=ss_handleMouseC;row.onmousemove=ss_handleMouseM;row.className=SS_ROW_CLASS;var alt=document.createElement("td");if(g[i].q){var txtNode="<a href="+g[i].u+">"+g[i].q+"</a>";alt.innerHTML=txtNode;}else{alt.innerHTML="<i>"+g[i].t+"</i>";}alt.className="ss-gac-c";row.appendChild(alt);var clue="";if(i==0&&g.length==1){clue=ss_g_one_name_to_display;}else{if(i==0){clue=ss_g_more_names_to_display;}}if(ss_max_to_display>0&&cnt+i+1>=ss_max_to_display){return i+1;
}}return g.length;}return 0;}function ss_handleMouseM(){var fo=document.getElementById(ss_form_element);var tbl=document.getElementById(ss_popup_element);var rows=tbl.getElementsByTagName("tr");for(var ri=0;ri<rows.length-1;ri++){if(rows[ri]==this&&rows[ri].className!=SS_ROW_SELECTED_CLASS){rows[ri].className=SS_ROW_SELECTED_CLASS;if(!ss_qbackup){ss_qbackup=fo.q.value;}ss_loc=ri;var suggestion=ss_locateSuggestion(ss_qbackup,ss_loc);if(suggestion.q){fo.q.value=suggestion.q;}else{fo.q.value=ss_qbackup;}}else{if(rows[ri]!=this){rows[ri].className=SS_ROW_CLASS;}}}ss_sf();return true;}function ss_handleMouseC(){var fo=document.getElementById(ss_form_element);var tbl=document.getElementById(ss_popup_element);var rows=tbl.getElementsByTagName("tr");for(var ri=0;ri<rows.length-1;ri++){if(rows[ri]==this){if(!ss_qbackup){ss_qbackup=fo.q.value;}ss_loc=ri;var suggestion=ss_locateSuggestion(ss_qbackup,ss_loc);if(suggestion.q){fo.q.value=suggestion.q;fo.submit();}else{fo.q.value=ss_qbackup;if(suggestion.u){window.location.href=suggestion.u;}}break;}}}function ss_countSuggestions(query){var cnt=0;for(var i=0;i<ss_seq.length;i++){switch(ss_seq[i]){case"g":cnt+=ss_cached[query].g?ss_cached[query].g.length:0;break;}if(ss_max_to_display>0&&cnt>=ss_max_to_display){return ss_max_to_display;}}return cnt;}function ss_locateSuggestion(query,loc){var cnt1=0;var cnt2=0;var type=null;for(var z=0;z<ss_seq.length;z++){switch(ss_seq[z]){case"g":cnt2+=ss_cached[query].g?ss_cached[query].g.length:0;break;}if(loc>=cnt1&&loc<cnt2){switch(ss_seq[z]){case"g":var qV=ss_cached[query].g[loc-cnt1].q;if(qV){return{"q":qV};}else{return{"u":ss_cached[query].g[loc-cnt1].u};}}break;}cnt1=cnt2;}return null;}function ss_escape(query){return query.replace(/\\/g,"\\\\").replace(/\"/g,'\\"');}function ss_escapeDbg(query){var escapedQuery="";var ch=query.split("");for(var i=0;i<ch.length;i++){switch(ch[i]){case"&":escapedQuery+="&amp;";break;case"<":escapedQuery+="&lt;";break;case">":escapedQuery+="&gt;";break;default:escapedQuery+=ch[i];break;}}return escapedQuery;}function ss_Debugger(){this.debugMode=false;}ss_Debugger.DEBUG_CONSOLE_ID="ss_debug_console";ss_Debugger.DEBUG_CONTENT_ID="ss_debug_content";ss_Debugger.DEBUG_TOGGLE_ID="ss_debug_toggle";ss_Debugger.prototype.getDebugMode=function(){return this.debugMode;};ss_Debugger.prototype.activateConsole=function(){var console=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(console){console.style.display="block";}else{var dc=document.createElement("div");dc.id=ss_Debugger.DEBUG_CONSOLE_ID;dc.zIndex=100;dc.className="expanded";var title=document.createElement("h1");title.appendChild(document.createTextNode("GSA Suggest Debug Console"));title.style.display="inline";dc.appendChild(title);var actn=document.createElement("div");actn.style.styleFloat="right";actn.style.cssFloat="right";var btn=document.createElement("button");btn.onclick=function(event){var debugContent=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(debugContent){for(var ri=debugContent.rows.length-1;ri>0;ri--){debugContent.deleteRow(ri);}}};btn.appendChild(document.createTextNode("Clear console"));actn.appendChild(btn);btn=document.createElement("button");btn.onclick=function(event){ss_cached=[];};btn.appendChild(document.createTextNode("Clear cache"));actn.appendChild(btn);btn=document.createElement("button");btn.id=ss_Debugger.DEBUG_TOGGLE_ID;btn.onclick=function(event){var debugConsole=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(debugConsole){var b=document.getElementById(ss_Debugger.DEBUG_TOGGLE_ID);if(debugConsole.className.indexOf("expanded")!=-1){debugConsole.className=debugConsole.className.replace(/expanded/,"contracted");b.innerHTML="Maximize";}else{debugConsole.className=debugConsole.className.replace(/contracted/,"expanded");b.innerHTML="Minimize";}}};btn.appendChild(document.createTextNode("Minimize"));actn.appendChild(btn);actn.style.display="inline";dc.appendChild(actn);dc.appendChild(document.createElement("br"));var pane=document.createElement("table");pane.id=ss_Debugger.DEBUG_CONTENT_ID;var dhr=pane.insertRow(-1);var dhc=document.createElement("th");dhc.innerHTML="Query";dhr.appendChild(dhc);dhc=document.createElement("th");dhc.innerHTML="Type";dhr.appendChild(dhc);dhc=document.createElement("th");dhc.innerHTML="Time";dhr.appendChild(dhc);dhc=document.createElement("th");dhc.innerHTML="g";dhr.appendChild(dhc);dhc=document.createElement("th");dhc.innerHTML="Total";dhr.appendChild(dhc);dc.appendChild(pane);document.body.appendChild(dc);}this.debugMode=true;};ss_Debugger.prototype.deactivateConsole=function(){var console=document.getElementById(ss_Debugger.DEBUG_CONSOLE_ID);if(console){console.style.display="none";}this.debugMode=false;};ss_Debugger.prototype.addRequestDebugLine=function(query,type,time,obj){var debugContent=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(debugContent){var currentRow=debugContent.insertRow(1);var currentCell=document.createElement("td");currentCell.innerHTML="&lt;"+ss_escapeDbg(query)+"&gt;";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.innerHTML=type;currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=time+" ms";currentRow.appendChild(currentCell);switch(type){case"suggest":currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=(obj.g?obj.g.length:0);currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentRow.appendChild(currentCell);break;default:currentCell=document.createElement("td");currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentRow.appendChild(currentCell);break;}}};ss_Debugger.prototype.addShowDebugLine=function(query,time,o,total){var debugContent=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(debugContent){var currentRow=debugContent.insertRow(1);var currentCell=document.createElement("td");currentCell.innerHTML="&lt;"+ss_escapeDbg(query)+"&gt;";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.innerHTML="<i>show</i>";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=time+" ms";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=(o?(o.g?o.g.length:0):0);currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=total;currentRow.appendChild(currentCell);}};ss_Debugger.prototype.addHideDebugLine=function(query,type){var debugContent=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(debugContent){var currentRow=debugContent.insertRow(1);var currentCell=document.createElement("td");currentCell.innerHTML="&lt;"+ss_escapeDbg(query)+"&gt;";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.innerHTML="<i>"+type+"</i>";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML="0 ms";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentRow.appendChild(currentCell);}};ss_Debugger.prototype.addWaitDebugLine=function(query,type,time){var debugContent=document.getElementById(ss_Debugger.DEBUG_CONTENT_ID);if(debugContent){var currentRow=debugContent.insertRow(1);var currentCell=document.createElement("td");currentCell.innerHTML="&lt;"+ss_escapeDbg(query)+"&gt;";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.innerHTML="<i>"+type+"</i>";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentCell.className="no";currentCell.innerHTML=time+" ms";currentRow.appendChild(currentCell);currentCell=document.createElement("td");currentRow.appendChild(currentCell);
currentCell=document.createElement("td");currentRow.appendChild(currentCell);}};var ss_use={};ss_use.g=ss_seq.indexOf("g")>=0?true:false;$(window).load(function(){var $inputField=$("#inputTopSearchField"),$searchButton=$(".register");$searchButton.attr("disabled",true);$inputField.keyup(function(){var trigger=false;$inputField.each(function(){if(!$(this).val()){trigger=true;}});trigger?$searchButton.attr("disabled",true):$searchButton.removeAttr("disabled");});});
WF.Component.BannerLightbox=function(){var link="";var newId="";var offset=0;var fadeSpeed=500;var obj={};$(".bannerThumb-item").each(function(){link=$("a",this).attr("id");newId=link.replace("link","content");obj=$(this);var clist=WF.Utils.getClist(this);$(this).clone().appendTo($(this)).attr("id",newId).attr("class","bannerThumb-content").find(".bannerThumb-details").removeClass("bannerThumb-details");$(this).attr("aria-haspopup","true");$(this).find("h2 > a").data("newId",newId).data("obj",obj).bind("click keypress",function(e){if(e.type=="keypress"&&e.keyCode!=13){return;}var popObj="#"+$(this).data("newId");var object=$(this).data("obj");offset=$(object).offset();$(popObj).css({"top":offset.top+10,"left":offset.left+10});$(".bannerThumb-content").fadeOut(fadeSpeed).attr("aria-hidden","true");$(popObj).fadeIn(fadeSpeed,function(){$(popObj).find(".c28aLink").each(function(){new WF.Component.LightBox(this);});$(popObj).find("h2").attr("tabindex",0).focus();}).attr("aria-hidden","false");$("body").data("lastClickedAbout",$(this));WF.Utils.trackVS({"event":"LinkActivated","eventType":e.type,"eventDescription":"aboutPageTopicOpen","custom-topic-title":$.trim($(this).text()),"clist":clist});return false;});$("#"+newId).attr({"role":"dialog","aria-labelledby":newId}).prepend($('<span class="bannerThumb-close"><a href="#"><img src="/assets/images/global/btn-close-x.png" alt="Close"/></a></span>'));var triggerLink=$("#"+newId).find(".bannerThumb-link");$(triggerLink).replaceWith($(triggerLink).html());$(".bannerThumb-content ul li a").click(function(){return true;});$(".bannerThumb-close, .c28close").bind("click",function(){$(".bannerThumb-content").fadeOut(fadeSpeed).attr("aria-hidden","true");return false;});$(document).keyup(function(e){if(e.keyCode===27){$(".bannerThumb-content").fadeOut(fadeSpeed).attr("aria-hidden","true");$("body").data("lastClickedAbout").focus();}});});var offsetFix=($("html").hasClass("ie7"))?0:-102;$(window).resize(function(){var popObj=$(".bannerThumb-content:visible");if($("body").data("lastClickedAbout")){var offset=$("body").data("lastClickedAbout").offset();$(popObj).css({"top":(offset.top+offsetFix)+10,"left":offset.left+10});}});};WF.OnLoads.setupBannerLightbox=function(){WF.Component.BannerLightbox();};
WF.Component.SocialShare={};WF.Component.SocialShare.Options={"VisibleWidgetItems":["Facebook","Twitter"],"PopupItems":["LinkedIn","GooglePlus","email"],"ParameterSharingStyle":"listed","ParametersToShare":["hmc",],"ParametersToNeverShare":["utm_source",],"Shares":{"email":{"Name":{"en":"Email","es":"Correo electr&oacute;nico"},"ShareUrl":"mailto:?body=EMAIL_BODY&subject=EMAIL_SUBJECT","ImageClass":"email","DataMrktTrackingId":"12b2dcff-4d31-4358-9b5a-2ef159e3e6ae","OldStyleImageClass":"c52email"},"Facebook":{"Name":{"en":"Facebook","es":"Facebook"},"ShareUrl":"http://www.facebook.com/sharer.php?u=(THIS_URL?ss=fb)&t=THIS_HEADER","ImageClass":"facebook","OldStyleImageClass":"c52fb","TrackingCodeShort":"fb","TrackingCodeLong":"facebook","OpenInLightbox":true,"DataMrktTrackingId":"3b21794e-c658-46f4-900f-297d992ea6f9","LightboxUrl":"/exit/social?site=facebook"},"GooglePlus":{"Name":{"en":"Google+","es":"Google+"},"ShareUrl":"https://plus.google.com/share?url=(THIS_URL?ss=gp)","ImageClass":"gplus","OldStyleImageClass":"c52googleplus","TrackingCodeShort":"gp","DataMrktTrackingId":"9b5f3891-1782-4f27-809b-6ad1be8b874d","TrackingCodeLong":"googleplus"},"Instagram":{"Name":{"en":"Instagram","es":"Instagram"},"ShareUrl":"/exit/social?site=INSTAGRAM_MAYBE","DataMrktTrackingId":"15b799cb-d9d5-40e4-8be9-087e890bdd0e","ImageClass":"instagram"},"LinkedIn":{"Name":{"en":"LinkedIn","es":"LinkedIn"},"ShareUrl":"http://www.linkedin.com/shareArticle?mini=true&ro=false&url=(THIS_URL?ss=ln)&summary=THIS_TITLE&title=THIS_TITLE&source=","ImageClass":"linkedin","OldStyleImageClass":"c52linkedin","TrackingCodeShort":"ln","DataMrktTrackingId":"63acf149-eab5-49f1-b8f2-2be026ec13ca","TrackingCodeLong":"linkedin"},"Pinterest":{"Name":{"en":"Pinterest","es":"Pinterest"},"ShareUrl":"/exit/social?site=PINTEREST_MAYBE","ImageClass":"pinterest"},"Twitter":{"Name":{"en":"Twitter","es":"Twitter"},"ShareUrl":"http://twitter.com/share?url=(THIS_URL?ss=tw)&text=Discover THIS_HEADER from Wells Fargo - ","ImageClass":"twitter","OldStyleImageClass":"c52twitter","TrackingCodeShort":"tw","TrackingCodeLong":"twitter","DataMrktTrackingId":"415a27d6-dd26-4063-8081-5196399dc4dd","OpenInLightbox":true,"LightboxUrl":"/exit/social?site=twitter"}},"Strings":{"BeginningOfPopup":{"en":"Beginning of popup","es":"Comienzo de ventana emergente"},"EndOfPopup":{"en":"End of popup","es":"Fin de ventana emergente"},"Share":{"en":"Share","es":"Comparta"},"DisclosureHeader":{"en":"Share this page","es":"Comparta esta p&aacute;gina"},"DisclosureText":{"en":"Choose a link above. We provide these links to external websites for your convenience. Wells Fargo does not endorse and is not responsible for their content, links, privacy policies, or security policies.","es":"Seleccione uno de los enlaces electr&oacute;nicos arriba. Para su conveniencia, le proporcionamos estos enlaces electr&oacute;nicos a sitios de Internet externos. Wells Fargo no avala ni se hace responsable por el contenido, los enlaces electr&oacute;nicos, las pol&iacute;ticas de privacidad o las pol&iacute;ticas de seguridad de esos sitios de Internet."},"EmailIntro":{"en":"Hi,\n\nI thought you'd be interested in this page I found on wellsfargo.com: \n\n","es":"Pens&eacute; que podr&iacute;a interesarle esta p&aacute;gina que encontr&eacute; en wellsfargo.com/spanish:\n\n"}}};WF.Component.SocialShare.Widget=function(el){el=$(el).get(0);if(el.id){return;}else{el.id=WF.Utils.generateUniqueId(el);}var self=this,$el=$(el),$visibleWidget,$popupContainer,$popupOpener,$pageHeader=$("h1"),$pageTitle=$("title"),useOldStyle=$el.hasClass("c52noLink");this.createVisibleWidget=function(){$visibleWidget=$('<div class="VisibleWidget"/>');$el.append($visibleWidget);$visibleWidget.append('<div class="labelText">'+WF.Component.SocialShare.Options.Strings.Share[WF.Page.lang]+"</div>");$.each(WF.Component.SocialShare.Options.VisibleWidgetItems,function(i,item){self.createVisibleLink(item);});$popupOpener=$('<a href="#" class="PopupOpener" aria-haspopup="true"> </a>').click(function(evt){if($(this).hasClass("active")){self.hide(evt);}else{$(".PopupOpener").removeClass("active");$(".Popup").hide();self.show(evt);}});$visibleWidget.append($popupOpener);};this.createOldStyleVisibleWidget=function(){$visibleWidget=$el;$visibleWidget.html(WF.Component.SocialShare.Options.Strings.Share[WF.Page.lang]);$visibleWidget=$visibleWidget.parent();$.each(WF.Component.SocialShare.Options.VisibleWidgetItems,function(i,item){self.createVisibleLink(item);});$popupOpener=$('<a href="#" class="c52Link PopupOpener" aria-haspopup="true"> </a>').click(function(evt){if($(this).hasClass("active")){self.hide(evt);}else{$(".c52Link").removeClass("active");$(".c52").hide();self.show(evt);}});$visibleWidget.append($popupOpener);};this.createVisibleLink=function(item){var $link=$("<a/>"),opts=WF.Component.SocialShare.Options.Shares[item],linkClass=(useOldStyle)?opts.OldStyleImageClass:"ShareLink";hiddenSpanClass=(useOldStyle)?"jaws_hidden":"hide_from_sight";$link.append($('<span class="'+hiddenSpanClass+'">'+opts.Name[WF.Page.lang]+"</span>")).attr({"class":linkClass,"href":self.fixUpUrl(opts.ShareUrl),"target":"_blank","data-mrkt-tracking-id":opts.DataMrktTrackingId,"aria-haspopup":"true"}).addClass(opts.ImageClass).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"url":WF.Utils.addUrlParam(window.location.href,"ss",opts.TrackingCodeShort),"event":"LinkActivated","eventType":evt.type,"eventDescription":opts.TrackingCodeLong+"Continue"});});if(opts.OpenInLightbox){$link.addClass("c28aLink").data("lightboxOptions",'{"exitPageDestination": "'+self.fixUpUrl(opts.ShareUrl)+'"}').attr("href",self.fixUpUrl(opts.LightboxUrl));}if($link.attr("href").search(/^\//)>-1&&window.location.pathname.search(/^\/es\//)>-1){$link.attr("href","/es"+$link.attr("href"));}$visibleWidget.append($link);};this.createPopup=function(){var $ul;$popupContainer=$('<div class="Popup"/>');$popupContainer.attr({"aria-label":"popup","aria-hidden":"true"});$popupContainer.append($('<span class="hide_from_sight" tabindex="0"/>').append(WF.Component.SocialShare.Options.Strings.BeginningOfPopup[WF.Page.lang]));$popupContainer.append($('<h2 class="DisclosureHeader" />').append(WF.Component.SocialShare.Options.Strings.DisclosureHeader[WF.Page.lang]));$popupContainer.bind("keypress",function(evt){if(evt.keyCode==27){self.hide(evt);}});$ul=$('<ul class=""/>');$.each(WF.Component.SocialShare.Options.PopupItems,function(i,item){var opts=WF.Component.SocialShare.Options.Shares[item];$ul.append($("<li/>").append($("<a/>").addClass("ShareLink").addClass(opts.ImageClass).attr("href",self.fixUpUrl(opts.ShareUrl)).attr("target","_blank").attr("data-mrkt-tracking-id",opts.DataMrktTrackingId).html(opts.Name[WF.Page.lang]).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"url":WF.Utils.addUrlParam(window.location.href,"ss",opts.TrackingCodeShort),"event":"LinkActivated","eventType":evt.type,"eventDescription":opts.TrackingCodeLong+"Continue"});})));});$popupContainer.append($ul);$popupContainer.append($('<p class="Disclosure" />').html(WF.Component.SocialShare.Options.Strings.DisclosureText[WF.Page.lang]));$popupContainer.append($('<span class="hide_from_sight" tabindex="0"/>').append(WF.Component.SocialShare.Options.Strings.EndOfPopup[WF.Page.lang]));$visibleWidget.after($popupContainer);};this.createOldStylePopup=function(){var $ul;$popupContainer=$el.parents(".sideUtility").find(".c52");$popupContainer.append($('<span class="hide" tabindex="0"/>').append(WF.Component.SocialShare.Options.Strings.BeginningOfPopup[WF.Page.lang]));$popupContainer.append($('<h2 class="DisclosureHeader" />').append(WF.Component.SocialShare.Options.Strings.DisclosureHeader[WF.Page.lang]));$popupContainer.bind("keypress",function(evt){if(evt.keyCode==27){self.hide(evt);}});$ul=$('<ul class="SocialShareList"/>');$.each(WF.Component.SocialShare.Options.PopupItems,function(i,item){var opts=WF.Component.SocialShare.Options.Shares[item];
$ul.append($("<li/>").append($("<a/>").addClass("ShareLink").addClass(opts.OldStyleImageClass).attr("href",self.fixUpUrl(opts.ShareUrl)).attr("target","_blank").attr("data-mrkt-tracking-id",opts.DataMrktTrackingId).html(opts.Name[WF.Page.lang]).bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}WF.Utils.trackVS({"url":WF.Utils.addUrlParam(window.location.href,"ss",opts.TrackingCodeShort),"event":"LinkActivated","eventType":evt.type,"eventDescription":opts.TrackingCodeLong+"Continue"});})));});$popupContainer.append($ul);$popupContainer.append($('<p class="Disclosure" />').html(WF.Component.SocialShare.Options.Strings.DisclosureText[WF.Page.lang]));$popupContainer.append($('<span class="hide" tabindex="0"/>').append(WF.Component.SocialShare.Options.Strings.EndOfPopup[WF.Page.lang]));};this.fixUpUrl=function(url){var pageHeader=$("h1:first").clone();pageHeader.find("span").remove();pageHeader=WF.Utils.removeHtmlTags(pageHeader.html()).replace(/[^\x20-\x7f-]/g,"").replace(/\s*-\s*$/,"");url=url.replace(/EMAIL_BODY/g,function(){var metaDesc="";if(navigator.userAgent.indexOf("MSIE")==-1){metaDesc="\n"+$("meta[name=description]").attr("content");}return encodeURIComponent(WF.Component.SocialShare.Options.Strings.EmailIntro[WF.Page.lang]+pageHeader+metaDesc+"\n\n")+"(THIS_URL?ss=email)";});pageHeader=pageHeader.replace(/&amp;/g,"&");url=url.replace(/THIS_HEADER/g,encodeURIComponent(pageHeader));url=url.replace(/EMAIL_SUBJECT/g,"Wellsfargo.com: "+encodeURIComponent(pageHeader));url=url.replace(/THIS_TITLE/g,encodeURIComponent(document.title));url=url.replace(/\(THIS_URL(\?[a-z0-9=&\+_]+)?\)/g,function(all,params){var pageUrl=window.location.href;if(params){params=params.substr(1);$.each(params.split(/&/),function(i,pair){var x=pair.split("=");pageUrl=WF.Utils.addUrlParam(pageUrl,x[0],x[1]);});}var parsedUrl=self.parseUrl(pageUrl);if(WF.Component.SocialShare.Options.ParameterSharingStyle=="listed"){$.each(parsedUrl.parameters,function(k,v){if($.inArray(k,WF.Component.SocialShare.Options.ParametersToShare)==-1){delete parsedUrl.parameters[k];}});}else{if(WF.Component.SocialShare.Options.ParameterSharingStyle=="all"){$.grep(parsedUrl.parameters,function(v,k){if($.inArray(k,WF.Component.SocialShare.Options.ParametersToNeverShare)!=-1){delete parsedUrl.parameters[k];}});}}return encodeURIComponent(self.constructUrl(parsedUrl));});return url;};this.show=function(evt){evt.preventDefault();self.positionPopup();$visibleWidget.find(".PopupOpener").addClass("active");$popupContainer.show().removeClass("hide");WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"socialShareOpen"});};this.hide=function(evt){evt.preventDefault();$visibleWidget.find(".PopupOpener").removeClass("active");$popupContainer.hide();WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"socialShareClosed"});};this.positionPopup=function(){var opener_pos=$popupOpener.offset(),opener_size=WF.Utils.getDimensions($popupOpener),dir,marginBottom=parseFloat($popupOpener.css("marginBottom").replace(/[^0-9.-]/g,""),10),paddingBottom=parseFloat($popupOpener.css("paddingBottom").replace(/[^0-9.-]/g,""),10),paddingTop=parseFloat($popupOpener.css("paddingTop").replace(/[^0-9.-]/g,""),10),offsetX=0,offsetY=15;if($popupOpener.hasClass("c52Link")){if($popupOpener.parents(".sideUtility").hasClass("top")){dir="tr";offsetX=-43;offsetY=15;}else{dir="tl";offsetX=0;offsetY=15;}}else{dir=self.getViewportQuadrant(opener_pos);}if(dir.substr(0,1)=="b"){offsetY-=12;}if(dir.substr(1,1)=="r"){offsetX+=12;}switch(dir){case"tl":$popupContainer.css({"top":(opener_pos.top+opener_size.height+marginBottom+offsetY)+"px","left":(opener_pos.left+offsetX)+"px"});break;case"tr":$popupContainer.css({"top":(opener_pos.top+opener_size.height+marginBottom+offsetY)+"px","right":($("body").width()-(opener_pos.left+opener_size.width)+offsetX)+"px"});break;case"bl":$popupContainer.css({"top":(opener_pos.top-$popupContainer.height()-offsetY-paddingBottom-paddingTop-marginBottom)+"px","left":(opener_pos.left+offsetX)+"px"});break;case"br":$popupContainer.css({"top":(opener_pos.top-$popupContainer.height()-offsetY-paddingBottom-paddingTop-marginBottom)+"px","right":($("body").width()-(opener_pos.left+opener_size.width)+offsetX)+"px"});break;}$popupContainer.removeClass("tl").removeClass("tr").removeClass("bl").removeClass("br").addClass(dir);};this.getViewportQuadrant=function(pos){var scroll={"top":$(window).scrollTop(),"left":$(window).scrollLeft()};var bounds=WF.Utils.getViewportSize();var vert="b",horz="l";if((pos.top-scroll.top)<bounds.height/2){vert="t";}if((pos.left-scroll.left)>bounds.width/2){horz="r";}return vert+horz;};this.constructUrl=function(urlObj){var ret=urlObj.protocol+"://"+urlObj.hostname+urlObj.port+urlObj.pathname;if(urlObj.protocol=="file"){ret=ret.replace("://",":///");}if(!$.isEmptyObject(urlObj.parameters)){ret+="?"+$.map(urlObj.parameters,function(v,k){return encodeURIComponent(k)+"="+encodeURIComponent(v);}).join("&");}if(urlObj.anchor.length>1){ret+=urlObj.anchor;}return ret;};this.parseUrl=function(url){var ret={"protocol":"","hostname":"","port":"","pathname":"/","parameters":{},"anchor":"#"};var match;if(match=url.match(/^(https?):/)){ret.protocol=match[1];}else{return false;}if(match=url.match(/:\/\/(([a-z0-9]([a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,10})[\/:$]/i)){ret.hostname=match[1].toLowerCase();}else{return false;}if(match=url.match(/:(\d{1,5})[\/$]/)){ret.port=match[1];}if(match=url.match(/.{9}[0-9a-z:]\/([-a-z0-9_\/\.% ]+)/i)){ret.pathname+=match[1];}if(match=url.match(/#(\w+)/)){ret.anchor+=match[1];}if(match=url.match(/\?([-\w\.!~\*'\(\)%+&=\.]+)/)){$.each(match[1].split("&"),function(i,pair){var temp=decodeURIComponent(pair).replace(/\+/g," ").split("=");if(temp[1].match(/^-?[\d\.]+$/)){if(temp[1].match(/\./)){temp[1]=parseFloat(temp[1],10);}else{temp[1]=parseInt(temp[1],10);}}else{if(temp[1].match(/^(true|false)$/i)){temp[1]=(temp[1].search(/^true$/i)!=-1);}}ret.parameters[temp[0]]=temp[1];});}return ret;};this.init=function(){if(useOldStyle){self.createOldStyleVisibleWidget();self.createOldStylePopup();}else{self.createVisibleWidget();self.createPopup();}WF.OnLoads.setupLightboxes($el.parent());};self.init();};WF.OnLoads.setupSocialShare=function(root){if(WF.Component.SocialShare.hasRunSetup){return;}else{WF.Component.SocialShare.hasRunSetup=true;}if(typeof root=="undefined"){root=$("body");}$(root).find(".SocialShare").each(function(){new WF.Component.SocialShare.Widget(this);});$(root).find(".sideUtility ul li a.printLink").parent().each(function(){$(this).after('<li><span>&nbsp;</span><div class="c52noLink"></div>');var elem=$(this).parent().find(".c52noLink").get(0);new WF.Component.SocialShare.Widget($(this).parent().find(".c52noLink"));});};
WF.Component.FinEdShowMore=function(elem){var $link=$(elem);var self=this;var dataAttributes=["primaryTopic","secondaryTopic","tertiaryTopic","publicationId","pageId","primaryId1","primaryId2","primaryId3","startArticle","endArticle","templateId"];this.buildPostQueryMap=function($link){var ret={};$.each(dataAttributes,function(idx,val){ret[val]=$link.data(val);});return ret;};this.findOutermostNode=function($link){var $node=$link.parent();if($node.parent().get(0).tagName=="ASIDE"){$node=$node.parent();}return $node;};this.getClist=function(){var clist=[];var $item=self.findOutermostNode($link).prev();while($item.get(0).tagName=="ARTICLE"){clist.push($item);$item=$item.prev();}clist=$.map(clist,function($article){var cid=$article.data("cid");var ctid=$article.data("ctid");return WF.Utils.stripTcm(cid+"~"+ctid);}).reverse().join("|");return clist;};this.updateLinkDataAttributes=function(data){if(data.response.startArticleIndex){$link.data("startArticle",data.response.startArticleIndex);}if(data.response.endArticleIndex){$link.data("endArticle",data.response.endArticleIndex);}};WF.Utils.trackVS({"event":"PageLoad","eventDescription":"DisplaySecondaryArticleList","clist":self.getClist()});$link.bind("click keypress",function(evt){if(evt.type=="keypress"&&evt.keyCode!=13){return;}var url=$(this).data("requestUrl")||"/as/SecondaryArticles";var clist=$.map($(".mainContentCol").find(".c48").parent(),function(jq){jq=$(jq);var cid=jq.data("cid");var ctid=jq.data("ctid");return WF.Utils.stripTcm(cid+"~"+ctid);}).join("|");$.post(url,self.buildPostQueryMap($link),function(data,txtStatus){if(!data.response){$link.fadeOut(500);return;}self.updateLinkDataAttributes(data);var clist=[];for(var i=0;i<data.response.secondaryArticles.length;i++){var $node=$(data.response.secondaryArticles[i].articleContent);$node.css("display","none").insertBefore(self.findOutermostNode($link)).slideDown(500);var cid=data.response.secondaryArticles[i].articleComponentId;var ctid=data.response.secondaryArticles[i].articleComponentTemplateId;clist.push(WF.Utils.stripTcm(cid+"~"+ctid));}if(data.response&&!data.response.showMoreLink){$link.parent().html(WF.Strings.Components.ShowMore.noMoreArticles[WF.Page.lang]);}WF.Utils.trackVS({"event":"LinkActivated","eventType":evt.type,"eventDescription":"DisplaySecondaryArticleList","clist":clist.join("|")});},"json");evt.preventDefault();});};WF.OnLoads.setupFinEdShowMores=function(root){if($(root).get(0).tagName!="BODY"){return;}if(!$(".c48").length&&!WF.Browser.isMobile){return;}WF.Page.FinEdShowMore=[];$(root).find(".c48showMore a").each(function(){WF.Component.FinEdShowMore(this);});};
WF.Utils.convertVarsToNamespaces();$(document).ready(function(){if(typeof window.WFonDocReady=="function"){window.WFonDocReady();}if(window.location.hash&&window.location.hash.length>1){WF.Utils.setDelayedScrollTo(window.location.hash);}});
